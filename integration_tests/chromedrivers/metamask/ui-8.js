LavaPack.loadBundle([[6776,{"../../store/actions":7400,react:5183,"react-redux":5141},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useSnapSettings=function({snapId:e}){const t=(0,r.useDispatch)(),[n,s]=(0,a.useState)(!0),[i,l]=(0,a.useState)(undefined),[u,c]=(0,a.useState)(undefined);return(0,a.useEffect)((()=>{let n=!1;return e&&async function(e){try{c(undefined),s(!0);const a=await(0,o.handleSnapRequest)({snapId:e,origin:"",handler:"onSettingsPage",request:{jsonrpc:"2.0",method:" "}});n||(l(a),(0,o.forceUpdateMetamaskState)(t))}catch(e){n||c(e)}finally{n||s(!1)}}(e),()=>{n=!0}}),[e]),{data:i,error:u,loading:n}};var a=e("react"),r=e("react-redux"),o=e("../../store/actions")}}},{package:"$root$",file:"ui/hooks/snaps/useSnapSettings.ts"}],[6777,{"../../../shared/constants/swaps":5669,"../../../shared/modules/selectors/networks":5727,"../../ducks/swaps/swaps":6684,lodash:4779,react:5183,"react-redux":5141},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=e("react"),r=e("react-redux"),o=e("lodash"),s=e("../../../shared/modules/selectors/networks"),i=e("../../../shared/constants/swaps"),l=e("../../ducks/swaps/swaps");n.default=function(){const e=(0,r.useSelector)(s.getCurrentChainId),t=(0,r.useSelector)(l.getFromToken,o.isEqual),n=(0,a.useMemo)((()=>{if(!t)return null;const n=i.SWAPS_CHAINID_DEFAULT_TOKEN_MAP[e]??null;return n?n.address===(null==t?void 0:t.address)?i.SWAPS_CHAINID_COMMON_TOKEN_PAIR[e]??null:n:null}),[e,null==t?void 0:t.address]);return n||console.warn(`No Swap default token found for chainId: ${e}`),{defaultToToken:n}}}}},{package:"$root$",file:"ui/hooks/swap/useSwapDefaultToToken.ts"}],[6778,{"../../shared/modules/conversion.utils":5710,"../../shared/modules/selectors/networks":5727,"../ducks/metamask/metamask":6676,"../helpers/utils/token-util":6734,"../selectors":7385,"ethereumjs-util":4251,react:5183,"react-redux":5141},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useAccountTotalCrossChainFiatBalance=void 0;var a=e("react-redux"),r=e("ethereumjs-util"),o=e("react"),s=e("../ducks/metamask/metamask"),i=e("../selectors"),l=e("../../shared/modules/conversion.utils"),u=e("../helpers/utils/token-util"),c=e("../../shared/modules/selectors/networks");n.useAccountTotalCrossChainFiatBalance=(e,t)=>{const n=(0,a.useSelector)(c.getNetworkConfigurationsByChainId),d=(0,a.useSelector)(s.getCurrencyRates),f=(0,a.useSelector)(s.getCurrentCurrency),m=(0,a.useSelector)(i.getCrossChainTokenExchangeRates,a.shallowEqual),p=(0,a.useSelector)(i.getCrossChainMetaMaskCachedBalances),g=(0,o.useMemo)((()=>({...m})),[m]),h=(0,o.useMemo)((()=>t.map((t=>{var a,o;const{tokensWithBalances:s}=t,i=n[t.chainId].nativeCurrency,c=null==d||null===(a=d[i])||void 0===a?void 0:a.conversionRate,m=s.map((e=>{var n;const a=null==g||null===(n=g[t.chainId])||void 0===n?void 0:n[(0,r.toChecksumAddress)(e.address)];return(0,u.getTokenFiatAmount)(a,c,f,e.string,e.symbol,!1,!1)})),h=(null==p||null===(o=p[t.chainId])||void 0===o?void 0:o[null==e?void 0:e.address])??0,y=(0,l.getValueFromWeiHex)({value:h,toCurrency:f,conversionRate:c,numberOfDecimals:2});return{...t,tokenFiatBalances:m,nativeFiatValue:y}}))),[t,n,d,g,p,null==e?void 0:e.address,f]);return{totalFiatBalance:(0,o.useMemo)((()=>h.reduce(((e,t)=>{const n=t.tokenFiatBalances.filter((e=>e!==undefined)),a=(0,l.sumDecimals)(t.nativeFiatValue,...n);return e+(a.toNumber?a.toNumber():Number(a))}),0)),[h]).toString(10),tokenFiatBalancesCrossChains:h}}}}},{package:"$root$",file:"ui/hooks/useAccountTotalCrossChainFiatBalance.ts"}],[6779,{"../../shared/modules/conversion.utils":5710,"../../shared/modules/selectors/networks":5727,"../ducks/metamask/metamask":6676,"../helpers/utils/confirm-tx.util":6715,"../helpers/utils/token-util":6734,"../helpers/utils/util":6737,"../selectors":7385,"./useTokenBalances":6819,"ethereumjs-util":4251,react:5183,"react-redux":5141},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useAccountTotalFiatBalance=void 0;var a=e("react-redux"),r=e("ethereumjs-util"),o=e("react"),s=e("../../shared/modules/selectors/networks"),i=e("../selectors"),l=e("../../shared/modules/conversion.utils"),u=e("../ducks/metamask/metamask"),c=e("../helpers/utils/confirm-tx.util"),d=e("../helpers/utils/token-util"),f=e("../helpers/utils/util"),m=e("./useTokenBalances");n.useAccountTotalFiatBalance=(e,t)=>{const n=(0,a.useSelector)(s.getCurrentChainId),p=(0,a.useSelector)(u.getConversionRate),g=(0,a.useSelector)(u.getCurrentCurrency),h=(0,a.useSelector)(i.getTokenExchangeRates,a.shallowEqual),y=(0,a.useSelector)(i.getConfirmationExchangeRates),v=(0,a.useSelector)(i.getMetaMaskCachedBalances),k=(null==v?void 0:v[null==e?void 0:e.address])??0,b=(0,l.getValueFromWeiHex)({value:k,toCurrency:g,conversionRate:p,numberOfDecimals:2}),T=(0,a.useSelector)(i.getAllTokens),x=(0,o.useMemo)((()=>{var t;return(null==T||null===(t=T[n])||void 0===t?void 0:t[null==e?void 0:e.address])??[]}),[null==e?void 0:e.address,n,T]),w=(0,a.useSelector)(i.getTokenList),C=(0,a.useSelector)(i.getNativeCurrencyImage),E=(0,a.useSelector)(u.getNativeCurrency),{tokensWithBalances:_}=(0,m.useTokenTracker)({chainId:n,tokens:x,address:null==e?void 0:e.address,hideZeroBalanceTokens:t}),S=(0,o.useMemo)((()=>({...h,...y})),[y,h]),M=(0,o.useMemo)((()=>_.map((e=>{const t=S[(0,r.toChecksumAddress)(e.address)];return(0,d.getTokenFiatAmount)(t,p,g,e.string,e.symbol,!1,!1)}))),[_,S,p,g]),I=(0,o.useMemo)((()=>((e,t)=>{const n=[];return t.forEach((t=>{const a=e[t.address.toLowerCase()];a&&n.push({...a,balance:t.balance,string:t.string,balanceError:t.balanceError})})),n})(w,_)),[w,_]),A=(0,o.useMemo)((()=>[{iconUrl:C,symbol:E,fiatBalance:b},...I.map(((e,t)=>({...e,fiatBalance:M[t]})))]),[I,M,C,E,b]),P=(0,o.useMemo)((()=>A.sort(((e,t)=>parseFloat(t.fiatBalance)-parseFloat(e.fiatBalance)))),[A]),O=(0,l.sumDecimals)(b,...M).toString(10),N=(0,o.useMemo)((()=>(_.forEach((e=>{e.string=(0,f.roundToDecimalPlacesRemovingExtraZeroes)(e.string,5);const t=S[(0,r.toChecksumAddress)(e.address)];e.tokenFiatAmount=(0,d.getTokenFiatAmount)(t,p,g,e.string,e.symbol,!1,!1)||"0"})),_)),[_,S,p,g]),B=(0,c.formatCurrency)(O,g);let D=(0,l.getWeiHexFromDecimalValue)({value:O,fromCurrency:g,conversionRate:p,invertConversionRate:!0});return"NaN"===D&&(D="0x0"),{formattedFiat:B,totalWeiBalance:D,totalFiatBalance:O,tokensWithBalances:N,loading:!1,orderedTokenList:P,mergedRates:S}}}}},{package:"$root$",file:"ui/hooks/useAccountTotalFiatBalance.js"}],[678,{"./lib":675},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.patchTags=void 0;const a=e("./lib"),r=[];n.patchTags=e=>{e.forEach((e=>{r.find((t=>t===e))||((0,a.addSemanticEncode)(e,(t=>{if(t instanceof a.DataItem&&t.getTag()===e)return t.getData()})),(0,a.addSemanticDecode)(e,(t=>new a.DataItem(t,e))),r.push(e))}))}}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/utils.js"}],[6780,{"../ducks/metamask/metamask":6676,"../selectors":7385,"../store/actions":7400,"./useMultiPolling":6799,"react-redux":5141},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=e("react-redux"),o=e("../selectors"),s=e("../store/actions"),i=e("../ducks/metamask/metamask"),l=(a=e("./useMultiPolling"))&&a.__esModule?a:{default:a};n.default=()=>{const e=(0,r.useSelector)(o.getNetworkClientIdsToPoll),t=(0,r.useSelector)(i.getCompletedOnboarding),n=(0,r.useSelector)(i.getIsUnlocked),a=t&&n;(0,l.default)({startPolling:s.accountTrackerStartPolling,stopPollingByPollingToken:s.accountTrackerStopPollingByPollingToken,input:a?e:[]})}}}},{package:"$root$",file:"ui/hooks/useAccountTrackerPolling.ts"}],[6781,{"../ducks/confirm-alerts/confirm-alerts":6668,"../helpers/constants/design-system":6688,"../selectors/alerts":7377,react:5183,"react-redux":5141},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=e("react-redux"),r=e("react"),o=e("../selectors/alerts"),s=e("../ducks/confirm-alerts/confirm-alerts"),i=e("../helpers/constants/design-system");function l(e){const t={[i.Severity.Danger]:3,[i.Severity.Warning]:2,[i.Severity.Info]:1};return e.sort(((e,n)=>t[n.severity]-t[e.severity]))}n.default=e=>{const t=(0,a.useDispatch)(),n=l((0,a.useSelector)((t=>(0,o.selectAlerts)(t,e)))),u=(0,a.useSelector)((t=>(0,o.selectConfirmedAlertKeys)(t,e))),c=l((0,a.useSelector)((t=>(0,o.selectGeneralAlerts)(t,e)))),d=l((0,a.useSelector)((t=>(0,o.selectFieldAlerts)(t,e)))),f=(0,r.useCallback)((e=>e?n.filter((t=>t.field===e)):[]),[n]),m=(0,r.useCallback)(((n,a)=>{t((0,s.setAlertConfirmed)(e,n,a))}),[t,s.setAlertConfirmed,e]),p=(0,r.useCallback)((e=>u.includes(e)),[u]),g=n.filter((e=>!p(e.key)&&e.severity===i.Severity.Danger)),h=n.length>0,y=n.filter((e=>e.severity===i.Severity.Danger)),v=g.length>0,k=d.filter((e=>!p(e.key)&&e.severity===i.Severity.Danger));return{alerts:n,fieldAlerts:d,generalAlerts:c,getFieldAlerts:f,hasAlerts:h,dangerAlerts:y,hasDangerAlerts:(null==y?void 0:y.length)>0,hasUnconfirmedDangerAlerts:v,isAlertConfirmed:p,setAlertConfirmed:m,unconfirmedDangerAlerts:g,unconfirmedFieldDangerAlerts:k,hasUnconfirmedFieldDangerAlerts:k.length>0}}}}},{package:"$root$",file:"ui/hooks/useAlerts.ts"}],[6782,{react:5183},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useAsyncResult=r,n.useAsyncResultOrThrow=function(e,t=[]){const n=r(e,t);if(n.error)throw n.error;return n};var a=e("react");function r(e,t=[]){const[n,r]=(0,a.useState)({pending:!0});return(0,a.useEffect)((()=>{r({pending:!0});let t=!1;return e().then((e=>{t||r({pending:!1,value:e})})).catch((e=>{t||r({pending:!1,error:e})})),()=>{t=!0}}),t),n}}}},{package:"$root$",file:"ui/hooks/useAsyncResult.ts"}],[6783,{"../../shared/constants/copy":5646,"../../shared/constants/time":5671,"./useTimeout":6818,"copy-to-clipboard":4067,react:5183},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useCopyToClipboard=function(e=u){const[t,n]=(0,r.useState)(!1),a=(0,l.useTimeout)((()=>{(0,o.default)(" ",i.COPY_OPTIONS),n(!1)}),e,!1),s=(0,r.useCallback)((e=>{n(!0),a(),(0,o.default)(e,i.COPY_OPTIONS)}),[a]);return[t,s]};var a,r=e("react"),o=(a=e("copy-to-clipboard"))&&a.__esModule?a:{default:a},s=e("../../shared/constants/time"),i=e("../../shared/constants/copy"),l=e("./useTimeout");const u=s.MINUTE}}},{package:"$root$",file:"ui/hooks/useCopyToClipboard.js"}],[6785,{"../../shared/modules/selectors/networks":5727,"../ducks/metamask/metamask":6676,"../selectors":7385,"../store/actions":7400,"./usePolling":6810,"react-redux":5141},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=e("react-redux"),o=e("../selectors"),s=e("../../shared/modules/selectors/networks"),i=e("../store/actions"),l=e("../ducks/metamask/metamask"),u=(a=e("./usePolling"))&&a.__esModule?a:{default:a};n.default=()=>{const e=(0,r.useSelector)(o.getUseCurrencyRateCheck),t=(0,r.useSelector)(l.getCompletedOnboarding),n=(0,r.useSelector)(l.getIsUnlocked),a=(0,r.useSelector)(s.getNetworkConfigurationsByChainId),c=t&&n&&e,d=[...new Set(Object.values(a).map((e=>e.nativeCurrency)))];(0,u.default)({startPolling:i.currencyRateStartPolling,stopPollingByPollingToken:i.currencyRateStopPollingByPollingToken,input:d,enabled:c})}}}},{package:"$root$",file:"ui/hooks/useCurrencyRatePolling.ts"}],[6786,{"../../shared/constants/swaps":5669,"../../shared/modules/selectors/networks":5727,"../../shared/modules/string-utils":5730,"../ducks/metamask/metamask":6676,"../helpers/constants/routes":6694,"react-redux":5141,"react-router-dom":5168},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useCurrentAsset=function(){var e;const t=(0,r.useRouteMatch)({path:`${i.ASSET_ROUTE}/:asset`,exact:!0,strict:!0}),n=null==t||null===(e=t.params)||void 0===e?void 0:e.asset,c=(0,a.useSelector)(o.getTokens),d=n&&c.find((({address:e})=>(0,u.isEqualCaseInsensitive)(e,n))),f=(0,a.useSelector)(s.getCurrentChainId);return d??(l.SWAPS_CHAINID_DEFAULT_TOKEN_MAP[f]||l.ETH_SWAPS_TOKEN_OBJECT)};var a=e("react-redux"),r=e("react-router-dom"),o=e("../ducks/metamask/metamask"),s=e("../../shared/modules/selectors/networks"),i=e("../helpers/constants/routes"),l=e("../../shared/constants/swaps"),u=e("../../shared/modules/string-utils")}}},{package:"$root$",file:"ui/hooks/useCurrentAsset.js"}],[6787,{"../../shared/constants/first-party-contracts":5648,"../../shared/modules/hexstring-utils":5716,"../ducks/domains":6670,"../selectors":7385,"../selectors/nft":7390,"./useName":6803,"./useNftCollectionsMetadata":6804,"@metamask/name-controller":2093,"react-redux":5141},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useDisplayName=function(e){return f([e])[0]},n.useDisplayNames=f;var a=e("@metamask/name-controller"),r=e("react-redux"),o=e("../../shared/constants/first-party-contracts"),s=e("../../shared/modules/hexstring-utils"),i=e("../ducks/domains"),l=e("../selectors"),u=e("../selectors/nft"),c=e("./useName"),d=e("./useNftCollectionsMetadata");function f(e){const t=(0,c.useNames)(e),n=e.map((({type:e,value:t,variation:n})=>{if(e!==a.NameType.ETHEREUM_ADDRESS)return undefined;const r=t.toLowerCase();return Object.keys(o.FIRST_PARTY_CONTRACT_NAMES).find((e=>{var t;const a=null===(t=o.FIRST_PARTY_CONTRACT_NAMES[e])||void 0===t?void 0:t[n];return(null==a?void 0:a.toLowerCase())===r}))}));const f=function(e){const t=(0,r.useSelector)(l.selectERC20TokensByChain);return e.map((({preferContractSymbol:e,type:n,value:r,variation:o})=>{var s;if(n!==a.NameType.ETHEREUM_ADDRESS)return undefined;const i=r.toLowerCase(),{iconUrl:l,name:u,symbol:c}=(null==t||null===(s=t[o])||void 0===s||null===(s=s.data)||void 0===s?void 0:s[i])??{};return{name:e&&c?c:u,image:l}}))}(e),m=function(e){const t=(0,r.useSelector)(u.getNftContractsByAddressByChain);return e.map((({type:e,value:n,variation:r})=>{var o;if(e!==a.NameType.ETHEREUM_ADDRESS)return undefined;const s=n.toLowerCase(),i=t[r];return null==i||null===(o=i[s])||void 0===o?void 0:o.name}))}(e),p=function(e){const t=e.filter((({type:e})=>e===a.NameType.ETHEREUM_ADDRESS)).map((({value:e,variation:t})=>({chainId:t,contractAddress:e}))),n=(0,d.useNftCollectionsMetadata)(t);return e.map((({type:e,value:t,variation:r})=>{var o;if(e!==a.NameType.ETHEREUM_ADDRESS)return undefined;const s=null===(o=n[r])||void 0===o?void 0:o[t.toLowerCase()],i=!1!==(null==s?void 0:s.isSpam);if(!s||i)return undefined;const{name:l,image:u}=s;return{name:l,image:u}}))}(e),g=function(e){const t=(0,r.useSelector)(i.getDomainResolutions);return e.map((({type:e,value:n})=>{if(e!==a.NameType.ETHEREUM_ADDRESS)return undefined;const r=null==t?void 0:t.find((e=>(0,s.toChecksumHexAddress)(e.resolvedAddress)===(0,s.toChecksumHexAddress)(n)));return null==r?void 0:r.domainName}))}(e);return e.map(((e,a)=>{const r=t[a],o=n[a],s=f[a],i=m[a],l=p[a],u=g[a],c=(null==r?void 0:r.name)||o||(null==l?void 0:l.name)||(null==s?void 0:s.name)||i||u||null,d=(null==l?void 0:l.image)||(null==s?void 0:s.image);return{name:c,hasPetname:Boolean(null==r?void 0:r.name),contractDisplayName:null==s?void 0:s.name,image:d}}))}}}},{package:"$root$",file:"ui/hooks/useDisplayName.ts"}],[6788,{lodash:4779,react:5183},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useEqualityCheck=function(e,t=r.isEqual){const[n,o]=(0,a.useState)(e);return(0,a.useLayoutEffect)((()=>{t(e,n)||o(e)}),[e,t,n]),n};var a=e("react"),r=e("lodash")}}},{package:"$root$",file:"ui/hooks/useEqualityCheck.js"}],[6789,{"../../shared/modules/conversion.utils":5710,"../ducks/metamask/metamask":6676,"../helpers/utils/confirm-tx.util":6715,"../selectors":7385,react:5183,"react-redux":5141},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useEthFiatAmount=function(e,t={},n){const u=(0,r.useSelector)(i.getConversionRate),c=(0,r.useSelector)(i.getCurrentCurrency),d=(0,r.useSelector)(o.getShouldShowFiat),f=t.showFiat??d,m=(0,a.useMemo)((()=>(0,l.decEthToConvertedCurrency)(e,c,u)),[u,c,e]);if(!f||"ETH"===c.toUpperCase()||u<=0||e===undefined)return undefined;return n?(0,s.formatCurrency)(m,c):`${(0,s.formatCurrency)(m,c)} ${c.toUpperCase()}`};var a=e("react"),r=e("react-redux"),o=e("../selectors"),s=e("../helpers/utils/confirm-tx.util"),i=e("../ducks/metamask/metamask"),l=e("../../shared/modules/conversion.utils")}}},{package:"$root$",file:"ui/hooks/useEthFiatAmount.js"}],[679,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){
/*!
 * @kurkle/color v0.3.2
 * https://github.com/kurkle/color#readme
 * (c) 2023 Jukka Kurkela
 * Released under the MIT License
 */
!function(e,a){"object"==typeof n&&void 0!==t?t.exports=a():"function"==typeof define&&define.amd?define(a):(e="undefined"!=typeof globalThis?globalThis:e||self)["@kurkle/color"]=a()}(this,(function(){function e(e){return e+.5|0}const t=(e,t,n)=>Math.max(Math.min(e,n),t);function n(n){return t(e(2.55*n),0,255)}function a(n){return t(e(255*n),0,255)}function r(n){return t(e(n/2.55)/100,0,1)}function o(n){return t(e(100*n),0,100)}const s={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},i=[..."0123456789ABCDEF"],l=e=>i[15&e],u=e=>i[(240&e)>>4]+i[15&e],c=e=>(240&e)>>4==(15&e);function d(e){var t,n=e.length;return"#"===e[0]&&(4===n||5===n?t={r:255&17*s[e[1]],g:255&17*s[e[2]],b:255&17*s[e[3]],a:5===n?17*s[e[4]]:255}:7!==n&&9!==n||(t={r:s[e[1]]<<4|s[e[2]],g:s[e[3]]<<4|s[e[4]],b:s[e[5]]<<4|s[e[6]],a:9===n?s[e[7]]<<4|s[e[8]]:255})),t}function f(e){var t=(e=>c(e.r)&&c(e.g)&&c(e.b)&&c(e.a))(e)?l:u;return e?"#"+t(e.r)+t(e.g)+t(e.b)+((e,t)=>e<255?t(e):"")(e.a,t):undefined}const m=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function p(e,t,n){const a=t*Math.min(n,1-n),r=(t,r=(t+e/30)%12)=>n-a*Math.max(Math.min(r-3,9-r,1),-1);return[r(0),r(8),r(4)]}function g(e,t,n){const a=(a,r=(a+e/60)%6)=>n-n*t*Math.max(Math.min(r,4-r,1),0);return[a(5),a(3),a(1)]}function h(e,t,n){const a=p(e,1,.5);let r;for(t+n>1&&(r=1/(t+n),t*=r,n*=r),r=0;r<3;r++)a[r]*=1-t-n,a[r]+=t;return a}function y(e){const t=e.r/255,n=e.g/255,a=e.b/255,r=Math.max(t,n,a),o=Math.min(t,n,a),s=(r+o)/2;let i,l,u;return r!==o&&(u=r-o,l=s>.5?u/(2-r-o):u/(r+o),i=function(e,t,n,a,r){return e===r?(t-n)/a+(t<n?6:0):t===r?(n-e)/a+2:(e-t)/a+4}(t,n,a,u,r),i=60*i+.5),[0|i,l||0,s]}function v(e,t,n,r){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,r)).map(a)}function k(e,t,n){return v(p,e,t,n)}function b(e,t,n){return v(h,e,t,n)}function T(e,t,n){return v(g,e,t,n)}function x(e){return(e%360+360)%360}function w(e){const t=m.exec(e);let r,o=255;if(!t)return;t[5]!==r&&(o=t[6]?n(+t[5]):a(+t[5]));const s=x(+t[2]),i=+t[3]/100,l=+t[4]/100;return r="hwb"===t[1]?b(s,i,l):"hsv"===t[1]?T(s,i,l):k(s,i,l),{r:r[0],g:r[1],b:r[2],a:o}}function C(e,t){var n=y(e);n[0]=x(n[0]+t),n=k(n),e.r=n[0],e.g=n[1],e.b=n[2]}function E(e){if(!e)return;const t=y(e),n=t[0],a=o(t[1]),s=o(t[2]);return e.a<255?`hsla(${n}, ${a}%, ${s}%, ${r(e.a)})`:`hsl(${n}, ${a}%, ${s}%)`}const _={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},S={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let M;function I(e){M||(M=function(){const e={},t=Object.keys(S),n=Object.keys(_);let a,r,o,s,i;for(a=0;a<t.length;a++){for(s=i=t[a],r=0;r<n.length;r++)o=n[r],i=i.replace(o,_[o]);o=parseInt(S[s],16),e[i]=[o>>16&255,o>>8&255,255&o]}return e}(),M.transparent=[0,0,0,0]);const t=M[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:4===t.length?t[3]:255}}const A=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function P(e){const a=A.exec(e);let r,o,s,i=255;if(a){if(a[7]!==r){const e=+a[7];i=a[8]?n(e):t(255*e,0,255)}return r=+a[1],o=+a[3],s=+a[5],r=255&(a[2]?n(r):t(r,0,255)),o=255&(a[4]?n(o):t(o,0,255)),s=255&(a[6]?n(s):t(s,0,255)),{r:r,g:o,b:s,a:i}}}function O(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${r(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const N=e=>e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055,B=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function D(e,t,n){if(e){let a=y(e);a[t]=Math.max(0,Math.min(a[t]+a[t]*n,0===t?360:1)),a=k(a),e.r=a[0],e.g=a[1],e.b=a[2]}}function R(e,t){return e?Object.assign(t||{},e):e}function F(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=a(e[3]))):(t=R(e,{r:0,g:0,b:0,a:1})).a=a(t.a),t}class j{constructor(e){if(e instanceof j)return e;const t=typeof e;let n;var a;"object"===t?n=F(e):"string"===t&&(n=d(e)||I(e)||("r"===(a=e).charAt(0)?P(a):w(a))),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=R(this._rgb);return e&&(e.a=r(e.a)),e}set rgb(e){this._rgb=F(e)}rgbString(){return this._valid?O(this._rgb):undefined}hexString(){return this._valid?f(this._rgb):undefined}hslString(){return this._valid?E(this._rgb):undefined}mix(e,t){if(e){const n=this.rgb,a=e.rgb;let r;const o=t===r?.5:t,s=2*o-1,i=n.a-a.a,l=((s*i==-1?s:(s+i)/(1+s*i))+1)/2;r=1-l,n.r=255&l*n.r+r*a.r+.5,n.g=255&l*n.g+r*a.g+.5,n.b=255&l*n.b+r*a.b+.5,n.a=o*n.a+(1-o)*a.a,this.rgb=n}return this}interpolate(e,t){return e&&(this._rgb=function(e,t,n){const o=B(r(e.r)),s=B(r(e.g)),i=B(r(e.b));return{r:a(N(o+n*(B(r(t.r))-o))),g:a(N(s+n*(B(r(t.g))-s))),b:a(N(i+n*(B(r(t.b))-i))),a:e.a+n*(t.a-e.a)}}(this._rgb,e._rgb,t)),this}clone(){return new j(this.rgb)}alpha(e){return this._rgb.a=a(e),this}clearer(e){return this._rgb.a*=1-e,this}greyscale(){const t=this._rgb,n=e(.3*t.r+.59*t.g+.11*t.b);return t.r=t.g=t.b=n,this}opaquer(e){return this._rgb.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return D(this._rgb,2,e),this}darken(e){return D(this._rgb,2,-e),this}saturate(e){return D(this._rgb,1,e),this}desaturate(e){return D(this._rgb,1,-e),this}rotate(e){return C(this._rgb,e),this}}function L(e){return new j(e)}var $=Object.freeze({__proto__:null,Color:j,default:L,round:e,lim:t,p2b:n,b2p:function(n){return t(e(n/2.55),0,100)},n2b:a,b2n:r,n2p:o,hexParse:d,hexString:f,rgb2hsl:y,hsl2rgb:k,hwb2rgb:b,hsv2rgb:T,hueParse:w,rotate:C,hslString:E,nameParse:I,rgbParse:P,rgbString:O});return Object.assign(L,$)}))}}},{package:"chart.js>@kurkle/color",file:"node_modules/@kurkle/color/dist/color.cjs"}],[6790,{"../ducks/locale/locale":6675,"../ducks/metamask/metamask":6676,"../helpers/utils/util":6737,"react-redux":5141},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useFiatFormatter=void 0;var a=e("react-redux"),r=e("../ducks/locale/locale"),o=e("../ducks/metamask/metamask"),s=e("../helpers/utils/util");n.useFiatFormatter=()=>{const e=(0,a.useSelector)(r.getIntlLocale),t=(0,a.useSelector)(o.getCurrentCurrency);return(n,a={})=>{const{shorten:r}=a;try{const a=new Intl.NumberFormat(e,{style:"currency",currency:t});if(!r)return a.format(n);const o=a.formatToParts(n);let i="",l="";o.forEach((e=>{"currency"===e.type?i+=e.value:l+=e.value}));const u=(0,s.shortenString)(l,{truncatedCharLimit:15,truncatedStartChars:12,truncatedEndChars:0,skipCharacterInEnd:!0});return o.findIndex((e=>"currency"===e.type))<o.findIndex((e=>"integer"===e.type))?`${i}${u}`:`${u}${i}`}catch(a){const o=new Intl.NumberFormat(e).format(n),i=(0,s.shortenString)(o,{truncatedCharLimit:15,truncatedStartChars:12,truncatedEndChars:0,skipCharacterInEnd:!0});return r?`${i} ${t}`:`${o} ${t}`}}}}}},{package:"$root$",file:"ui/hooks/useFiatFormatter.ts"}],[6791,{"../../shared/modules/selectors/networks":5727,"../ducks/metamask/metamask":6676,"../store/actions":7400,"./usePolling":6810,"lodash/isEqual":4766,react:5183,"react-redux":5141},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useGasFeeEstimates=function(e){const t=(0,r.useSelector)(l.getSelectedNetworkClientId),n=e??t,[c,d]=(0,o.useState)(""),f=(0,r.useSelector)((e=>(0,s.getGasEstimateTypeByChainId)(e,c))),m=(0,r.useSelector)((e=>(0,s.getGasFeeEstimatesByChainId)(e,c)),a.default),p=(0,r.useSelector)((e=>(0,s.getIsGasEstimatesLoadingByChainId)(e,{chainId:c,networkClientId:n}))),g=(0,r.useSelector)((e=>(0,s.getIsNetworkBusyByChainId)(e,c)));return(0,o.useEffect)((()=>{let e=!0;return(0,i.getNetworkConfigurationByNetworkClientId)(n).then((t=>{t&&e&&d(t.chainId)})),()=>{e=!1}}),[n]),(0,u.default)({startPolling:e=>(0,i.gasFeeStartPollingByNetworkClientId)(e.networkClientId),stopPollingByPollingToken:i.gasFeeStopPollingByPollingToken,input:{networkClientId:n}}),{gasFeeEstimates:m,gasEstimateType:f,isGasEstimatesLoading:p,isNetworkBusy:g}};var a=c(e("lodash/isEqual")),r=e("react-redux"),o=e("react"),s=e("../ducks/metamask/metamask"),i=e("../store/actions"),l=e("../../shared/modules/selectors/networks"),u=c(e("./usePolling"));function c(e){return e&&e.__esModule?e:{default:e}}}}},{package:"$root$",file:"ui/hooks/useGasFeeEstimates.js"}],[6792,{"../helpers/utils/util":6737,react:5183},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=e("react"),r=e("../helpers/utils/util");n.default=(e,t)=>{const[n,o]=(0,a.useState)("");return(0,a.useEffect)((()=>{(async()=>{const n=await(0,r.getAssetImageURL)(e,t);o(n)})()}),[e,t]),n}}}},{package:"$root$",file:"ui/hooks/useGetAssetImageUrl.ts"}],[6793,{"../../shared/modules/conversion.utils":5710,"../../shared/modules/selectors/networks":5727,"../selectors":7385,"./useTokenBalances":6819,"bn.js":3950,"react-redux":5141},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useGetFormattedTokensPerChain=void 0;var a=e("react-redux"),r=e("bn.js"),o=e("../selectors"),s=e("../../shared/modules/selectors/networks"),i=e("../../shared/modules/conversion.utils"),l=e("./useTokenBalances");n.useGetFormattedTokensPerChain=(e,t,n,u)=>{const c=(0,a.useSelector)(s.getCurrentChainId),d=(0,a.useSelector)(o.getAllTokens),f=(0,l.useTokenBalances)({chainIds:u});return{formattedTokensWithBalancesPerChain:(n?[c]:u).map((n=>{var a;const o=((null==d||null===(a=d[n])||void 0===a?void 0:a[null==e?void 0:e.address])??[]).reduce(((a,o)=>{var s;const u=(null===(s=f.tokenBalances[e.address])||void 0===s||null===(s=s[n])||void 0===s?void 0:s[o.address])??"0x0";if("0x0"!==u||!t){const e=(0,i.hexToDecimal)(u);a.push({address:o.address,symbol:o.symbol,decimals:o.decimals,balance:e,string:(0,l.stringifyBalance)(new r.BN(e),new r.BN(o.decimals))})}return a}),[]);return{chainId:n,tokensWithBalances:o}}))}}}}},{package:"$root$",file:"ui/hooks/useGetFormattedTokensPerChain.ts"}],[6795,{"../../app/scripts/lib/util":183,"../../shared/constants/network":5658,"../../shared/constants/time":5671,"../../shared/lib/fetch-with-cache":5686,"../selectors":7385,"../selectors/multichain":7388,react:5183,"react-redux":5141},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useIsOriginalNativeTokenSymbol=function(e,t,n,a=""){const[f,m]=(0,r.useState)(!1),p=(0,o.useSelector)(u.useSafeChainsListValidationSelector),g=(0,o.useSelector)(c.getMultichainIsEvm),h=(0,o.useSelector)(c.getMultichainCurrentNetwork);return(0,r.useEffect)((()=>{!async function(n){if(g)try{var r;if(!p)return void m(!0);if((e=>{const t=(0,d.getValidUrl)(e);return null!==t&&("localhost"===t.hostname||"127.0.0.1"===t.hostname)})(a))return void m(!0);const o=i.CHAIN_ID_TO_CURRENCY_SYMBOL_MAP[e];if(o)return void m(o===t);const u=i.CHAIN_ID_TO_CURRENCY_SYMBOL_MAP_NETWORK_COLLISION[e];if(u&&u.some((e=>e.currencySymbol===t)))return void m(!0);const c=(await(0,s.default)({url:i.CHAIN_SPEC_URL,allowStale:!0,cacheOptions:{cacheRefreshTime:l.DAY},functionName:"getSafeChainsList"})).find((e=>e.chainId===parseInt(n,16))),f=(null==c||null===(r=c.nativeCurrency)||void 0===r?void 0:r.symbol)??null;m(f===t)}catch(e){m(!1)}else m(t===(null==h?void 0:h.ticker))}(e)}),[f,e,t,n,a,p]),f};var a,r=e("react"),o=e("react-redux"),s=(a=e("../../shared/lib/fetch-with-cache"))&&a.__esModule?a:{default:a},i=e("../../shared/constants/network"),l=e("../../shared/constants/time"),u=e("../selectors"),c=e("../selectors/multichain"),d=e("../../app/scripts/lib/util")}}},{package:"$root$",file:"ui/hooks/useIsOriginalNativeTokenSymbol.js"}],[6796,{"../selectors":7385,"../store/actions":7400,react:5183,"react-redux":5141},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useIsOriginalTokenSymbol=function(e,t){const[n,i]=(0,a.useState)(null),l=(0,r.useSelector)(s.getTokenList);return(0,a.useEffect)((()=>{!async function(e){var n,a;let r=null===(n=l[null==e?void 0:e.toLowerCase()])||void 0===n?void 0:n.symbol;r||(r=await(0,o.getTokenSymbol)(e)),i((null===(a=r)||void 0===a?void 0:a.toLowerCase())===(null==t?void 0:t.toLowerCase()))}(e)}),[e,t]),n};var a=e("react"),r=e("react-redux"),o=e("../store/actions"),s=e("../selectors")}}},{package:"$root$",file:"ui/hooks/useIsOriginalTokenSymbol.js"}],[6797,{"../store/actions":7400,loglevel:4787,react:5183,"react-redux":5141},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useDisableMetametrics=function(){const e=(0,o.useDispatch)(),[t,n]=(0,r.useState)(!1),[a,s]=(0,r.useState)(null);return{disableMetametrics:(0,r.useCallback)((async()=>{n(!0),e((0,i.showLoadingIndication)()),s(null);try{await e((0,i.setParticipateInMetaMetrics)(!1))}catch(e){throw s(e instanceof Error?e.message:"An unexpected error occurred"),e}finally{n(!1),e((0,i.hideLoadingIndication)())}e((0,i.hideLoadingIndication)())}),[e]),loading:t,error:a}},n.useEnableMetametrics=function(){const e=(0,o.useDispatch)(),[t,n]=(0,r.useState)(!1),[a,l]=(0,r.useState)(null);return{enableMetametrics:(0,r.useCallback)((async()=>{n(!0),e((0,i.showLoadingIndication)()),l(null);try{await e((0,i.setParticipateInMetaMetrics)(!0))}catch(e){throw l(e instanceof Error?e.message:"An unexpected error occurred"),s.default.error(e),e}finally{n(!1),e((0,i.hideLoadingIndication)())}e((0,i.hideLoadingIndication)())}),[e]),loading:t,error:a}};var a,r=e("react"),o=e("react-redux"),s=(a=e("loglevel"))&&a.__esModule?a:{default:a},i=e("../store/actions")}}},{package:"$root$",file:"ui/hooks/useMetametrics.ts"}],[6798,{"../store/actions":7400,"react-redux":5141},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useModalProps=function(){const e=(0,a.useSelector)((e=>{var t;return null===(t=e.appState.modal.modalState)||void 0===t?void 0:t.props})),t=(0,a.useDispatch)();return{props:e,hideModal:()=>t((0,r.hideModal)())}};var a=e("react-redux"),r=e("../store/actions")}}},{package:"$root$",file:"ui/hooks/useModalProps.ts"}],[6799,{react:5183},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=e("react");n.default=e=>{const t=(0,a.useRef)(new Map);(0,a.useEffect)((()=>{for(const n of e.input){const a=JSON.stringify(n);t.current.has(a)||e.startPolling(n).then((e=>t.current.set(a,e)))}for(const[n,a]of t.current.entries()){e.input.some((e=>n===JSON.stringify(e)))||(e.stopPollingByPollingToken(a),t.current.delete(n))}}),[e.input&&JSON.stringify(e.input)]),(0,a.useEffect)((()=>()=>{for(const n of t.current.values())e.stopPollingByPollingToken(n)}),[])}}}},{package:"$root$",file:"ui/hooks/useMultiPolling.ts"}],[680,{react:5183},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(()=>{var t={n:e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return t.d(n,{a:n}),n},d:(e,n)=>{for(var a in n)t.o(n,a)&&!t.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:n[a]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},a={};t.r(a),t.d(a,{LavaDome:()=>ge,toLavaDomeToken:()=>pe});const r=e("react");var o=t.n(r);const{Object:s,Array:i,Function:l,Math:u,parseInt:c,WeakMap:d,Error:f,JSON:m,navigation:p}=globalThis,{defineProperties:g,assign:h,getOwnPropertyDescriptor:y,entries:v,create:k,hasOwn:b}=s,{from:T}=i,{random:x}=u,{stringify:w}=m,C=(e,t,n)=>e&&l.prototype.call.bind(y(e,t)[n]),E=C(globalThis?.Node?.prototype,"ownerDocument","get"),_=C(globalThis?.EventTarget?.prototype,"addEventListener","value"),S=C(globalThis?.DocumentFragment?.prototype,"replaceChildren","value"),M=C(globalThis?.Element?.prototype,"attachShadow","value"),I=C(globalThis?.Document?.prototype,"createElement","value"),A=C(globalThis?.Node?.prototype,"appendChild","value"),P=C(globalThis?.Node?.prototype,"textContent","set"),O=C(globalThis?.Element?.prototype,"setAttribute","value"),N=C(globalThis?.String?.prototype,"toUpperCase","value"),B=C(globalThis?.String?.prototype,"includes","value"),D=C(globalThis?.Array?.prototype,"map","value"),R=C(globalThis?.Array?.prototype,"join","value"),F=C(globalThis?.Array?.prototype,"keys","value"),j=C(globalThis?.Array?.prototype,"at","value"),L=C(globalThis?.WeakMap?.prototype,"get","value"),$=C(globalThis?.WeakMap?.prototype,"set","value"),q=C(globalThis?.Number?.prototype,"toFixed","value"),W=C(globalThis?.NavigateEvent?.prototype,"destination","get"),U=C(globalThis?.NavigationDestination?.prototype,"url","get"),H=C(globalThis?.Event?.prototype,"preventDefault","value"),G=C(globalThis?.Event?.prototype,"stopPropagation","value"),z={isInnerInstance:Symbol("isInnerInstance"),unsafeOpenModeShadow:"unsafeOpenModeShadow"},V=e=>function(t,n,a){const r=e[t];return b(e,t)?typeof r!==n?a:r:a},Y="abcdefghijklmnopqrstuvwxyz",Q="0123456789",K="!@#$%^&*()?.;:\"'[]{}+=-_/",J={letters:Y,digits:Q,symbols:K,alphanumeric:Y+Q,all:Y+N(Y)+Q+K},{letters:X,alphanumeric:Z,all:ee}=J,te=(e,t)=>e[c(q(x()*t))],ne=e=>te(X,26)+R(D(T(F(i(e))),(()=>te(Z,36))),"");function ae(e,t,n=""){return e=R(D(v(e),(([e,t])=>`${e}: ${t} !important`)),"; "),function(){const a=I(document,t());return O(a,"style",e),P(a,n),a}}const re=e=>()=>e(),oe=re(ae({"font-family":ne(20),"-webkit-user-modify":"unset","-webkit-user-select":"none","user-select":"none"},(()=>ne(7)))),se=re(ae({top:"-10px",right:"-10px",position:"fixed","font-size":"1px"},(()=>"span"),ee)),ie=re(ae({display:"none"},(()=>"iframe"))),le=new d;function ue(e,t){t=function(e={}){const{unsafeOpenModeShadow:t,isInnerInstance:n}=z,a=V(h(k(null),e)),r=k(null);return r.isInnerInstance=a(n,"boolean",!1),r.unsafeOpenModeShadow=a(t,"boolean",!1),r}(t),g(this,{text:{value:function(e){if("string"!=typeof e)throw new f(`LavaDomeCore: first argument must be a string, instead got ${w(e)}`);if(void 0===j(T(e),1))return P(r,e);A(n,a),D(T(e),(e=>{const n=I(document,"span");t[z.isInnerInstance]=!0,new ue(n,t).text(e),A(r,n)})),A(r,se())}}});const n=function(e,t){const{unsafeOpenModeShadow:n,isInnerInstance:a}=t;let r=L(le,e);if(!r){const t={mode:"closed"};n&&(t.mode="open",a||console.warn("LavaDome:",`Initiated with "${z.unsafeOpenModeShadow}" set to true.`,"This leaves LavaDome fully vulnerable, ONLY USE FOR TESTING!")),r=M(e,t),$(le,e,r)}return r}(e,t);S(n);const a=ie();_(a,"load",(()=>{if(E(a)!==document)throw S(n),new f("LavaDomeCore: The document to which LavaDome was originally introduced must be the same as the one this instance is inserted to")}));const r=oe();A(n,r)}p?.addEventListener("navigate",(e=>{const t=U(W(e));if(B(t,":~:"))throw H(e),G(e),new f("LavaDomeCore: in-app redirection to text-fragments links is blocked to ensure security")}));const{all:ce}=J,de=new d,fe=new d,me=k(null),pe=e=>{if("string"!=typeof e)throw new Error(`LavaDomeReact: first argument must be a string, instead got ${w(e)}`);if(!b(me,e)){const t=k(null);me[e]=t,$(de,t,e)}return me[e]},ge=({text:e,unsafeOpenModeShadow:t})=>{const n=e,a=(0,r.useRef)(null);return o().createElement("span",{ref:a,__source:{fileName:"/Users/weizman/Documents/lavamoat/lavadome/packages/react/src/lavadome.jsx",lineNumber:57,columnNumber:9},__self:void 0},o().createElement(he,{host:a,token:n,unsafeOpenModeShadow:t,__source:{fileName:"/Users/weizman/Documents/lavamoat/lavadome/packages/react/src/lavadome.jsx",lineNumber:58,columnNumber:13},__self:void 0}))};function he({host:e,token:t,unsafeOpenModeShadow:n}){const a=function(e){const t=L(de,e);if(!b(me,t))throw new Error("LavaDomeReact: first argument must be a valid LavaDome token (replace \"text={'secret'}\" with \"text={toLavaDomeToken('secret')}\")");return t}(t),s=function(e){let t=L(fe,e);return t||(t=k(null),$(fe,e,t)),t}(t);return(0,r.useEffect)((()=>{new ue(e.current,{unsafeOpenModeShadow:n}).text(a)}),[s]),o().createElement(o().Fragment,null)}var ye=n;for(var ve in a)ye[ve]=a[ve];a.__esModule&&Object.defineProperty(ye,"__esModule",{value:!0})})()}}},{package:"@lavamoat/lavadome-react",file:"node_modules/@lavamoat/lavadome-react/build/main.js"}],[6800,{"../../shared/constants/multichain/assets":5656,"../helpers/utils/confirm-tx.util":6715,"../helpers/utils/token-util":6734,"../selectors/multichain":7388,"./useAccountTotalFiatBalance":6779,"./useMultichainSelector":6802,"@metamask/keyring-api":1873,"react-redux":5141},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useMultichainAccountTotalFiatBalance=n.EMPTY_VALUES=void 0;var a=e("react-redux"),r=e("@metamask/keyring-api"),o=e("../selectors/multichain"),s=e("../helpers/utils/confirm-tx.util"),i=e("../../shared/constants/multichain/assets"),l=e("../helpers/utils/token-util"),u=e("./useMultichainSelector"),c=e("./useAccountTotalFiatBalance");const d=n.EMPTY_VALUES={formattedFiat:"0",totalFiatBalance:"0",totalWeiBalance:"0",tokensWithBalances:[],loading:!1,orderedTokenList:[]};n.useMultichainAccountTotalFiatBalance=(e,t=!1)=>{var n;if((0,r.isEvmAccountType)(e.type))return(0,c.useAccountTotalFiatBalance)(e,t);const f=(0,u.useMultichainSelector)(o.getMultichainCurrentCurrency,e),{network:m}=(0,u.useMultichainSelector)(o.getMultichainNetwork,e),{ticker:p}=m,g=(0,u.useMultichainSelector)(o.getMultichainConversionRate,e),h=(0,u.useMultichainSelector)(o.getMultichainCurrencyImage,e),y=(0,a.useSelector)(o.getMultichainBalances),v=i.MULTICHAIN_NATIVE_CURRENCY_TO_CAIP19[p];if(null==y||null===(n=y[e.id])||void 0===n||!n[v])return d;const{amount:k}=y[e.id][v],b=(0,l.getTokenFiatAmount)(1,Number(g),f,k,p,!1,!1)??"0",T={iconUrl:h,symbol:p,fiatBalance:b};return{formattedFiat:(0,s.formatCurrency)(b,f),totalFiatBalance:b,totalBalance:k,tokensWithBalances:[],loading:!1,orderedTokenList:[T]}}}}},{package:"$root$",file:"ui/hooks/useMultichainAccountTotalFiatBalance.ts"}],[6801,{"../../shared/constants/transaction":5673,"../selectors/assets":7379,"../selectors/multichain":7388,"../selectors/selectors":7393,"./useMultichainSelector":6802,"bignumber.js":3902,react:5183,"react-redux":5141},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useMultichainBalances=void 0;var a=e("react"),r=e("react-redux"),o=e("bignumber.js"),s=e("../selectors/assets"),i=e("../selectors/multichain"),l=e("../../shared/constants/transaction"),u=e("../selectors/selectors"),c=e("./useMultichainSelector");n.useMultichainBalances=()=>{const e=(0,r.useSelector)(u.getSelectedEvmInternalAccount),t=(0,r.useSelector)((t=>(0,s.getTokenBalancesEvm)(t,e.address))),n=(()=>{const e=(0,r.useSelector)(i.getLastSelectedNonEvmAccount),t=(0,r.useSelector)(s.getAccountAssets),n=(0,r.useSelector)(s.getAssetsMetadata),u=(0,c.useMultichainSelector)(i.getMultichainBalances),d=(0,r.useSelector)(i.getMultichainCoinRates),f=(0,r.useSelector)(s.getAssetsRates);return(0,a.useMemo)((()=>{if(null==e||!e.id)return[];const a=null==t?void 0:t[e.id],r=null==u?void 0:u[e.id];return r&&a?a.filter((e=>n[e])).map((e=>{var t,a,s,i,u,c,m,p,g;const[h,y]=e.split("/"),[v]=y.split(":");return{chainId:h,symbol:(null===(t=n[e])||void 0===t?void 0:t.symbol)??"",address:e,string:(null===(a=r[e])||void 0===a?void 0:a.amount)??"0",balance:(null===(s=r[e])||void 0===s?void 0:s.amount)??"0",decimals:null===(i=n[e])||void 0===i||null===(i=i.units[0])||void 0===i?void 0:i.decimals,image:(null===(u=n[e])||void 0===u?void 0:u.iconUrl)??"",type:"token"===v?l.AssetType.token:l.AssetType.native,tokenFiatAmount:new o.BigNumber((null===(c=r[e])||void 0===c?void 0:c.amount)??"1").times((null==f||null===(m=f[e])||void 0===m?void 0:m.rate)??(null==d||null===(p=d[null===(g=n[e])||void 0===g||null===(g=g.units[0])||void 0===g?void 0:g.symbol.toLowerCase()])||void 0===p?void 0:p.conversionRate)??"1").toNumber()}})).filter(Boolean):[]}),[n,f,t,d,null==e?void 0:e.id,u])})();return{assetsWithBalance:(0,a.useMemo)((()=>[...t,...n].map((e=>({...e,type:e.isNative?l.AssetType.native:l.AssetType.token}))).sort(((e,t)=>(t.tokenFiatAmount??0)-(e.tokenFiatAmount??0)))),[t,n]),balanceByChainId:(0,a.useMemo)((()=>[...t,...n].reduce(((e,t)=>(e[t.chainId]||(e[t.chainId]=0),e[t.chainId]+=t.tokenFiatAmount??0,e)),{})),[t,n])}}}}},{package:"$root$",file:"ui/hooks/useMultichainBalances.ts"}],[6803,{"../selectors":7385,"@metamask/name-controller":2093,lodash:4779,"react-redux":5141},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useName=function(e,t,n){return i([{value:e,type:t,variation:n}])[0]},n.useNames=i;var a=e("@metamask/name-controller"),r=e("react-redux"),o=e("lodash"),s=e("../selectors");function i(e){const t=(0,r.useSelector)(s.getNames,o.isEqual);return e.map((({value:e,type:n,variation:r})=>{var o;const s=function(e,t){if(t===a.NameType.ETHEREUM_ADDRESS)return e.toLowerCase();return e}(e,n),i=(null===(o=t[n])||void 0===o?void 0:o[s])??{},l=i[r],u=i[a.FALLBACK_VARIATION],c=null!=l&&l.name||!u?l??{}:u,{name:d=null,sourceId:f=null,origin:m=null,proposedNames:p={}}=c;return{name:d,sourceId:f,proposedNames:p,origin:m}}))}}}},{package:"$root$",file:"ui/hooks/useName.ts"}],[6804,{"../../shared/constants/transaction":5673,"../store/actions":7400,"./useAsyncResult":6782},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useNftCollectionsMetadata=function(e){const{value:t}=(0,o.useAsyncResult)((()=>async function(e){const t=e.reduce(((e,{chainId:t,contractAddress:n})=>(e[t]=[...e[t]??[],n.toLowerCase()],e)),{}),n=Object.keys(t),a=await Promise.all(n.map((e=>async function(e,t){const n=await Promise.all(e.map((e=>(0,r.getTokenStandardAndDetails)(e,t)))),a=e.filter(((e,t)=>s.includes(n[t].standard)));if(0===a.length)return{};const o=await(0,r.getNFTContractInfo)(a,t);return o.collections.reduce(((e,t,n)=>(e[a[n]]={name:null==t?void 0:t.name,image:null==t?void 0:t.image,isSpam:null==t?void 0:t.isSpam},e)),{})}(t[e],e))));return n.reduce(((e,t,n)=>(e[t]=a[n],e)),{})}(e)),[JSON.stringify(e)]);return t??{}};var a=e("../../shared/constants/transaction"),r=e("../store/actions"),o=e("./useAsyncResult");const s=[a.TokenStandard.ERC721]}}},{package:"$root$",file:"ui/hooks/useNftCollectionsMetadata.ts"}],[6805,{"../../shared/modules/selectors/networks":5727,"../ducks/metamask/metamask":6676,"../selectors":7385,"./useI18nContext":6794,"./usePrevious":6811,lodash:4779,react:5183,"react-redux":5141},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useNfts=function(){const e=(0,c.useI18nContext)(),t=(0,r.useSelector)(s.getNfts),{address:n}=(0,r.useSelector)(i.getSelectedInternalAccount),d=(0,r.useSelector)(l.getCurrentChainId),f=(0,r.useSelector)(s.getNftContracts),m=e("nftsPreviouslyOwned"),p=e("unknownCollection"),[g,h]=(0,a.useState)([]),[y,v]=(0,a.useState)([]),[k,b]=(0,a.useState)((()=>(null==t?void 0:t.length)>=0)),T=(0,u.usePrevious)(t),x=(0,u.usePrevious)(d),w=(0,u.usePrevious)(n);return(0,a.useEffect)((()=>{(0,o.isEqual)(T,t)&&(0,o.isEqual)(w,n)&&(0,o.isEqual)(x,d)||(()=>{if(b(!0),n===undefined||d===undefined)return;const e=[],a=[];t.forEach((t=>{!1===(null==t?void 0:t.isCurrentlyOwned)?e.push(t):a.push(t)})),v(e),h(a),b(!1)})()}),[t,T,f,b,d,x,n,w,m,p]),{loading:k,currentlyOwnedNfts:g,previouslyOwnedNfts:y}};var a=e("react"),r=e("react-redux"),o=e("lodash"),s=e("../ducks/metamask/metamask"),i=e("../selectors"),l=e("../../shared/modules/selectors/networks"),u=e("./usePrevious"),c=e("./useI18nContext")}}},{package:"$root$",file:"ui/hooks/useNfts.ts"}],[6806,{"../../shared/modules/selectors/networks":5727,"../ducks/metamask/metamask":6676,"../selectors":7385,"./useI18nContext":6794,"./usePrevious":6811,lodash:4779,react:5183,"react-redux":5141},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useNftsCollections=function(){const e=(0,c.useI18nContext)(),t=e("nftsPreviouslyOwned"),n=e("unknownCollection"),[d,f]=(0,a.useState)({}),[m,p]=(0,a.useState)({collectionName:t,nfts:[]}),g=(0,r.useSelector)(s.getNfts),[h,y]=(0,a.useState)((()=>(null==g?void 0:g.length)>=0)),{address:v}=(0,r.useSelector)(i.getSelectedInternalAccount),k=(0,r.useSelector)(l.getCurrentChainId),b=(0,r.useSelector)(s.getNftContracts),T=(0,u.usePrevious)(g),x=(0,u.usePrevious)(k),w=(0,u.usePrevious)(v);return(0,a.useEffect)((()=>{(0,o.isEqual)(T,g)&&(0,o.isEqual)(w,v)&&(0,o.isEqual)(x,k)||(()=>{if(y(!0),v===undefined||k===undefined)return;const e={},a={collectionName:t,nfts:[]};g.forEach((t=>{if(!1===(null==t?void 0:t.isCurrentlyOwned))a.nfts.push(t);else if(e[t.address])e[t.address].nfts.push(t);else{const a=b.find((({address:e})=>e===t.address));e[t.address]={collectionName:(null==a?void 0:a.name)||n,collectionImage:(null==a?void 0:a.logo)||t.image,nfts:[t]}}})),f(e),p(a),y(!1)})()}),[g,T,b,y,k,x,v,w,t,n]),{nftsLoading:h,collections:d,previouslyOwnedCollection:m}};var a=e("react"),r=e("react-redux"),o=e("lodash"),s=e("../ducks/metamask/metamask"),i=e("../selectors"),l=e("../../shared/modules/selectors/networks"),u=e("./usePrevious"),c=e("./useI18nContext")}}},{package:"$root$",file:"ui/hooks/useNftsCollections.js"}],[6807,{"../helpers/constants/notifications":6692,"../store/actions":7400,"react-redux":5141},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useSnapNotificationTimeouts=void 0;var a=e("react-redux"),r=e("../store/actions"),o=e("../helpers/constants/notifications");n.useSnapNotificationTimeouts=()=>{const e=(0,a.useDispatch)();return{setNotificationTimeout:t=>{setTimeout((()=>{e((0,r.deleteNotificationsById)([t]))}),o.NOTIFICATIONS_EXPIRATION_DELAY)}}}}}},{package:"$root$",file:"ui/hooks/useNotificationTimeouts.ts"}],[6808,{"../selectors":7385,"@metamask/permission-controller":2322,"react-redux":5141},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useOriginMetadata=function(e){const t=(0,r.useSelector)((t=>(0,o.getTargetSubjectMetadata)(t,e)));if(!e)return null;let n=null;try{const t=new URL(e);n={host:t.host,hostname:t.hostname,origin:e,subjectType:a.SubjectType.Unknown}}catch(e){}if(t&&n)return{...n,...t};if(t)return t;return n};var a=e("@metamask/permission-controller"),r=e("react-redux"),o=e("../selectors")}}},{package:"$root$",file:"ui/hooks/useOriginMetadata.js"}],[6809,{"../selectors":7385,"react-redux":5141},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.usePetnamesEnabled=function(){return(0,r.getPetnamesEnabled)((0,a.useStore)().getState())};var a=e("react-redux"),r=e("../selectors")}}},{package:"$root$",file:"ui/hooks/usePetnamesEnabled.ts"}],[6810,{react:5183},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=e("react");n.default=e=>{const t=(0,a.useRef)(null),n=(0,a.useRef)(null);let r=!1;(0,a.useEffect)((()=>{if(!1===e.enabled)return()=>{};r=!0;const a=()=>{var a;t.current&&(e.stopPollingByPollingToken(t.current),null===(a=n.current)||void 0===a||a.call(n,t.current))};return e.startPolling(e.input).then((o=>{var s;t.current=o,n.current=(null===(s=e.callback)||void 0===s?void 0:s.call(e,o))||null,r||a()})),()=>{r=!1,a()}}),[e.input&&JSON.stringify(e.input),e.enabled])}}}},{package:"$root$",file:"ui/hooks/usePolling.ts"}],[6811,{react:5183},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.usePrevious=function(e){const t=(0,a.useRef)();return(0,a.useEffect)((()=>{t.current=e}),[e]),t.current};var a=e("react")}}},{package:"$root$",file:"ui/hooks/usePrevious.ts"}],[6812,{"./usePrevious":6811,lodash:4779,react:5183},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useScrollRequired=void 0;var a=e("react"),r=e("lodash"),o=e("./usePrevious");n.useScrollRequired=(e=[],{offsetPxFromBottom:t=16}={})=>{var n,s;const i=(0,a.useRef)(null),l=(0,o.usePrevious)(null===(n=i.current)||void 0===n?void 0:n.offsetHeight),[u,c]=(0,a.useState)(!1),[d,f]=(0,a.useState)(!1),[m,p]=(0,a.useState)(!1),g=()=>{if(!i.current)return;const e=i.current&&i.current.scrollHeight>i.current.clientHeight,n=e&&Math.round(i.current.scrollTop)+i.current.offsetHeight+t>=i.current.scrollHeight;e!==d&&(c(!1),f(e)),p(!e||n),e&&!n||c(!0)};(0,a.useEffect)(g,[i,...e]),(0,a.useEffect)((()=>{var e;l!==(null===(e=i.current)||void 0===e?void 0:e.offsetHeight)&&g()}),[null===(s=i.current)||void 0===s?void 0:s.offsetHeight]);return{isScrollable:d,isScrolledToBottom:m,hasScrolledToBottom:u,scrollToBottom:()=>{p(!0),c(!0),i.current&&i.current.scrollTo({top:i.current.scrollHeight,behavior:"smooth"})},setHasScrolledToBottom:c,ref:i,onScroll:(0,r.debounce)(g,25)}}}}},{package:"$root$",file:"ui/hooks/useScrollRequired.js"}],[6813,{"../helpers/constants/routes":6694,"../selectors":7385,"react-redux":5141,"react-router-dom":5168},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useSegmentContext=function(){const e=(0,r.useRouteMatch)({path:i,exact:!0,strict:!0}),t=((0,a.useSelector)(s.txDataSelector)||{}).origin,n=t?{url:t}:undefined;return{page:e?{path:e.path,title:o.PATH_NAME_MAP[e.path],url:e.path}:undefined,referrer:n}};var a=e("react-redux"),r=e("react-router-dom"),o=e("../helpers/constants/routes"),s=e("../selectors");const i=Object.keys(o.PATH_NAME_MAP)}}},{package:"$root$",file:"ui/hooks/useSegmentContext.js"}],[6814,{"../ducks/app/app":6661,"./useGasFeeEstimates":6791,lodash:4779,react:5183,"react-redux":5141},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useShouldAnimateGasEstimations=function(){const{isGasEstimatesLoading:e,gasFeeEstimates:t}=(0,i.useGasFeeEstimates)(),n=(0,r.useDispatch)(),l=(0,r.useSelector)(s.getGasLoadingAnimationIsShowing),u=(0,a.useRef)(t),c=!(0,o.isEqual)(u.current,t),d=(0,o.isEqual)(u.current,{});c&&(u.current=t);const f=e||c&&!d;(0,a.useEffect)((()=>{!1===l&&!0===f&&n((0,s.toggleGasLoadingAnimation)(!0))}),[n,l,f]),(0,a.useEffect)((()=>{let e;return l&&!f&&(e=setTimeout((()=>{n((0,s.toggleGasLoadingAnimation)(!1))}),2e3)),()=>{e&&clearTimeout(e)}}),[n,l,f])};var a=e("react"),r=e("react-redux"),o=e("lodash"),s=e("../ducks/app/app"),i=e("./useGasFeeEstimates")}}},{package:"$root$",file:"ui/hooks/useShouldAnimateGasEstimations.js"}],[6815,{"../../shared/constants/time":5671,react:5183},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useShouldShowSpeedUp=function(e,t){const{transactions:n,hasRetried:o}=e,[s={}]=n,{submittedTime:i}=s,[l,u]=(0,a.useState)((()=>Date.now()-i>5e3&&t&&!o));return(0,a.useEffect)((()=>{let e;return o||!t||l||(Date.now()-i>5*r.SECOND?u(!0):e=setTimeout((()=>{u(!0),clearTimeout(e)}),5001-(Date.now()-i))),()=>{e&&clearTimeout(e)}}),[i,l,o,t]),l};var a=e("react"),r=e("../../shared/constants/time")}}},{package:"$root$",file:"ui/hooks/useShouldShowSpeedUp.js"}],[6816,{"../../shared/lib/transactions-controller-utils":5698,"../../shared/modules/selectors/networks":5727,"../../shared/modules/swaps.utils":5731,"./useTokenFiatAmount":6823,"@metamask/transaction-controller":2829,"react-redux":5141},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useSwappedTokenValue=function(e,t){const{symbol:n,decimals:u,address:c}=t,{primaryTransaction:d,initialTransaction:f}=e,{type:m}=f,{from:p}=f.txParams||{},g=(0,a.useSelector)(i.getCurrentChainId),h=m===r.TransactionType.swap&&((null==t?void 0:t.symbol)===d.destinationTokenSymbol||(0,s.isSwapsDefaultTokenAddress)(t.address,g)&&(0,s.isSwapsDefaultTokenSymbol)(d.destinationTokenSymbol,g)),y=[r.TransactionType.swap].includes(m)&&h?(0,o.getSwapsTokensReceivedFromTxMeta)(d.destinationTokenSymbol,f,c,p,u,null,g):[r.TransactionType.swap,r.TransactionType.swapAndSend].includes(m)&&d.swapTokenValue,v="string"==typeof y&&-1===Math.sign(y),k=(0,l.useTokenFiatAmount)(c,y||"",n),b=(0,l.useTokenFiatAmount)(d.sourceTokenAddress,y,d.sourceTokenSymbol);let T;y&&(h?T=k:m===r.TransactionType.swapAndSend&&(T=b));return{swapTokenValue:y,swapTokenFiatAmount:T,isViewingReceivedTokenFromSwap:h,isNegative:v}};var a=e("react-redux"),r=e("@metamask/transaction-controller"),o=e("../../shared/lib/transactions-controller-utils"),s=e("../../shared/modules/swaps.utils"),i=e("../../shared/modules/selectors/networks"),l=e("./useTokenFiatAmount")}}},{package:"$root$",file:"ui/hooks/useSwappedTokenValue.js"}],[6817,{"../../shared/constants/preferences":5663,"../selectors":7385,react:5183,"react-redux":5141},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useTheme=function(){const e=(0,r.useSelector)(o.getTheme),[t,n]=(0,a.useState)(e);return(0,a.useEffect)((()=>{const t=e&&e!==s.ThemeType.os?e:document.documentElement.getAttribute("data-theme");i.includes(t)||(console.warn(`useTheme: Invalid theme resolved to "${t}". Defaulting to "${s.ThemeType.light}".`),n(s.ThemeType.light)),n(t)}),[e]),t};var a=e("react"),r=e("react-redux"),o=e("../selectors"),s=e("../../shared/constants/preferences");const i=Object.values(s.ThemeType).filter((e=>e!==s.ThemeType.os))}}},{package:"$root$",file:"ui/hooks/useTheme.ts"}],[6818,{react:5183},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useTimeout=function(e,t,n=!0){const r=(0,a.useRef)(),[o,s]=(0,a.useState)(null);(0,a.useEffect)((()=>{r.current=e}),[e]),(0,a.useEffect)((()=>{if("start"!==o)return undefined;const e=setTimeout((()=>{r.current()}),t);return s(e),()=>{clearTimeout(o)}}),[t,o]);const i=(0,a.useCallback)((()=>{clearTimeout(o),s("start")}),[o]);n&&i();return i};var a=e("react")}}},{package:"$root$",file:"ui/hooks/useTimeout.js"}],[6819,{"../../shared/modules/conversion.utils":5710,"../../shared/modules/selectors/networks":5727,"../ducks/metamask/metamask":6676,"../store/actions":7400,"./useMultiPolling":6799,"bn.js":3950,"react-redux":5141},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.stringifyBalance=f,n.useTokenTracker=n.useTokenBalances=void 0;var a=e("react-redux"),r=c(e("bn.js")),o=e("../../shared/modules/selectors/networks"),s=e("../store/actions"),i=e("../ducks/metamask/metamask"),l=e("../../shared/modules/conversion.utils"),u=c(e("./useMultiPolling"));function c(e){return e&&e.__esModule?e:{default:e}}const d=({chainIds:e}={})=>{const t=(0,a.useSelector)(i.getTokenBalances),n=(0,a.useSelector)(o.getNetworkConfigurationsByChainId);return(0,u.default)({startPolling:s.tokenBalancesStartPolling,stopPollingByPollingToken:s.tokenBalancesStopPollingByPollingToken,input:e??Object.keys(n)}),{tokenBalances:t}};n.useTokenBalances=d;function f(e,t,n=5){if(e.eq(new r.default(0)))return"0";const a=parseInt(t.toString(),10);if(0===a)return e.toString();let o=e.toString(),s=o.length,i=s-a,l="";if(i<=0){for(;l.length<=-1*i;)l+="0",s+=1;o=l+o,i=1}const u=o.substr(0,s-a);if(0===n)return u;const c=o.substr(i,n);if(/0+$/u.test(c)){let e=o.substr(i).replace(/0+$/u,"");return e.length>0&&(e=`.${e}`),`${u}${e}`}return`${u}.${c}`}n.useTokenTracker=({chainId:e,tokens:t,address:n,hideZeroBalanceTokens:a})=>{const{tokenBalances:o}=d({chainIds:[e]});return{tokensWithBalances:t.reduce(((t,s)=>{var i;const u=(null===(i=o[n])||void 0===i||null===(i=i[e])||void 0===i?void 0:i[s.address])??"0x0";if("0x0"!==u||!a){const e=(0,l.hexToDecimal)(u);t.push({address:s.address,symbol:s.symbol,decimals:s.decimals,balance:e,balanceError:null,string:f(new r.default(e),new r.default(s.decimals))})}return t}),[])}}}}},{package:"$root$",file:"ui/hooks/useTokenBalances.ts"}],[6820,{"../../shared/modules/transaction.utils":5732,react:5183},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useTokenData=function(e,t=!0){return(0,a.useMemo)((()=>t&&e?(0,r.parseStandardTokenTransactionData)(e):null),[t,e])};var a=e("react"),r=e("../../shared/modules/transaction.utils")}}},{package:"$root$",file:"ui/hooks/useTokenData.js"}],[6821,{"../ducks/metamask/metamask":6676,"../selectors":7385,"../store/actions":7400,"./useMultiPolling":6799,"react-redux":5141},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=e("react-redux"),o=e("../selectors"),s=e("../store/actions"),i=e("../ducks/metamask/metamask"),l=(a=e("./useMultiPolling"))&&a.__esModule?a:{default:a};n.default=()=>{const e=(0,r.useSelector)(o.getUseTokenDetection),t=(0,r.useSelector)(i.getCompletedOnboarding),n=(0,r.useSelector)(i.getIsUnlocked),a=(0,r.useSelector)(o.getChainIdsToPoll),u=t&&n&&e;return(0,l.default)({startPolling:s.tokenDetectionStartPolling,stopPollingByPollingToken:s.tokenDetectionStopPollingByPollingToken,input:u?[a]:[]}),{}}}}},{package:"$root$",file:"ui/hooks/useTokenDetectionPolling.ts"}],[6822,{"../../shared/lib/metamask-controller-utils":5689,"../../shared/lib/transactions-controller-utils":5698,"./useTokenData":6820,react:5183},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useTokenDisplayValue=function(e,t,n=!0){const i=(0,s.useTokenData)(e,n),l=(0,r.getTokenValueParam)(i),u=Boolean(n&&e&&t&&null!==t.decimals&&t.decimals!==undefined&&l);return(0,a.useMemo)((()=>u?(0,o.calcTokenAmount)(l,t.decimals).toString(10):null),[u,l,t])};var a=e("react"),r=e("../../shared/lib/metamask-controller-utils"),o=e("../../shared/lib/transactions-controller-utils"),s=e("./useTokenData")}}},{package:"$root$",file:"ui/hooks/useTokenDisplayValue.js"}],[6824,{"../ducks/metamask/metamask":6676,"../selectors":7385,"../store/actions":7400,"./useMultiPolling":6799,"react-redux":5141},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=e("react-redux"),o=e("../selectors"),s=e("../store/actions"),i=e("../ducks/metamask/metamask"),l=(a=e("./useMultiPolling"))&&a.__esModule?a:{default:a};n.default=()=>{const e=(0,r.useSelector)(o.getUseTokenDetection),t=(0,r.useSelector)(o.getUseTransactionSimulations),n=(0,r.useSelector)(o.getPetnamesEnabled),a=(0,r.useSelector)(i.getCompletedOnboarding),u=(0,r.useSelector)(i.getIsUnlocked),c=(0,r.useSelector)(o.getUseExternalServices),d=(0,r.useSelector)(o.getChainIdsToPoll),f=a&&u&&c&&(e||n||t);return(0,l.default)({startPolling:s.tokenListStartPolling,stopPollingByPollingToken:s.tokenListStopPollingByPollingToken,input:f?d:[]}),{}}}}},{package:"$root$",file:"ui/hooks/useTokenListPolling.ts"}],[6825,{"../ducks/metamask/metamask":6676,"../selectors":7385,"../store/actions":7400,"./useMultiPolling":6799,"react-redux":5141},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=e("react-redux"),o=e("../selectors"),s=e("../store/actions"),i=e("../ducks/metamask/metamask"),l=(a=e("./useMultiPolling"))&&a.__esModule?a:{default:a};n.default=()=>{const e=(0,r.useSelector)(i.getCompletedOnboarding),t=(0,r.useSelector)(i.getIsUnlocked),n=(0,r.useSelector)(o.getUseCurrencyRateCheck),a=(0,r.useSelector)(o.getChainIdsToPoll),u=(0,r.useSelector)(o.getTokenExchangeRates),c=(0,r.useSelector)(o.getTokensMarketData),d=(0,r.useSelector)(o.getMarketData),f=e&&t&&n;return(0,l.default)({startPolling:s.tokenRatesStartPolling,stopPollingByPollingToken:s.tokenRatesStopPollingByPollingToken,input:f?a:[]}),{tokenExchangeRates:u,tokensMarketData:c,marketData:d}}}}},{package:"$root$",file:"ui/hooks/useTokenRatesPolling.ts"}],[6826,{"../../shared/constants/time":5671,"../../shared/modules/selectors/networks":5727,"../../shared/modules/string-utils":5730,"../selectors":7385,"./useEqualityCheck":6788,"@metamask/eth-token-tracker":1749,react:5183,"react-redux":5141},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useTokenTracker=function({tokens:e,address:t,includeFailedTokens:n=!1,hideZeroBalanceTokens:a=!1}){const{chainId:f,rpcUrl:m}=(0,s.useSelector)(l.getProviderConfig),{address:p}=(0,s.useSelector)(i.getSelectedInternalAccount,s.shallowEqual),g=t??p,[h,y]=(0,r.useState)((()=>(null==e?void 0:e.length)>=0)),[v,k]=(0,r.useState)([]),[b,T]=(0,r.useState)(null),x=(0,r.useRef)(null),w=(0,d.useEqualityCheck)(e),C=(0,r.useCallback)((e=>{const t=(a?e.filter((e=>Number(e.balance)>0)):e).map((e=>{const t=w.find((t=>(0,c.isEqualCaseInsensitive)(t.address,e.address)));return{...e,isERC721:null==t?void 0:t.isERC721,image:null==t?void 0:t.image}}));k(t),y(!1),T(null)}),[a,w]),E=(0,r.useCallback)((e=>{T(e),y(!1)}),[]),_=(0,r.useCallback)((()=>{x.current&&(x.current.stop(),x.current.removeAllListeners("update"),x.current.removeAllListeners("error"),x.current=null)}),[]),S=(0,r.useCallback)(((e,t)=>{_(),x.current=new o.default({userAddress:e,provider:global.ethereumProvider,tokens:t,includeFailedTokens:n,pollingInterval:8*u.SECOND,balanceDecimals:5}),x.current.on("update",C),x.current.on("error",E),x.current.updateBalances()}),[C,n,E,_]);return(0,r.useEffect)((()=>_),[_]),(0,r.useEffect)((()=>{y(!0),g&&f!==undefined&&global.ethereumProvider?(0===w.length&&C([]),S(g,w)):_()}),[g,_,f,m,w,C,S]),{loading:h,tokensWithBalances:v,error:b}};var a,r=e("react"),o=(a=e("@metamask/eth-token-tracker"))&&a.__esModule?a:{default:a},s=e("react-redux"),i=e("../selectors"),l=e("../../shared/modules/selectors/networks"),u=e("../../shared/constants/time"),c=e("../../shared/modules/string-utils"),d=e("./useEqualityCheck")}}},{package:"$root$",file:"ui/hooks/useTokenTracker.js"}],[6827,{"../../shared/constants/network":5658,"../../shared/constants/swaps":5669,"../../shared/modules/hexstring-utils":5716,"../../shared/modules/selectors/networks":5727,"../../shared/modules/swaps.utils":5731,"../ducks/metamask/metamask":6676,"../ducks/swaps/swaps":6684,"../helpers/utils/token-util":6734,"../selectors":7385,"./useEqualityCheck":6788,"@metamask/assets-controllers":1282,"bignumber.js":3902,lodash:4779,react:5183,"react-redux":5141},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getRenderableTokenData=k,n.useTokensToSearch=function({usersTokens:e=[],topTokens:t={},shuffledTokensList:n,tokenBucketPriority:a=h.TokenBucketPriority.owned}){const l=(0,o.useSelector)(d.getCurrentChainId),u=(0,o.useSelector)(c.getTokenExchangeRates,i.isEqual),g=(0,o.useSelector)(f.getConversionRate),y=(0,o.useSelector)(f.getCurrentCurrency),b=(0,o.useSelector)(c.getSwapsDefaultToken,o.shallowEqual),T=(0,o.useSelector)(c.getTokenList,i.isEqual),x=(0,v.useEqualityCheck)(t),w=(0,v.useEqualityCheck)(e),C=k(b,u,g,y,l,T),E=(0,v.useEqualityCheck)(C),_=(0,o.useSelector)(m.getSwapsTokens,i.isEqual)||[],S=_.length?_:[E,...n.filter((e=>e.symbol!==E.symbol))],M=(0,v.useEqualityCheck)(S);return(0,r.useMemo)((()=>{const e=w.reduce(((e,t)=>({...e,[t.address.toLowerCase()]:t})),{}),t={owned:[],top:[],others:[]};return(0,i.uniqBy)([E,...M,...w],(e=>e.address.toLowerCase())).forEach((n=>{const r=k({...e[n.address.toLowerCase()],...n},u,g,y,l,T);a===h.TokenBucketPriority.owned?(0,p.isSwapsDefaultTokenSymbol)(r.symbol,l)||e[n.address.toLowerCase()]?t.owned.push(r):x[n.address.toLowerCase()]?t.top[x[n.address.toLowerCase()].index]=r:t.others.push(r):x[n.address.toLowerCase()]?t.top[x[n.address.toLowerCase()].index]=r:(0,p.isSwapsDefaultTokenSymbol)(r.symbol,l)||e[n.address.toLowerCase()]?t.owned.push(r):t.others.push(r)})),t.owned=t.owned.sort((({rawFiat:e},{rawFiat:t})=>new s.default(e||0).gt(t||0)?-1:1)),t.top=t.top.filter(Boolean),a===h.TokenBucketPriority.owned?[...t.owned,...t.top,...t.others]:[...t.top,...t.owned,...t.others]}),[M,w,x,u,g,y,E,l,T,a])};var a,r=e("react"),o=e("react-redux"),s=(a=e("bignumber.js"))&&a.__esModule?a:{default:a},i=e("lodash"),l=e("@metamask/assets-controllers"),u=e("../helpers/utils/token-util"),c=e("../selectors"),d=e("../../shared/modules/selectors/networks"),f=e("../ducks/metamask/metamask"),m=e("../ducks/swaps/swaps"),p=e("../../shared/modules/swaps.utils"),g=e("../../shared/modules/hexstring-utils"),h=e("../../shared/constants/swaps"),y=e("../../shared/constants/network"),v=e("./useEqualityCheck");function k(e,t,n,a,r,o){var i,c;const{symbol:d,name:f,address:m,iconUrl:h,string:v,balance:k,decimals:b}=e;let T;(0,p.isSwapsDefaultTokenSymbol)(d,r)?T=1:v&&n>0&&(T=t[(0,g.toChecksumHexAddress)(m)]);const x=(0,u.getTokenFiatAmount)(T,n,a,v,d,!0)||"",w=x?(0,u.getTokenFiatAmount)(T,n,a,v,d,!1):"",C=r===y.CHAIN_IDS.SEPOLIA?y.CHAIN_IDS.MAINNET:r,E=(d===y.CURRENCY_SYMBOLS.ETH&&r===y.CHAIN_IDS.MAINNET||d===y.CURRENCY_SYMBOLS.ETH&&r===y.CHAIN_IDS.SEPOLIA||d===y.CURRENCY_SYMBOLS.BNB&&r===y.CHAIN_IDS.BSC||d===y.CURRENCY_SYMBOLS.MATIC&&r===y.CHAIN_IDS.POLYGON||d===y.CURRENCY_SYMBOLS.AVALANCHE&&r===y.CHAIN_IDS.AVALANCHE||d===y.CURRENCY_SYMBOLS.ETH&&r===y.CHAIN_IDS.OPTIMISM||d===y.CURRENCY_SYMBOLS.ETH&&r===y.CHAIN_IDS.ARBITRUM||d===y.CURRENCY_SYMBOLS.ETH&&r===y.CHAIN_IDS.LINEA_MAINNET||d===y.CURRENCY_SYMBOLS.ETH&&r===y.CHAIN_IDS.ZKSYNC_ERA||d===y.CURRENCY_SYMBOLS.ETH&&r===y.CHAIN_IDS.BASE?h:(0,l.formatIconUrlWithProxy)({chainId:C,tokenAddress:m||""}))||(null==e?void 0:e.image);return{...e,primaryLabel:d,secondaryLabel:f||(null===(i=o[null==m?void 0:m.toLowerCase()])||void 0===i?void 0:i.name),rightPrimaryLabel:v&&`${new s.default(v).round(6).toString()} ${d}`,rightSecondaryLabel:x,iconUrl:E,identiconAddress:E?null:m,balance:k,decimals:b,name:f||(null===(c=o[null==m?void 0:m.toLowerCase()])||void 0===c?void 0:c.name),rawFiat:w,image:e.image||e.iconUrl}}}}},{package:"$root$",file:"ui/hooks/useTokensToSearch.js"}],[6828,{"../../shared/constants/bridge":5644,"../../shared/constants/transaction":5673,"../../shared/lib/metamask-controller-utils":5689,"../../shared/modules/string-utils":5730,"../ducks/bridge-status/selectors":6663,"../ducks/locale/locale":6675,"../ducks/metamask/metamask":6676,"../helpers/constants/common":6686,"../helpers/constants/transactions":6700,"../helpers/utils/common.util":6714,"../helpers/utils/token-util":6734,"../helpers/utils/transactions.util":6735,"../helpers/utils/util":6737,"../pages/bridge/hooks/useBridgeTokenDisplayData":6847,"../pages/confirmations/components/simulation-details/formatAmount":7038,"../selectors/selectors":7393,"../store/actions":7400,"./bridge/useBridgeChainInfo":6748,"./useCurrencyDisplay":6784,"./useCurrentAsset":6786,"./useI18nContext":6794,"./useSwappedTokenValue":6816,"./useTokenData":6820,"./useTokenDisplayValue":6822,"./useTokenFiatAmount":6823,"./useUserPreferencedCurrency":6829,"@metamask/transaction-controller":2829,"bignumber.js":3902,react:5183,"react-redux":5141},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useTransactionDisplayData=function(e){var t,n,N,D,R,F,j,L;const $=(0,a.useDispatch)(),q=(0,a.useSelector)(x.getIntlLocale),W=(0,P.useCurrentAsset)(),U=(0,a.useSelector)(p.getTokens),H=(0,a.useSelector)(p.getNfts),G=(0,a.useSelector)(i.getDetectedTokensInCurrentNetwork)||[],z=(0,a.useSelector)(i.getTokenList),V=(0,C.useI18nContext)(),Y=(0,a.useSelector)(k.selectBridgeHistoryForAccount),Q=e.initialTransaction.id,K=Y[Q],{destNetwork:J}=(0,O.default)({bridgeHistoryItem:K,srcTxMeta:e.initialTransaction}),X=w.NETWORK_TO_SHORT_NETWORK_NAME_MAP[null==J?void 0:J.chainId],{initialTransaction:Z,primaryTransaction:ee}=e,{type:te}=Z,{from:ne,to:ae}=Z.txParams||{},re=(0,a.useSelector)((e=>{var t;return(0,i.getKnownMethodData)(e,null==Z||null===(t=Z.txParams)||void 0===t?void 0:t.data)}))||{},oe=(0,l.getStatusKey)(ee),se=oe in m.PENDING_STATUS_HASH,ie=oe===o.TransactionStatus.submitted,le=(0,r.useRef)(!0),ue=null===(t=ee.txParams)||void 0===t?void 0:t.value,ce=(0,f.formatDateWithYearContext)(Z.time);let de,fe="-",me=!1,pe=ae;const ge=m.TOKEN_CATEGORY_HASH[te];let he=null;const[ye,ve]=(0,r.useState)(null);ge&&(he=U.find((({address:e})=>(0,y.isEqualCaseInsensitive)(e,pe)))||G.find((({address:e})=>(0,y.isEqualCaseInsensitive)(e,pe)))||z[pe.toLowerCase()]);(0,r.useEffect)((()=>()=>{le.current=!1}),[]),(0,r.useEffect)((()=>{!async function(){if(ge&&!he){var e;const t=await(0,d.getAssetDetails)(ae,ne,null==Z||null===(e=Z.txParams)||void 0===e?void 0:e.data,H);!0===le.current&&ve(t)}}()}),[ge,he,pe,ne,null==Z||null===(n=Z.txParams)||void 0===n?void 0:n.data,H,ae,le]),ye&&(he={address:ye.toAddress,symbol:ye.symbol,decimals:ye.decimals});const ke=(0,I.useTokenData)(null==Z||null===(N=Z.txParams)||void 0===N?void 0:N.data,ge),be=(0,d.getTokenIdParam)(ke)??(0,v.getTokenValueParam)(ke),Te=ge&&H.find((({address:e,tokenId:t})=>(0,y.isEqualCaseInsensitive)(e,pe)&&t===be)),xe=(0,M.useTokenDisplayValue)(null==ee||null===(D=ee.txParams)||void 0===D?void 0:D.data,he,ge),we=(0,E.useTokenFiatAmount)(null===(R=he)||void 0===R?void 0:R.address,xe,null===(F=he)||void 0===F?void 0:F.symbol),Ce=(0,f.stripHttpSchemes)(Z.origin||(null===(j=Z.msgParams)||void 0===j?void 0:j.origin)||"");let Ee,_e,Se=ge?null===(L=he)||void 0===L?void 0:L.symbol:undefined,Me=ge?xe:undefined,Ie=ge?we:undefined;const{swapTokenValue:Ae,isNegative:Pe,swapTokenFiatAmount:Oe,isViewingReceivedTokenFromSwap:Ne}=(0,A.useSwappedTokenValue)(e,W),Be=(0,b.useBridgeTokenDisplayData)(e);if(B.includes(te))Ee=g.TransactionGroupCategory.signatureRequest,_e=V("signatureRequest"),de=Ce,me=!0;else if(te===o.TransactionType.swap)Ee=g.TransactionGroupCategory.swap,_e=V("swapTokenToToken",[Z.sourceTokenSymbol,Z.destinationTokenSymbol]),de=Ce,me=!0,Se=Ne?W.symbol:Z.sourceTokenSymbol,Me=Ae,Ie=Oe,fe=Pe?"":Ne?"+":"-";else if(te===o.TransactionType.swapAndSend){const e=Z.swapAndSendRecipient===ne;pe=Z.swapAndSendRecipient,Ee=g.TransactionGroupCategory.swapAndSend,_e=V("sendTokenAsToken",[Z.sourceTokenSymbol,Z.destinationTokenSymbol]),de=Ce,me=!0,Se=Ne&&e?W.symbol:Z.sourceTokenSymbol,Me=Ae,Ie=Oe,fe=Pe?"":Ne&&e?"+":"-"}else if(te===o.TransactionType.swapApproval)Ee=g.TransactionGroupCategory.approval,_e=V("swapApproval",[ee.sourceTokenSymbol]),de=Ce,me=!0,Se=ee.sourceTokenSymbol;else if(te===o.TransactionType.tokenMethodApprove){var De;Ee=g.TransactionGroupCategory.approval,fe="",_e=V("approveSpendingCap",[(null===(De=he)||void 0===De?void 0:De.symbol)||V("token").toLowerCase()]),de=Ce,me=!0}else if(te===o.TransactionType.tokenMethodSetApprovalForAll){var Re;Ee=g.TransactionGroupCategory.approval,fe="",_e=V("setApprovalForAllTitle",[(null===(Re=he)||void 0===Re?void 0:Re.symbol)||V("token")]),de=Ce,me=!0}else if(te===o.TransactionType.tokenMethodIncreaseAllowance){var Fe;Ee=g.TransactionGroupCategory.approval,fe="",_e=V("approveIncreaseAllowance",[(null===(Fe=he)||void 0===Fe?void 0:Fe.symbol)||V("token")]),de=Ce,me=!0}else if(te===o.TransactionType.contractInteraction||te===o.TransactionType.batch||te===o.TransactionType.revokeDelegation){Ee=g.TransactionGroupCategory.interaction;const e=(0,l.getTransactionTypeTitle)(V,te);_e=(null==re?void 0:re.name)&&(0,u.camelCaseToCapitalize)(re.name)||e,de=Ce,me=!0}else if(te===o.TransactionType.deployContract)Ee=g.TransactionGroupCategory.interaction,_e=(0,l.getTransactionTypeTitle)(V,te),de=Ce,me=!0;else if(te===o.TransactionType.incoming)Ee=g.TransactionGroupCategory.receive,_e=V("receive"),fe="",de=V("fromAddress",[(0,f.shortenAddress)(ne)]);else if(te===o.TransactionType.tokenMethodTransferFrom||te===o.TransactionType.tokenMethodTransfer){var je;Ee=g.TransactionGroupCategory.send,_e=V("sendSpecifiedTokens",[(null===(je=he)||void 0===je?void 0:je.symbol)||(null==Te?void 0:Te.name)||V("token")]),pe=(0,d.getTokenAddressParam)(ke),de=V("toAddress",[(0,f.shortenAddress)(pe)])}else te===o.TransactionType.tokenMethodSafeTransferFrom?(Ee=g.TransactionGroupCategory.send,_e=V("safeTransferFrom"),pe=(0,d.getTokenAddressParam)(ke),de=V("toAddress",[(0,f.shortenAddress)(pe)])):te===o.TransactionType.simpleSend?(Ee=g.TransactionGroupCategory.send,_e=V("send"),de=V("toAddress",[(0,f.shortenAddress)(pe)])):te===o.TransactionType.bridgeApproval?(_e=V("bridgeApproval"),Ee=g.TransactionGroupCategory.approval,_e=V("bridgeApproval",[ee.sourceTokenSymbol]),de=Ce,me=!0,Se=ee.sourceTokenSymbol):te===o.TransactionType.bridge?(_e=V("bridgeToChain",[X||""]),Ee=Be.category,Se=Be.sourceTokenSymbol,Me=(0,T.formatAmount)(q,new s.default(Be.sourceTokenAmountSent??0)),Ie=Be.displayCurrencyAmount):$((0,h.captureSingleException)(`useTransactionDisplayData does not recognize transaction type. Type received is: ${te}`));const Le=(0,_.useUserPreferencedCurrency)(c.PRIMARY),$e=(0,_.useUserPreferencedCurrency)(c.SECONDARY),[qe]=(0,S.useCurrencyDisplay)(ue,{prefix:fe,displayValue:Me,suffix:Se,...Le}),[We]=(0,S.useCurrencyDisplay)(ue,{prefix:fe,displayValue:Ie,hideLabel:ge||Boolean(Ae),...$e});return{title:_e,category:Ee,date:ce,subtitle:de,subtitleContainsOrigin:me,primaryCurrency:te===o.TransactionType.swap&&se?"":qe,senderAddress:ne,recipientAddress:pe,secondaryCurrency:ge&&!we||[o.TransactionType.swap,o.TransactionType.swapAndSend].includes(te)&&!Oe?undefined:We,displayedStatusKey:oe,isPending:se,isSubmitted:ie}};var a=e("react-redux"),r=e("react"),o=e("@metamask/transaction-controller"),s=N(e("bignumber.js")),i=e("../selectors/selectors"),l=e("../helpers/utils/transactions.util"),u=e("../helpers/utils/common.util"),c=e("../helpers/constants/common"),d=e("../helpers/utils/token-util"),f=e("../helpers/utils/util"),m=e("../helpers/constants/transactions"),p=e("../ducks/metamask/metamask"),g=e("../../shared/constants/transaction"),h=e("../store/actions"),y=e("../../shared/modules/string-utils"),v=e("../../shared/lib/metamask-controller-utils"),k=e("../ducks/bridge-status/selectors"),b=e("../pages/bridge/hooks/useBridgeTokenDisplayData"),T=e("../pages/confirmations/components/simulation-details/formatAmount"),x=e("../ducks/locale/locale"),w=e("../../shared/constants/bridge"),C=e("./useI18nContext"),E=e("./useTokenFiatAmount"),_=e("./useUserPreferencedCurrency"),S=e("./useCurrencyDisplay"),M=e("./useTokenDisplayValue"),I=e("./useTokenData"),A=e("./useSwappedTokenValue"),P=e("./useCurrentAsset"),O=N(e("./bridge/useBridgeChainInfo"));function N(e){return e&&e.__esModule?e:{default:e}}const B=[null,undefined,o.TransactionType.sign,o.TransactionType.personalSign,o.TransactionType.signTypedData,o.TransactionType.ethDecrypt,o.TransactionType.ethGetEncryptionPublicKey]}}},{package:"$root$",file:"ui/hooks/useTransactionDisplayData.js"}],[6829,{"../../shared/constants/common":5645,"../constants":6645,"../helpers/constants/common":6686,"../selectors":7385,"../selectors/multichain":7388,"./useMultichainSelector":6802,"react-redux":5141},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useUserPreferencedCurrency=function(e,t={}){const n=(0,a.useSelector)(r.getSelectedInternalAccount),c=t.account??n,d=(0,u.useMultichainSelector)(o.getMultichainNativeCurrency,c),{showNativeTokenAsMainBalance:f}=(0,a.useSelector)(r.getPreferences,a.shallowEqual),m=(0,u.useMultichainSelector)(o.getMultichainShouldShowFiat,c),p={currency:(0,u.useMultichainSelector)(o.getMultichainCurrentCurrency,c),numberOfDecimals:t.numberOfDecimals||t.fiatNumberOfDecimals||2},g={currency:d||i.EtherDenomination.ETH,numberOfDecimals:t.numberOfDecimals||t.ethNumberOfDecimals||l.ETH_DEFAULT_DECIMALS};if(t.showNativeOverride)return g;if(t.showFiatOverride)return p;if(!m)return g;if(t.shouldCheckShowNativeToken&&f||!t.shouldCheckShowNativeToken)return e===s.PRIMARY?g:p;return e===s.PRIMARY?p:g};var a=e("react-redux"),r=e("../selectors"),o=e("../selectors/multichain"),s=e("../helpers/constants/common"),i=e("../../shared/constants/common"),l=e("../constants"),u=e("./useMultichainSelector")}}},{package:"$root$",file:"ui/hooks/useUserPreferencedCurrency.js"}],[6830,{"../app/scripts/constants/sentry-state":7,"../app/scripts/lib/util":183,"../shared/constants/alerts":5641,"../shared/constants/app":5643,"../shared/constants/copy":5646,"../shared/lib/error-utils":5685,"../shared/lib/switch-direction":5694,"../shared/lib/trace":5696,"../shared/modules/object.utils":5721,"../shared/modules/selectors/networks":5727,"./ducks/alerts":6658,"./ducks/metamask/metamask":6676,"./helpers/utils/tags":6733,"./helpers/utils/tx-helper":6736,"./pages":7171,"./selectors":7385,"./store/actions":7400,"./store/background-connection":7402,"./store/store":7403,"copy-to-clipboard":4067,lodash:4779,loglevel:4787,react:5183,"react-dom":5012,util:5586,"webextension-polyfill":5620},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=async function(e){const{backgroundConnection:t,traceContext:n}=e,r=await(0,v.trace)({name:v.TraceName.GetState,parentContext:n},(()=>(0,a.promisify)(t.getState.bind(t))())),o=await async function(e,t,n){const{traceContext:a}=n,r=(0,M.getStartupTraceTags)({metamask:e}),o=await(0,v.trace)({name:v.TraceName.SetupStore,parentContext:a,tags:r},(()=>N(e,t,n.activeTab)));return global.metamask={updateCurrentLocale:e=>{o.dispatch(b.updateCurrentLocale(e))},setFeatureFlag:(e,t)=>{o.dispatch(b.setFeatureFlag(e,t))}},await(0,v.trace)({name:v.TraceName.InitialActions,parentContext:a},(()=>async function(e){const t=e.getState(),n=(0,x.getNetworkToAutomaticallySwitchTo)(t);n?await e.dispatch(b.automaticallySwitchNetwork(n,(0,x.getOriginOfCurrentTab)(t))):(0,x.getSwitchedNetworkDetails)(t)&&await e.dispatch(b.clearSwitchedNetworkDetails());if((0,c.getEnvironmentType)()===p.ENVIRONMENT_TYPE_POPUP){const t=Date.now();global.metamask.id=t,await e.dispatch(b.setCurrentExtensionPopupId(t))}}(o))),(0,v.trace)({name:v.TraceName.FirstRender,parentContext:a},(()=>(0,l.render)(i.default.createElement(E.default,{store:o}),n.container))),o}(r,t,e);return await(0,a.promisify)(t.startPatches.bind(t))(),function(e){0;window.stateHooks.getCleanAppState=async function(){const t=(0,s.clone)(e.getState());return t.version=global.platform.getVersion(),t.browser=window.navigator.userAgent,t},window.stateHooks.getSentryAppState=function(){const t=e.getState();return(0,f.maskObject)(t,m.SENTRY_UI_STATE)},window.stateHooks.getLogs=function(){const t=e.getState(),{logs:n}=t.metamask;return Object.values(n).sort(((e,t)=>e.timestamp-t.timestamp))}}(o),o},n.setupInitialStore=N,n.updateBackgroundConnection=void 0;var a=e("util"),r=A(e("copy-to-clipboard")),o=A(e("loglevel")),s=e("lodash"),i=A(e("react")),l=e("react-dom"),u=A(e("webextension-polyfill")),c=e("../app/scripts/lib/util"),d=e("../shared/constants/alerts"),f=e("../shared/modules/object.utils"),m=e("../app/scripts/constants/sentry-state"),p=e("../shared/constants/app"),g=e("../shared/constants/copy"),h=A(e("../shared/lib/switch-direction")),y=e("../shared/lib/error-utils"),v=e("../shared/lib/trace"),k=e("../shared/modules/selectors/networks"),b=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=I(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("./store/actions")),T=A(e("./store/store")),x=e("./selectors"),w=e("./ducks/alerts"),C=e("./ducks/metamask/metamask"),E=A(e("./pages")),_=A(e("./helpers/utils/tx-helper")),S=e("./store/background-connection"),M=e("./helpers/utils/tags");function I(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(I=function(e){return e?n:t})(e)}function A(e){return e&&e.__esModule?e:{default:e}}let P;o.default.setLevel(global.METAMASK_DEBUG?"debug":"warn",!1);const O=e=>{(0,S.setBackgroundConnection)(e),e.onNotification((e=>{if("sendUpdate"!==e.method)throw new Error(`Internal JSON-RPC Notification Not Handled:\n\n ${JSON.stringify(e)}`);P.dispatch(b.updateMetamaskState(e.params[0]))}))};async function N(e,t,n){e.featureFlags||(e.featureFlags={});const{currentLocaleMessages:a,enLocaleMessages:r}=await(0,y.setupLocale)(e.currentLocale);"rtl"===e.textDirection&&(0,h.default)("rtl");const o={activeTab:n,metamask:e,appState:{},localeMessages:{currentLocale:e.currentLocale,current:a,en:r}};if(O(t),(0,c.getEnvironmentType)()===p.ENVIRONMENT_TYPE_POPUP){var s;const{origin:e}=o.activeTab,t=(0,x.getPermittedAccountsForCurrentTab)(o),n=(null===(s=(0,x.getSelectedInternalAccount)(o))||void 0===s?void 0:s.address)??"",a=(0,C.getUnconnectedAccountAlertShown)(o),r=(0,C.getUnconnectedAccountAlertEnabledness)(o);e&&r&&!a[e]&&t.length>0&&!t.includes(n)&&(o[d.AlertTypes.unconnectedAccount]={state:w.ALERT_STATE.OPEN},b.setUnconnectedAccountAlertShown(e))}const i=(0,T.default)(o);P=i;const l=(0,x.getUnapprovedTransactions)(e),u=(0,_.default)(l,e.unapprovedPersonalMsgs,e.unapprovedDecryptMsgs,e.unapprovedEncryptionPublicKeyMsgs,e.unapprovedTypedMessages,e.networkId,(0,k.getCurrentChainId)({metamask:e}));return u.length>0&&i.dispatch(b.showConfTxPage({id:u[0].id})),i}n.updateBackgroundConnection=O,window.logStateString=async function(e){const t=await window.stateHooks.getCleanAppState(),n=window.stateHooks.getLogs();u.default.runtime.getPlatformInfo().then((a=>{t.platform=a,t.logs=n;const r=JSON.stringify(t,null,2);e(null,r)})).catch((t=>{e(t)}))},window.logState=function(e){return window.logStateString(((t,n)=>{t?console.error(t.message):e?((0,r.default)(n,g.COPY_OPTIONS),console.log("State log copied")):console.log(n)}))}}}},{package:"$root$",file:"ui/index.js"}],[6831,{"../../../shared/modules/string-utils":5730,"../../components/app/assets/nfts/nft-details/nft-details":5792,"../../ducks/metamask/metamask":6676,"../../helpers/constants/routes":6694,"../../selectors":7385,"./components/native-asset":6838,"./components/token-asset":6839,"./util":6843,react:5183,"react-redux":5141,"react-router-dom":5168},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),o=e("react-router-dom"),s=e("../../../shared/modules/string-utils"),i=p(e("../../components/app/assets/nfts/nft-details/nft-details")),l=e("../../selectors"),u=e("../../ducks/metamask/metamask"),c=e("../../helpers/constants/routes"),d=p(e("./components/token-asset")),f=e("./util"),m=p(e("./components/native-asset"));function p(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}n.default=()=>{const e=(0,r.useSelector)(l.getSelectedAccountTokensAcrossChains),t=(0,o.useParams)(),{chainId:n,asset:p,id:g}=t,h=(0,r.useSelector)((e=>(0,u.getNFTsByChainId)(e,n))),y=(0,f.findAssetByAddress)(e,p,n),v=h.find((({address:e,tokenId:t})=>(0,s.isEqualCaseInsensitive)(e,p)&&g===t.toString()));let k;return(0,a.useEffect)((()=>{const e=document.querySelector(".app");null==e||e.scroll(0,0)}),[]),k=v?a.default.createElement(i.default,{nft:v}):y&&n?null!=y&&y.address?a.default.createElement(d.default,{chainId:n,token:y}):a.default.createElement(m.default,{chainId:n,token:y}):a.default.createElement(o.Redirect,{to:{pathname:c.DEFAULT_ROUTE}}),a.default.createElement("div",{className:"main-container asset__container"},k)}}}},{package:"$root$",file:"ui/pages/asset/asset.tsx"}],[6832,{"../../../components/component-library":6234,"../../../components/ui/menu":6589,"../../../contexts/i18n":6648,"../../../helpers/constants/design-system":6688,"../../../helpers/constants/routes":6694,"../../../selectors":7385,"prop-types":4937,react:5183,"react-redux":5141,"react-router-dom":5168},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=(a=e("prop-types"))&&a.__esModule?a:{default:a},s=e("react-router-dom"),i=e("react-redux"),l=e("../../../contexts/i18n"),u=e("../../../components/ui/menu"),c=e("../../../selectors"),d=e("../../../helpers/constants/routes"),f=e("../../../components/component-library"),m=e("../../../helpers/constants/design-system");function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}const g=({onRemove:e,onClickBlockExplorer:t,onViewTokenDetails:n,tokenSymbol:a,isNativeAsset:o})=>{const p=(0,r.useContext)(l.I18nContext),[g,h]=(0,r.useState)(!1),y=(0,s.useHistory)(),v=(0,i.useSelector)(c.getBlockExplorerLinkText),k=(0,r.useRef)(!1);return r.default.createElement("div",{ref:k},r.default.createElement(f.ButtonIcon,{className:"asset-options__button","data-testid":"asset-options__button",onClick:()=>h(!0),ariaLabel:p("assetOptions"),iconName:f.IconName.MoreVertical,color:m.Color.textDefault,size:f.ButtonIconSize.Sm}),g?r.default.createElement(u.Menu,{anchorElement:k.current,onHide:()=>h(!1)},r.default.createElement(u.MenuItem,{iconName:f.IconName.Export,"data-testid":"asset-options__etherscan",onClick:"addBlockExplorer"===v.firstPart?()=>{y.push(`${d.NETWORKS_ROUTE}#blockExplorerUrl`)}:()=>{h(!1),t()}},p(v.firstPart,""===v.secondPart?null:[p("blockExplorerAssetAction")])),o?null:r.default.createElement(u.MenuItem,{iconName:f.IconName.Trash,"data-testid":"asset-options__hide",onClick:()=>{h(!1),e()}},p("hideTokenSymbol",[a])),o||!n?null:r.default.createElement(u.MenuItem,{iconName:f.IconName.Info,"data-testid":"asset-options__token-details",onClick:()=>{h(!1),n()}},p("tokenDetails"))):null)};g.propTypes={isNativeAsset:o.default.bool,onClickBlockExplorer:o.default.func.isRequired,onRemove:e=>{if(!1===e.isNativeAsset&&"function"!=typeof e.onRemove)throw new Error("When isNativeAsset is true, onRemove is a required prop")},onViewTokenDetails:o.default.func,tokenSymbol:e=>{if(!1===e.isNativeAsset&&"string"!=typeof e.tokenSymbol)throw new Error("When isNativeAsset is true, tokenSymbol is a required prop")}};n.default=g}}},{package:"$root$",file:"ui/pages/asset/components/asset-options.js"}],[6833,{"../../../../shared/constants/transaction":5673,"../../../../shared/modules/conversion.utils":5710,"../../../../shared/modules/hexstring-utils":5716,"../../../../shared/modules/selectors/networks":5727,"../../../components/app/assets/token-cell":5807,"../../../components/app/assets/util/calculateTokenBalance":5811,"../../../components/app/transaction-list":6147,"../../../components/app/wallet-overview/coin-buttons":6154,"../../../components/component-library":6234,"../../../components/multichain":6400,"../../../ducks/metamask/metamask":6676,"../../../ducks/ramps":6678,"../../../helpers/constants/design-system":6688,"../../../helpers/constants/routes":6694,"../../../helpers/utils/confirm-tx.util":6715,"../../../helpers/utils/portfolio":6730,"../../../hooks/useI18nContext":6794,"../../../hooks/useMultichainSelector":6802,"../../../hooks/useTokenBalances":6819,"../../../selectors":7385,"../../../selectors/multichain":7388,"../util":6843,"./chart/asset-chart":6835,"./token-buttons":6840,"@metamask/assets-controllers":1282,"@metamask/keyring-api":1873,lodash:4779,react:5183,"react-redux":5141,"react-router-dom":5168},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=B(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-router-dom"),o=e("react-redux"),s=e("@metamask/keyring-api"),i=e("lodash"),l=e("@metamask/assets-controllers"),u=e("../../../selectors"),c=e("../../../helpers/constants/design-system"),d=e("../../../components/component-library"),f=e("../../../helpers/utils/confirm-tx.util"),m=e("../../../hooks/useI18nContext"),p=e("../../../components/multichain"),g=e("../../../../shared/constants/transaction"),h=N(e("../../../components/app/assets/token-cell")),y=N(e("../../../components/app/transaction-list")),v=e("../util"),k=e("../../../helpers/constants/routes"),b=e("../../../ducks/metamask/metamask"),T=e("../../../../shared/modules/hexstring-utils"),x=N(e("../../../components/app/wallet-overview/coin-buttons")),w=e("../../../ducks/ramps"),C=e("../../../components/app/assets/util/calculateTokenBalance"),E=e("../../../hooks/useTokenBalances"),_=e("../../../hooks/useMultichainSelector"),S=e("../../../selectors/multichain"),M=e("../../../../shared/modules/selectors/networks"),I=e("../../../helpers/utils/portfolio"),A=e("../../../../shared/modules/conversion.utils"),P=N(e("./chart/asset-chart")),O=N(e("./token-buttons"));function N(e){return e&&e.__esModule?e:{default:e}}function B(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(B=function(e){return e?n:t})(e)}function D(e,t){return a.default.createElement(d.Box,{display:c.Display.Flex,justifyContent:c.JustifyContent.spaceBetween},a.default.createElement(d.Text,{color:c.TextColor.textAlternative,variant:c.TextVariant.bodyMdMedium},e),t)}n.default=({asset:e,optionsButton:t})=>{var n,N,B,R,F,j,L;const $=(0,m.useI18nContext)(),q=(0,r.useHistory)(),W=(0,o.useSelector)(u.getSelectedAccount),U=(0,o.useSelector)(b.getCurrentCurrency),H=(0,o.useSelector)(b.getConversionRate),G=(0,o.useSelector)(w.getIsNativeTokenBuyable),{chainId:z,type:V,symbol:Y,name:Q,image:K,decimals:J}=e,X=(0,o.useSelector)((e=>(0,u.getSwapsDefaultToken)(e,z)),i.isEqual),Z=(0,o.useSelector)((e=>(0,u.getIsSwapsChain)(e,z))),ee=(0,o.useSelector)((e=>(0,u.getIsBridgeChain)(e,z))),te=(0,o.useSelector)(u.getSelectedInternalAccount,i.isEqual),ne=te.methods.includes(s.EthMethod.SignTransaction)||te.methods.includes(s.EthMethod.SignUserOperation),ae=(0,o.useSelector)(u.getMarketData),re=(0,o.useSelector)(u.getCurrencyRates),oe=(0,o.useSelector)(u.getIsTestnet),se=(0,_.useMultichainSelector)(S.getMultichainShouldShowFiat,W),ie=!oe,le=(0,o.useSelector)(u.getShowFiatInTestnets),ue=se&&(ie||oe&&le),ce=(0,o.useSelector)(u.getSelectedAccountNativeTokenCachedBalanceByChainId),{tokenBalances:de}=(0,E.useTokenBalances)({chainIds:[z]}),fe=de[W.address],me=(0,o.useSelector)(u.getParticipateInMetaMetrics),pe=(0,o.useSelector)(u.getDataCollectionForMarketing),ge=(0,o.useSelector)(u.getMetaMetricsId),he=V===g.AssetType.token?(0,T.toChecksumHexAddress)(e.address):(0,l.getNativeTokenAddress)(z),ye=null==fe||null===(n=fe[z])||void 0===n?void 0:n[he],ve=(0,C.calculateTokenBalance)({isNative:V===g.AssetType.native,chainId:z,address:he,decimals:J,nativeBalances:ce,selectedAccountTokenBalancesAcrossChains:fe}),ke=null===(N=ae[z])||void 0===N||null===(N=N[he])||void 0===N?void 0:N.currency,be=(null===(B=ae[z])||void 0===B||null===(B=B[he])||void 0===B?void 0:B.price)||undefined,Te=V===g.AssetType.native?null===(R=re[Y])||void 0===R?void 0:R.conversionRate:(null===(F=re[ke])||void 0===F?void 0:F.conversionRate)||0,xe=be*Te*parseFloat(String(ve)),we=Te!==undefined&&be!==undefined?Te*be:undefined,Ce=null===(j=ae[z])||void 0===j?void 0:j[he],Ee=H>0&&Ce&&(Ce.marketCap>0||Ce.totalVolume>0||Ce.circulatingSupply>0||Ce.allTimeHigh>0||Ce.allTimeLow>0);e.balance={value:(0,A.hexToDecimal)(ye),display:String(ve),fiat:String(xe)};const _e=(0,a.useMemo)((()=>(0,I.getPortfolioUrl)("","asset_page",ge,me,pe,te.address,"spending-caps")),[te.address,pe,me,ge]),Se=null===(L=(0,o.useSelector)(M.getNetworkConfigurationsByChainId)[z])||void 0===L?void 0:L.name,Me=(0,S.getImageForChainId)(z);return a.default.createElement(d.Box,{marginLeft:"auto",marginRight:"auto",marginTop:4,className:"asset__content"},a.default.createElement(d.Box,{display:c.Display.Flex,flexDirection:c.FlexDirection.Row,justifyContent:c.JustifyContent.spaceBetween,paddingLeft:2,paddingRight:4,paddingBottom:1},a.default.createElement(d.Box,{display:c.Display.Flex},a.default.createElement(d.ButtonIcon,{color:c.IconColor.iconAlternative,marginRight:1,size:d.ButtonIconSize.Sm,ariaLabel:$("back"),iconName:d.IconName.ArrowLeft,onClick:()=>q.push(k.DEFAULT_ROUTE)}),a.default.createElement(d.Text,{"data-testid":"asset-name",color:c.TextColor.textAlternative},Q&&Y&&Q!==Y?`${Q} (${Y})`:Q??Y)),t),a.default.createElement(P.default,{chainId:z,address:he,currentPrice:we,currency:U}),a.default.createElement(d.Box,{marginTop:4},V===g.AssetType.native?a.default.createElement(x.default,{account:te,trackingLocation:"asset-page",isBuyableChain:G,isSigningEnabled:ne,isSwapsChain:Z,isBridgeChain:ee,chainId:z,defaultSwapsToken:X}):a.default.createElement(O.default,{token:e})),a.default.createElement(d.Box,{display:c.Display.Flex,flexDirection:c.FlexDirection.Column,paddingTop:5},a.default.createElement(d.Text,{variant:c.TextVariant.headingMd,paddingBottom:2,paddingLeft:4},$("yourBalance")),[g.AssetType.token,g.AssetType.native].includes(V)&&a.default.createElement(h.default,{key:`${Y}-${he}`,token:{address:he,chainId:z,symbol:Y,image:K,title:Q??Y,tokenFiatAmount:ue&&be?xe:null,string:ve?ve.toString():"",decimals:e.decimals,aggregators:V===g.AssetType.token&&e.aggregators?e.aggregators:[],isNative:V===g.AssetType.native,primary:ve?ve.toString():"",secondary:ve?Number(ve):0}}),a.default.createElement(d.Box,{marginTop:2,display:c.Display.Flex,flexDirection:c.FlexDirection.Column,gap:7},[g.AssetType.token,g.AssetType.native].includes(V)&&a.default.createElement(d.Box,{display:c.Display.Flex,flexDirection:c.FlexDirection.Column,paddingLeft:4,paddingRight:4},a.default.createElement(d.Text,{variant:c.TextVariant.headingMd,paddingBottom:4},$("tokenDetails")),a.default.createElement(d.Box,{display:c.Display.Flex,flexDirection:c.FlexDirection.Column,gap:2},D($("network"),a.default.createElement(d.Text,{display:c.Display.Flex,alignItems:c.AlignItems.center,gap:1,"data-testid":"asset-network"},a.default.createElement(d.AvatarNetwork,{src:Me,name:Se,size:d.AvatarNetworkSize.Sm}),Se)),V===g.AssetType.token&&a.default.createElement(d.Box,null,D($("contractAddress"),a.default.createElement(p.AddressCopyButton,{address:he,shorten:!0})),a.default.createElement(d.Box,{display:c.Display.Flex,flexDirection:c.FlexDirection.Column,gap:2},e.decimals!==undefined&&D($("tokenDecimal"),a.default.createElement(d.Text,null,e.decimals)),e.aggregators&&e.aggregators.length>0&&a.default.createElement(d.Box,null,a.default.createElement(d.Text,{color:c.TextColor.textAlternative,variant:c.TextVariant.bodyMdMedium},$("tokenList")),a.default.createElement(d.Text,null,e.aggregators.map((e=>e.replace(/^metamask$/iu,"MetaMask"))).join(", "))))),D($("spendingCaps"),a.default.createElement(d.ButtonLink,{className:"asset-page__spending-caps mm-text--body-md-medium",href:_e,target:"_blank",rel:"noopener noreferrer"},$("editInPortfolio"))))),Ee&&a.default.createElement(d.Box,{paddingLeft:4,paddingRight:4},a.default.createElement(d.Text,{variant:c.TextVariant.headingMd,paddingBottom:4},$("marketDetails")),a.default.createElement(d.Box,{display:c.Display.Flex,flexDirection:c.FlexDirection.Column,gap:2},Ce.marketCap>0&&D($("marketCap"),a.default.createElement(d.Text,{"data-testid":"asset-market-cap"},(0,v.localizeLargeNumber)($,Te*Ce.marketCap))),Ce.totalVolume>0&&D($("totalVolume"),a.default.createElement(d.Text,null,(0,v.localizeLargeNumber)($,Te*Ce.totalVolume))),Ce.circulatingSupply>0&&D($("circulatingSupply"),a.default.createElement(d.Text,null,(0,v.localizeLargeNumber)($,Ce.circulatingSupply))),Ce.allTimeHigh>0&&D($("allTimeHigh"),a.default.createElement(d.Text,null,(0,f.formatCurrency)(""+Te*Ce.allTimeHigh,U,(0,v.getPricePrecision)(Te*Ce.allTimeHigh)))),Ce.allTimeLow>0&&D($("allTimeLow"),a.default.createElement(d.Text,null,(0,f.formatCurrency)(""+Te*Ce.allTimeLow,U,(0,v.getPricePrecision)(Te*Ce.allTimeLow)))))),a.default.createElement(d.Box,{marginBottom:8},a.default.createElement(d.Text,{paddingLeft:4,paddingRight:4,variant:c.TextVariant.headingMd},$("yourActivity")),V===g.AssetType.native?a.default.createElement(y.default,{hideTokenTransactions:!0}):a.default.createElement(y.default,{tokenAddress:he})))))}}}},{package:"$root$",file:"ui/pages/asset/components/asset-page.tsx"}],[6834,{"../../../components/component-library":6234,"../../../helpers/constants/design-system":6688,"../../../helpers/utils/confirm-tx.util":6715,"../util":6843,react:5183},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("../../../helpers/constants/design-system"),o=e("../../../components/component-library"),s=e("../../../helpers/utils/confirm-tx.util"),i=e("../util");function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}const u=a.default.createElement("svg",{className:"chart-up",width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.default.createElement("path",{d:"M9.75 3.8125L6.25 7.4875L4.91667 5.3875L2.25 8.1875",strokeLinecap:"round",strokeLinejoin:"round"}),a.default.createElement("path",{d:"M8.08398 3.8125H9.75065V5.5625",strokeLinecap:"round",strokeLinejoin:"round"})),c=a.default.createElement("svg",{className:"chart-down",width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.default.createElement("path",{d:"M9.75 8.1875L6.25 4.5125L4.91667 6.6125L2.25 3.8125",strokeLinecap:"round",strokeLinejoin:"round"}),a.default.createElement("path",{d:"M8.08398 8.1875H9.75065V6.4375",strokeLinecap:"round",strokeLinejoin:"round"})),d=(0,a.forwardRef)(((e,t)=>{const[{price:n,date:l},d]=(0,a.useState)({price:e.price,date:e.date});(0,a.useImperativeHandle)(t,(()=>({setPrice:d})));const{loading:f,currency:m,comparePrice:p}=e,g=n!==undefined&&p!==undefined?n-p:undefined;return a.default.createElement(o.Box,{marginLeft:4,marginRight:4},a.default.createElement(o.Text,{"data-testid":"asset-hovered-price",style:{width:"100px"},variant:r.TextVariant.headingLg,borderRadius:r.BorderRadius.LG,marginBottom:1,backgroundColor:f&&!n?r.BackgroundColor.backgroundAlternative:r.BackgroundColor.transparent},n?(0,s.formatCurrency)(`${n}`,m,(0,i.getPricePrecision)(n)):" "),a.default.createElement(o.Box,null,g!==undefined&&p!==undefined?a.default.createElement(o.Box,{style:{opacity:f?i.loadingOpacity:1}},g>=0?u:c,a.default.createElement(o.Text,{display:r.Display.InlineBlock,variant:r.TextVariant.bodyMdMedium,marginLeft:1,marginRight:1,color:g>=0?r.TextColor.successDefault:r.TextColor.errorDefault},(0,s.formatCurrency)(`${Math.abs(g)}`,m,(0,i.getPricePrecision)(g))," ","(",g>=0?"+":"",(g/p*100).toFixed(2),"%)"),a.default.createElement(o.Text,{display:r.Display.InlineBlock,variant:r.TextVariant.bodyMdMedium,color:r.TextColor.textAlternative},(0,i.getShortDateFormatter)().format(l))):a.default.createElement(o.Text,{style:{width:"200px"},backgroundColor:f?r.BackgroundColor.backgroundAlternative:r.BackgroundColor.transparent,borderRadius:r.BorderRadius.LG,variant:r.TextVariant.bodyMdMedium}," ")))}));n.default=d}}},{package:"$root$",file:"ui/pages/asset/components/asset-price.tsx"}],[6835,{"../../../../components/component-library":6234,"../../../../helpers/constants/design-system":6688,"../../../../hooks/useI18nContext":6794,"../../../../hooks/useTheme":6817,"../../useHistoricalPrices":6842,"../../util":6843,"../asset-price":6834,"./chart-tooltip":6836,"./crosshair-plugin":6837,"@metamask/design-tokens":1365,"chart.js":4021,classnames:4026,react:5183,"react-chartjs-2":5008},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("chart.js"),o=e("react-chartjs-2"),s=y(e("classnames")),i=e("@metamask/design-tokens"),l=e("../../../../hooks/useTheme"),u=e("../../../../helpers/constants/design-system"),c=e("../../../../components/component-library"),d=e("../../../../hooks/useI18nContext"),f=e("../../useHistoricalPrices"),m=e("../../util"),p=y(e("../asset-price")),g=y(e("./chart-tooltip")),h=e("./crosshair-plugin");function y(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function k(){return k=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},k.apply(null,arguments)}r.Chart.register(r.LinearScale,r.PointElement,r.LineElement,r.Filler,r.Decimation,h.CrosshairPlugin);const b={normalized:!0,parsing:!1,aspectRatio:2.9,layout:{autoPadding:!1,padding:0},animation:{duration:0},fill:!0,backgroundColor:({chart:e})=>{const t=e.ctx.createLinearGradient(0,0,0,e.height);return t.addColorStop(0,`${e.options.borderColor}60`),t.addColorStop(1,`${e.options.borderColor}00`),t},elements:{line:{borderWidth:2},point:{pointStyle:!1}},plugins:{decimation:{algorithm:"lttb",samples:150,threshold:150,enabled:!0}}};n.default=({chainId:e,address:t,currentPrice:n,currency:r})=>{var h;const y=(0,d.useI18nContext)(),v=(0,l.useTheme)(),[T,x]=(0,a.useState)("1D"),w=(0,a.useRef)(),C=(0,a.useRef)(),{loading:E,data:{prices:_,edges:S}}=(0,f.useHistoricalPrices)({chainId:e,address:t,currency:r,timeRange:T}),{xMin:M,xMax:I,yMin:A,yMax:P}=S??{},O={...b,borderColor:"dark"===v?i.brandColor.blue400:i.brandColor.blue500,scales:{x:{min:null==M?void 0:M.x,max:null==I?void 0:I.x,display:!1,type:"linear"},y:{min:null==A?void 0:A.y,max:null==P?void 0:P.y,display:!1}}};return n&&(E||_)?a.default.createElement(c.Box,{borderRadius:u.BorderRadius.LG},a.default.createElement(p.default,{ref:C,loading:E,currency:r,price:n,date:Date.now(),comparePrice:null==_||null===(h=_[0])||void 0===h?void 0:h.y}),a.default.createElement(c.Box,{"data-testid":"asset-price-chart",marginTop:4,borderRadius:u.BorderRadius.LG,backgroundColor:E&&!_?u.BackgroundColor.backgroundAlternative:u.BackgroundColor.transparent},a.default.createElement(c.Box,{style:{opacity:E&&_?m.loadingOpacity:1}},a.default.createElement(g.default,k({point:P},S,{currency:r})),a.default.createElement(c.Box,{style:{aspectRatio:`${O.aspectRatio}`},display:u.Display.Flex,flexDirection:u.FlexDirection.Column,justifyContent:n?u.JustifyContent.flexEnd:u.JustifyContent.flexStart},a.default.createElement(o.Line,{ref:w,data:{datasets:[{data:_}]},options:O,updateMode:"none",onMouseMove:e=>{var t;const n=null==w||null===(t=w.current)||void 0===t||null===(t=t.data)||void 0===t||null===(t=t.datasets)||void 0===t||null===(t=t[0])||void 0===t?void 0:t.data;if(n){const t=e.target,r=n[Math.max(0,Math.min(n.length-1,Math.round(e.nativeEvent.offsetX/t.clientWidth*n.length)))];var a;if(r)null==C||null===(a=C.current)||void 0===a||a.setPrice({price:r.y,date:r.x})}},onMouseOut:()=>{var e;null==C||null===(e=C.current)||void 0===e||e.setPrice({price:n,date:Date.now()})}})),a.default.createElement(g.default,k({point:A},S,{currency:r}))),a.default.createElement(c.Box,{style:_?undefined:{visibility:"hidden"},display:u.Display.Flex,justifyContent:u.JustifyContent.spaceBetween,marginTop:4,marginLeft:4,marginRight:4},[[y("oneDayAbbreviation"),"1D"],[y("oneWeekAbbreviation"),"7D"],[y("oneMonthAbbreviation"),"1M"],[y("threeMonthsAbbreviation"),"3M"],[y("oneYearAbbreviation"),"1Y"],[y("all"),"1000Y"]].map((([e,t])=>a.default.createElement(c.ButtonBase,{key:t,className:(0,s.default)("time-range-button",{"time-range-button__selected":t===T}),onClick:()=>x(t),variant:u.TextVariant.bodySmMedium,size:c.ButtonBaseSize.Sm,backgroundColor:u.BackgroundColor.transparent,color:u.TextColor.textAlternative},e)))))):null}}}},{package:"$root$",file:"ui/pages/asset/components/chart/asset-chart.tsx"}],[6836,{"../../../../components/component-library":6234,"../../../../helpers/constants/design-system":6688,"../../../../helpers/utils/confirm-tx.util":6715,"../../util":6843,react:5183},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=(a=e("react"))&&a.__esModule?a:{default:a},o=e("../../../../components/component-library"),s=e("../../../../helpers/utils/confirm-tx.util"),i=e("../../../../helpers/constants/design-system"),l=e("../../util");n.default=({point:e,xMin:t,xMax:n,currency:a})=>{const u=e&&t&&n?(e.x-t.x)/(n.x-t.x):0;return r.default.createElement(o.Box,{style:{...u<.5?{paddingRight:100-200*u+"%"}:{paddingLeft:100-2*(100-100*u)+"%"},direction:u<.5?o.TextDirection.LeftToRight:o.TextDirection.RightToLeft}},r.default.createElement(o.Text,{marginLeft:4,marginRight:4,variant:i.TextVariant.bodySmMedium,color:i.TextColor.textAlternative,textAlign:i.TextAlign.Center},(null==e?void 0:e.y)===undefined?" ":(0,s.formatCurrency)(`${null==e?void 0:e.y}`,a,(0,l.getPricePrecision)(null==e?void 0:e.y))))}}}},{package:"$root$",file:"ui/pages/asset/components/chart/chart-tooltip.tsx"}],[6837,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.CrosshairPlugin=void 0;n.CrosshairPlugin={id:"crosshair",afterEvent(e,{event:t}){e.crosshairX="mouseout"===t.type?undefined:t.x??undefined,e.draw()},afterDraw(e){if(e.crosshairX!==undefined){const t=e.data.datasets[0].data,n=t[Math.max(0,Math.min(t.length-1,Math.round(e.crosshairX/e.width*t.length)))];if(n){const{x:t,y:a}=e.scales,r=t.getPixelForValue(n.x),o=a.getPixelForValue(n.y);e.ctx.lineWidth=1,e.ctx.strokeStyle="#BBC0C5",e.ctx.beginPath(),e.ctx.moveTo(r,0),e.ctx.lineTo(r,e.height),e.ctx.stroke(),e.ctx.beginPath(),e.ctx.arc(r,o,3,0,2*Math.PI),e.ctx.fillStyle=e.options.borderColor,e.ctx.fill()}}}}}}},{package:"$root$",file:"ui/pages/asset/components/chart/crosshair-plugin.ts"}],[6838,{"../../../../shared/constants/metametrics":5654,"../../../../shared/constants/transaction":5673,"../../../../shared/modules/selectors/networks":5727,"../../../contexts/metametrics":6652,"../../../helpers/utils/util":6737,"../../../hooks/useIsOriginalNativeTokenSymbol":6795,"../../../selectors":7385,"./asset-options":6832,"./asset-page":6833,"@metamask/etherscan-link":1802,react:5183,"react-redux":5141},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),o=e("@metamask/etherscan-link"),s=e("../../../selectors"),i=e("../../../../shared/modules/selectors/networks"),l=e("../../../../shared/constants/transaction"),u=e("../../../hooks/useIsOriginalNativeTokenSymbol"),c=e("../../../../shared/constants/metametrics"),d=e("../../../helpers/utils/util"),f=e("../../../contexts/metametrics"),m=g(e("./asset-options")),p=g(e("./asset-page"));function g(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}n.default=({token:e,chainId:t})=>{const{symbol:n}=e,g=(0,s.getNativeCurrencyForChain)(t),{type:h}=(0,r.useSelector)(i.getProviderConfig)??{},{address:y}=(0,r.useSelector)(s.getSelectedInternalAccount),v=(0,r.useSelector)(s.getRpcPrefsForCurrentProvider),k=(0,o.getAccountLink)(y,t,v),b=(0,a.useContext)(f.MetaMetricsContext),T=(0,u.useIsOriginalNativeTokenSymbol)(t,n,h);return a.default.createElement(p.default,{asset:{chainId:t,type:l.AssetType.native,symbol:n,image:g,decimals:e.decimals,isOriginalNativeSymbol:!0===T},optionsButton:a.default.createElement(m.default,{isNativeAsset:!0,onClickBlockExplorer:()=>{b({event:"Clicked Block Explorer Link",category:c.MetaMetricsEventCategory.Navigation,properties:{link_type:"Account Tracker",action:"Asset Options",block_explorer_domain:(0,d.getURLHostName)(k)}}),global.platform.openTab({url:k})}})})}}}},{package:"$root$",file:"ui/pages/asset/components/native-asset.tsx"}],[6839,{"../../../../shared/constants/metametrics":5654,"../../../../shared/constants/transaction":5673,"../../../../shared/modules/selectors/networks":5727,"../../../../shared/modules/string-utils":5730,"../../../contexts/metametrics":6652,"../../../helpers/utils/util":6737,"../../../hooks/useTokenFiatAmount":6823,"../../../hooks/useTokenTracker":6826,"../../../selectors":7385,"../../../store/actions":7400,"./asset-options":6832,"./asset-page":6833,"@metamask/etherscan-link":1802,react:5183,"react-redux":5141,"react-router-dom":5168},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),o=e("@metamask/etherscan-link"),s=e("react-router-dom"),i=e("../../../selectors"),l=e("../../../../shared/modules/string-utils"),u=e("../../../hooks/useTokenTracker"),c=e("../../../../shared/constants/transaction"),d=e("../../../hooks/useTokenFiatAmount"),f=e("../../../helpers/utils/util"),m=e("../../../contexts/metametrics"),p=e("../../../store/actions"),g=e("../../../../shared/constants/metametrics"),h=e("../../../../shared/modules/selectors/networks"),y=k(e("./asset-options")),v=k(e("./asset-page"));function k(e){return e&&e.__esModule?e:{default:e}}function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}n.default=({token:e,chainId:t})=>{var n,k,b;const{address:T,symbol:x,isERC721:w}=e,C=(0,r.useSelector)(i.getTokenList),E=(0,r.useSelector)(h.getNetworkConfigurationsByChainId),_=null===(n=E[t])||void 0===n?void 0:n.defaultBlockExplorerUrlIndex,S=_===undefined?null:null===(k=E[t])||void 0===k?void 0:k.blockExplorerUrls[_],{address:M}=(0,r.useSelector)(i.getSelectedInternalAccount),I=(0,r.useSelector)(i.selectERC20TokensByChain),A=(0,s.useHistory)(),P=(0,r.useDispatch)(),O=(0,a.useContext)(m.MetaMetricsContext),N=Object.values(C).find((e=>(0,l.isEqualCaseInsensitive)(e.symbol,x)&&(0,l.isEqualCaseInsensitive)(e.address,T))),B=null==I||null===(b=I[t])||void 0===b||null===(b=b.data)||void 0===b?void 0:b[T.toLowerCase()],D=(null==N?void 0:N.name)||(null==B?void 0:B.name)||x,R=(null==N?void 0:N.iconUrl)||(null==B?void 0:B.iconUrl)||"",F=null==N?void 0:N.aggregators,{tokensWithBalances:j}=(0,u.useTokenTracker)({tokens:[e],address:undefined}),L=null==j?void 0:j[0],$=(0,d.useTokenFiatAmount)(T,null==L?void 0:L.string,x,{},!1),q=(0,o.getTokenTrackerLink)(e.address,t,"",M,{blockExplorerUrl:S??""});return a.default.createElement(v.default,{asset:{chainId:t,type:c.AssetType.token,address:T,symbol:x,name:D,decimals:e.decimals,image:R,aggregators:F,balance:{value:null==L?void 0:L.balance,display:`${(0,f.roundToDecimalPlacesRemovingExtraZeroes)(null==L?void 0:L.string,5)}`,fiat:$},isERC721:w},optionsButton:a.default.createElement(y.default,{isNativeAsset:!1,onRemove:()=>P((0,p.showModal)({name:"HIDE_TOKEN_CONFIRMATION",token:e,history:A})),onClickBlockExplorer:()=>{O({event:"Clicked Block Explorer Link",category:g.MetaMetricsEventCategory.Navigation,properties:{link_type:"Token Tracker",action:"Token Options",block_explorer_domain:(0,f.getURLHostName)(q)}}),global.platform.openTab({url:q})},tokenSymbol:e.symbol})})}}}},{package:"$root$",file:"ui/pages/asset/components/token-asset.tsx"}],[6840,{"../../../../shared/constants/metametrics":5654,"../../../../shared/constants/transaction":5673,"../../../../shared/modules/selectors/networks":5727,"../../../components/component-library":6234,"../../../components/ui/icon-button/icon-button":6558,"../../../contexts/i18n":6648,"../../../contexts/metametrics":6652,"../../../ducks/ramps":6678,"../../../ducks/send":6681,"../../../ducks/swaps/swaps":6684,"../../../helpers/constants/design-system":6688,"../../../helpers/constants/error-keys":6689,"../../../helpers/constants/routes":6694,"../../../helpers/utils/hardware":6719,"../../../hooks/bridge/useBridging":6751,"../../../hooks/ramps/useRamps/useRamps":6770,"../../../selectors":7385,"../../../store/actions":7400,react:5183,"react-redux":5141,"react-router-dom":5168},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),o=e("react-router-dom"),s=e("../../../contexts/i18n"),i=e("../../../helpers/constants/routes"),l=e("../../../ducks/send"),u=e("../../../helpers/utils/hardware"),c=e("../../../ducks/swaps/swaps"),d=C(e("../../../hooks/ramps/useRamps/useRamps")),f=e("../../../selectors"),m=e("../../../../shared/modules/selectors/networks"),p=C(e("../../../hooks/bridge/useBridging")),g=e("../../../helpers/constants/error-keys"),h=e("../../../store/actions"),y=e("../../../contexts/metametrics"),v=e("../../../../shared/constants/metametrics"),k=e("../../../../shared/constants/transaction"),b=e("../../../helpers/constants/design-system"),T=C(e("../../../components/ui/icon-button/icon-button")),x=e("../../../components/component-library"),w=e("../../../ducks/ramps");function C(e){return e&&e.__esModule?e:{default:e}}function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}n.default=({token:e})=>{const t=(0,r.useDispatch)(),n=(0,a.useContext)(s.I18nContext),C=(0,a.useContext)(y.MetaMetricsContext),E=(0,o.useHistory)(),_=(0,r.useSelector)(f.getCurrentKeyring),S=(0,u.isHardwareKeyring)(_.type),M=(0,r.useSelector)(m.getCurrentChainId),I=(0,r.useSelector)(f.getNetworkConfigurationIdByChainId),A=(0,r.useSelector)(f.getIsSwapsChain),P=(0,r.useSelector)(f.getIsBridgeChain),O=(0,r.useSelector)(w.getIsNativeTokenBuyable),{openBuyCryptoInPdapp:N}=(0,d.default)(),{openBridgeExperience:B}=(0,p.default)();(0,a.useEffect)((()=>{e.isERC721&&t((0,h.showModal)({name:"CONVERT_TOKEN_TO_NFT",tokenAddress:e.address}))}),[e.isERC721,e.address,t]);const D=async()=>{if(M!==e.chainId)try{const n=I[e.chainId];await t((0,h.setActiveNetworkWithError)(n)),await t((0,h.setSwitchedNetworkDetails)({networkClientId:n}))}catch(t){throw console.error(`Failed to switch chains.\n        Target chainId: ${e.chainId}, Current chainId: ${M}.\n        ${t}`),t}};return a.default.createElement(x.Box,{display:b.Display.Flex,justifyContent:b.JustifyContent.spaceEvenly},a.default.createElement(T.default,{className:"token-overview__button",Icon:a.default.createElement(x.Icon,{name:x.IconName.PlusMinus,color:b.IconColor.primaryInverse,size:x.IconSize.Sm}),label:n("buyAndSell"),"data-testid":"token-overview-buy",onClick:()=>{N(),C({event:v.MetaMetricsEventName.NavBuyButtonClicked,category:v.MetaMetricsEventCategory.Navigation,properties:{location:"Token Overview",text:"Buy",chain_id:M,token_symbol:e.symbol}})},disabled:e.isERC721||!O,tooltipRender:null}),a.default.createElement(T.default,{className:"token-overview__button",onClick:async()=>{C({event:v.MetaMetricsEventName.NavSendButtonClicked,category:v.MetaMetricsEventCategory.Navigation,properties:{token_symbol:e.symbol,location:v.MetaMetricsSwapsEventSource.TokenView,text:"Send",chain_id:e.chainId}},{excludeMetaMetricsId:!1});try{await D(),await t((0,l.startNewDraftTransaction)({type:k.AssetType.token,details:e})),E.push(i.SEND_ROUTE)}catch(e){if(!e.message.includes(g.INVALID_ASSET_TYPE))throw e}},Icon:a.default.createElement(x.Icon,{name:x.IconName.Arrow2UpRight,color:b.IconColor.primaryInverse,size:x.IconSize.Sm}),label:n("send"),"data-testid":"eth-overview-send",disabled:e.isERC721,tooltipRender:null}),A&&a.default.createElement(T.default,{className:"token-overview__button",Icon:a.default.createElement(x.Icon,{name:x.IconName.SwapHorizontal,color:b.IconColor.primaryInverse,size:x.IconSize.Sm}),onClick:async()=>{var n,a,r,o,s;(await D(),C({event:v.MetaMetricsEventName.NavSwapButtonClicked,category:v.MetaMetricsEventCategory.Swaps,properties:{token_symbol:e.symbol,location:v.MetaMetricsSwapsEventSource.TokenView,text:"Swap",chain_id:M}}),t((0,c.setSwapsFromToken)({...e,address:null===(n=e.address)||void 0===n?void 0:n.toLowerCase(),iconUrl:e.image,balance:null==e||null===(a=e.balance)||void 0===a?void 0:a.value,string:null==e||null===(r=e.balance)||void 0===r?void 0:r.display})),S)?null===(o=(s=global.platform).openExtensionInBrowser)||void 0===o||o.call(s,i.PREPARE_SWAP_ROUTE,undefined,!1):E.push(i.PREPARE_SWAP_ROUTE)},label:n("swap"),tooltipRender:null}),P&&a.default.createElement(T.default,{className:"token-overview__button","data-testid":"token-overview-bridge",Icon:a.default.createElement(x.Icon,{name:x.IconName.Bridge,color:b.IconColor.primaryInverse,size:x.IconSize.Sm}),label:n("bridge"),onClick:async()=>{var t,n;await D(),B(v.MetaMetricsSwapsEventSource.TokenView,{...e,iconUrl:e.image,balance:null==e||null===(t=e.balance)||void 0===t?void 0:t.value,string:null==e||null===(n=e.balance)||void 0===n?void 0:n.display,name:e.name??""})},tooltipRender:null}))}}}},{package:"$root$",file:"ui/pages/asset/components/token-buttons.tsx"}],[6841,{"./asset":6831},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./asset"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/asset/index.js"}],[6842,{"../../../shared/constants/time":5671,"../../../shared/lib/fetch-with-cache":5686,"../../selectors":7385,"./util":6843,react:5183,"react-redux":5141},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useHistoricalPrices=void 0;var a,r=e("react"),o=e("react-redux"),s=(a=e("../../../shared/lib/fetch-with-cache"))&&a.__esModule?a:{default:a},i=e("../../../shared/constants/time"),l=e("../../selectors"),u=e("./util");n.useHistoricalPrices=({chainId:e,address:t,currency:n,timeRange:a})=>{const c=(0,o.useSelector)(l.getShouldShowFiat)&&(0,u.chainSupportsPricing)(e),[d,f]=(0,r.useState)(c),[m,p]=(0,r.useState)({});return(0,r.useEffect)((()=>{c?(f(!0),(0,s.default)({url:`https://price.api.cx.metamask.io/v1/chains/${e}/historical-prices/${t}?vsCurrency=${n}&timePeriod=${a}`,cacheOptions:{cacheRefreshTime:5*i.MINUTE},functionName:"GetAssetHistoricalPrices",fetchOptions:{headers:{"X-Client-Id":"extension"}}}).catch((()=>({}))).then((e=>{var t;const n=null==e||null===(t=e.prices)||void 0===t?void 0:t.map((e=>({x:null==e?void 0:e[0],y:null==e?void 0:e[1]})));let a;if(n&&n.length>0){let[e,t,r,o]=[];for(const a of n)e=!e||a.x<e.x?a:e,t=!t||a.x>t.x?a:t,r=!r||a.y<r.y?a:r,o=!o||a.y>o.y?a:o;a={xMin:e,xMax:t,yMin:r,yMax:o}}p({prices:n,edges:a}),f(!1)}))):(p({}),f(!1))}),[c,e,t,n,a]),{loading:d,data:m}}}}},{package:"$root$",file:"ui/pages/asset/useHistoricalPrices.ts"}],[6843,{"@metamask/assets-controllers":1282},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.localizeLargeNumber=n.loadingOpacity=n.getShortDateFormatterV2=n.getShortDateFormatter=n.getPricePrecision=n.findAssetByAddress=n.chainSupportsPricing=void 0;var a=e("@metamask/assets-controllers");n.getShortDateFormatter=()=>Intl.DateTimeFormat(navigator.language,{month:"short",day:"numeric",hour:"numeric",minute:"numeric"});n.getShortDateFormatterV2=()=>Intl.DateTimeFormat(navigator.language,{year:"numeric",month:"short",day:"numeric"});n.localizeLargeNumber=(e,t)=>t>=1e12?`${(t/1e12).toFixed(2)}${e("trillionAbbreviation")}`:t>=1e9?`${(t/1e9).toFixed(2)}${e("billionAbbreviation")}`:t>=1e6?`${(t/1e6).toFixed(2)}${e("millionAbbreviation")}`:t.toFixed(2);n.getPricePrecision=e=>{if(0===e)return 1;let t=2;for(let n=Math.abs(e);n<1;t++)n*=10;return t};n.chainSupportsPricing=e=>a.SUPPORTED_CHAIN_IDS.includes(e);n.loadingOpacity=.2;n.findAssetByAddress=(e,t,n)=>{if(!n)return console.error("Chain ID is required."),null;const a=e[n];return a?t?a.find((e=>e.address&&e.address.toLowerCase()===t.toLowerCase())):a.find((e=>!e.address)):(console.warn(`No tokens found for chainId: ${n}`),null)}}}},{package:"$root$",file:"ui/pages/asset/util.ts"}],[6844,{"../../../components/component-library":6234,"../../../contexts/i18n":6648,"../../../helpers/constants/routes":6694,react:5183,"react-router-dom":5168},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-router-dom"),o=e("../../../helpers/constants/routes"),s=e("../../../components/component-library"),i=e("../../../contexts/i18n");function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}n.default=()=>{const e=(0,a.useContext)(i.I18nContext),t=(0,r.useHistory)();return a.default.createElement(s.Button,{onClick:()=>{t.push(`${o.CROSS_CHAIN_SWAP_ROUTE}${o.PREPARE_SWAP_ROUTE}`)}},e("cancel"))}}}},{package:"$root$",file:"ui/pages/bridge/awaiting-signatures/awaiting-signatures-cancel-button.tsx"}],[6845,{"../../../../shared/constants/metametrics":5654,"../../../components/component-library":6234,"../../../components/ui/pulse-loader":6607,"../../../contexts/metametrics":6652,"../../../ducks/bridge/selectors":6666,"../../../helpers/constants/design-system":6688,"../../../hooks/useI18nContext":6794,"../../../selectors/selectors":7393,"lodash/isEqual":4766,react:5183,"react-redux":5141},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){var e;const t=(0,m.useI18nContext)(),{activeQuote:n}=(0,r.useSelector)(f.getBridgeQuotes,r.shallowEqual),p=null==n||null===(e=n.sentAmount)||void 0===e||null===(e=e.amount)||void 0===e?void 0:e.toNumber(),g=(0,r.useSelector)(f.getFromToken,o.default),h=(0,r.useSelector)(f.getToToken,o.default),y=(0,r.useSelector)(f.getFromChain,o.default),v=(0,r.useSelector)(f.getToChain,o.default),k=(0,r.useSelector)(s.isHardwareWallet),b=(0,r.useSelector)(s.getHardwareWalletType),T=Boolean(null==n?void 0:n.approval),x=(0,a.useContext)(u.MetaMetricsContext);return(0,a.useEffect)((()=>{var e,t;x({event:"Awaiting Signature(s) on a HW wallet",category:c.MetaMetricsEventCategory.Swaps,properties:{needs_two_confirmations:T,token_from:(null==g?void 0:g.symbol)??"",token_to:(null==h?void 0:h.symbol)??"",is_hardware_wallet:k,hardware_wallet_type:b??""},sensitiveProperties:{token_from_amount:(null==n||null===(e=n.quote)||void 0===e?void 0:e.srcTokenAmount)??"",token_to_amount:(null==n||null===(t=n.quote)||void 0===t?void 0:t.destTokenAmount)??""}})}),[]),a.default.createElement("div",{className:"awaiting-bridge-signatures"},a.default.createElement(d.Box,{paddingLeft:6,paddingRight:6,height:l.BlockSize.Full,justifyContent:l.JustifyContent.center,display:l.Display.Flex,flexDirection:l.FlexDirection.Column},a.default.createElement(d.Box,{marginTop:3,marginBottom:4},a.default.createElement(i.default,null)),!T&&a.default.createElement(d.Text,{color:l.TextColor.textDefault,variant:l.TextVariant.headingMd,as:"h3"},t("swapConfirmWithHwWallet")),T&&a.default.createElement(a.default.Fragment,null,a.default.createElement(d.Text,{variant:l.TextVariant.bodyMdBold,marginTop:2},t("bridgeConfirmTwoTransactions")),a.default.createElement("ul",{className:"awaiting-bridge-signatures__steps"},a.default.createElement("li",null,a.default.createElement(d.AvatarBase,{size:d.AvatarBaseSize.Sm,backgroundColor:l.BackgroundColor.primaryMuted,color:l.TextColor.primaryDefault,marginRight:2},"1"),t("bridgeAllowSwappingOf",[a.default.createElement(d.Text,{as:"span",variant:l.TextVariant.bodyMd,key:"allowAmount"},p),a.default.createElement(d.Text,{as:"span",variant:l.TextVariant.bodyMd,key:"allowToken"},null==g?void 0:g.symbol),a.default.createElement(d.Text,{as:"span",variant:l.TextVariant.bodyMd,key:"allowNetwork"},null==y?void 0:y.name)])),a.default.createElement("li",null,a.default.createElement(d.AvatarBase,{size:d.AvatarBaseSize.Sm,backgroundColor:l.BackgroundColor.primaryMuted,color:l.TextColor.primaryDefault,marginRight:2},"2"),t("bridgeFromTo",[a.default.createElement(d.Text,{as:"span",variant:l.TextVariant.bodyMd,key:"fromAmount"},p),a.default.createElement(d.Text,{as:"span",variant:l.TextVariant.bodyMd,key:"fromToken"},null==g?void 0:g.symbol),a.default.createElement(d.Text,{as:"span",variant:l.TextVariant.bodyMd,key:"toNetwork"},null==v?void 0:v.name)]))),a.default.createElement(d.Text,{variant:l.TextVariant.bodyXs},t("bridgeGasFeesSplit")))))};var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),o=p(e("lodash/isEqual")),s=e("../../../selectors/selectors"),i=p(e("../../../components/ui/pulse-loader")),l=e("../../../helpers/constants/design-system"),u=e("../../../contexts/metametrics"),c=e("../../../../shared/constants/metametrics"),d=e("../../../components/component-library"),f=e("../../../ducks/bridge/selectors"),m=e("../../../hooks/useI18nContext");function p(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/pages/bridge/awaiting-signatures/awaiting-signatures.tsx"}],[6846,{"../../../../shared/constants/network":5658,"../../../../shared/modules/conversion.utils":5710,"../../../../shared/modules/selectors/networks":5727,"../../../store/actions":7400,"react-redux":5141},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,a.useDispatch)(),t=(0,a.useSelector)(s.getNetworkConfigurationsByChainId),n=(0,a.useSelector)(s.getSelectedNetworkClientId);return{addSourceToken:t=>{const{address:a,decimals:r,symbol:s,icon:i}=t.quote.srcAsset;e((0,o.addToken)({address:a,decimals:r,symbol:s,image:i,networkClientId:n}))},addDestToken:async n=>{const a=(0,i.decimalToPrefixedHex)(n.quote.destChainId),s=t[a];let l;if(!s){const t=r.FEATURED_RPCS.find((e=>e.chainId===a));if(!t)throw new Error("No featured RPC found");l=await e((0,o.addNetwork)(t))}const u=s||l;if(!u)throw new Error("No destination network configuration found");const c=u.defaultRpcEndpointIndex,d=u.rpcEndpoints[c].networkClientId,{address:f,decimals:m,symbol:p,icon:g}=n.quote.destAsset;await e((0,o.addToken)({address:f,decimals:m,symbol:p,image:g,networkClientId:d}))}}};var a=e("react-redux"),r=e("../../../../shared/constants/network"),o=e("../../../store/actions"),s=e("../../../../shared/modules/selectors/networks"),i=e("../../../../shared/modules/conversion.utils")}}},{package:"$root$",file:"ui/pages/bridge/hooks/useAddToken.ts"}],[6847,{"../../../../shared/constants/transaction":5673,"../../../../shared/modules/selectors/networks":5727,"../../../ducks/bridge-status/selectors":6663,"../../../hooks/useTokenFiatAmount":6823,"react-redux":5141},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useBridgeTokenDisplayData=function(e){var t,n;const{primaryTransaction:l}=e,u=(0,a.useSelector)(r.getCurrentChainId),c=(0,a.useSelector)(i.selectBridgeHistoryForAccount)[l.id],d=(0,o.useTokenFiatAmount)(l.sourceTokenAddress,null==c||null===(t=c.pricingData)||void 0===t?void 0:t.amountSent,l.sourceTokenSymbol,{},!0,u);return{category:s.TransactionGroupCategory.bridge,displayCurrencyAmount:d,sourceTokenSymbol:l.sourceTokenSymbol,sourceTokenAmountSent:null==c||null===(n=c.pricingData)||void 0===n?void 0:n.amountSent}};var a=e("react-redux"),r=e("../../../../shared/modules/selectors/networks"),o=e("../../../hooks/useTokenFiatAmount"),s=e("../../../../shared/constants/transaction"),i=e("../../../ducks/bridge-status/selectors")}}},{package:"$root$",file:"ui/pages/bridge/hooks/useBridgeTokenDisplayData.ts"}],[6848,{"../../../../shared/constants/multichain/networks":5657,"../../../../shared/modules/bridge-utils/caip-formatters":5703,"../../../ducks/bridge/selectors":6666,"../../../hooks/useMultichainSelector":6802,"../../../selectors":7385,"../../../selectors/multichain":7388,react:5183,"react-redux":5141},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useDestinationAccount=void 0;var a=e("react-redux"),r=e("react"),o=e("../../../selectors"),s=e("../../../ducks/bridge/selectors"),i=e("../../../selectors/multichain"),l=e("../../../hooks/useMultichainSelector"),u=e("../../../../shared/modules/bridge-utils/caip-formatters"),c=e("../../../../shared/constants/multichain/networks");n.useDestinationAccount=(e=!1)=>{const[t,n]=(0,r.useState)(null),d=(0,l.useMultichainSelector)(i.getMultichainIsEvm),f=(0,a.useSelector)(o.getSelectedEvmInternalAccount),m=(0,a.useSelector)(i.getLastSelectedSolanaAccount),p=(0,l.useMultichainSelector)(o.getSelectedInternalAccount),g=d?f:p,h=(0,a.useSelector)(s.getToChain),y=h&&(0,u.formatChainIdToCaip)(h.chainId)===c.MultichainNetworks.SOLANA;return(0,r.useEffect)((()=>{n(e?g:y?m:f)}),[y,m,f]),{selectedDestinationAccount:t,setSelectedDestinationAccount:n}}}}},{package:"$root$",file:"ui/pages/bridge/hooks/useDestinationAccount.ts"}],[6849,{"../../../../shared/constants/bridge":5644,"../../../../shared/modules/bridge-utils/bridge.util":5702,"../../../../shared/modules/conversion.utils":5710,"../../../../shared/types/bridge":5735,"../../../ducks/bridge/actions":6664,"./useHandleTx":6851,"@metamask/transaction-controller":2829,"bignumber.js":3902},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.APPROVAL_TX_ERROR=n.ALLOWANCE_RESET_ERROR=void 0,n.default=function(){const{handleTx:e}=(0,d.default)();return{handleApprovalTx:async({approval:t,quoteResponse:n})=>{try{const a=(0,c.decimalToPrefixedHex)(t.chainId);(0,i.isEthUsdt)(a,n.quote.srcAsset.address)&&await(async({approval:t,quoteResponse:n,hexChainId:a})=>{try{const c=new o.BigNumber(await(0,u.getBridgeERC20Allowance)(l.ETH_USDT_ADDRESS,a)),d=new o.BigNumber(n.quote.srcTokenAmount).plus(n.quote.feeData[s.FeeType.METABRIDGE].amount).toString();if(c.lt(d)&&c.gt(0)){const a=(0,i.getEthUsdtResetData)(),o={...t,data:a};await e({txType:r.TransactionType.bridgeApproval,txParams:o,fieldsToAddToTxMeta:{sourceTokenSymbol:n.quote.srcAsset.symbol}})}}catch(e){throw new Error(`${f}: ${e}`)}})({approval:t,quoteResponse:n,hexChainId:a});return await e({txType:r.TransactionType.bridgeApproval,txParams:t,fieldsToAddToTxMeta:{sourceTokenSymbol:n.quote.srcAsset.symbol}})}catch(e){throw new Error(`${m}: ${e}`)}}}};var a,r=e("@metamask/transaction-controller"),o=e("bignumber.js"),s=e("../../../../shared/types/bridge"),i=e("../../../../shared/modules/bridge-utils/bridge.util"),l=e("../../../../shared/constants/bridge"),u=e("../../../ducks/bridge/actions"),c=e("../../../../shared/modules/conversion.utils"),d=(a=e("./useHandleTx"))&&a.__esModule?a:{default:a};const f=n.ALLOWANCE_RESET_ERROR="Eth USDT allowance reset failed",m=n.APPROVAL_TX_ERROR="Approve transaction failed"}}},{package:"$root$",file:"ui/pages/bridge/hooks/useHandleApprovalTx.ts"}],[6850,{"../../../../shared/modules/Numeric":5700,"../../../../shared/types/bridge":5735,"./useHandleTx":6851,"@metamask/transaction-controller":2829,"bignumber.js":3902,"react-redux":5141},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const{handleTx:e}=(0,u.default)(),t=(0,s.useDispatch)();return{handleBridgeTx:async({quoteResponse:n,approvalTxId:a})=>{const s=new r.BigNumber(n.quote.srcTokenAmount).plus(n.quote.feeData[l.FeeType.METABRIDGE].amount),u=new i.Numeric(s,10).shiftedBy(n.quote.srcAsset.decimals).toString(),c="string"==typeof n.trade,d={destinationChainId:new i.Numeric(n.quote.destChainId,10).toPrefixedHexString().toLowerCase(),sourceTokenAmount:n.quote.srcTokenAmount,sourceTokenSymbol:n.quote.srcAsset.symbol,sourceTokenDecimals:n.quote.srcAsset.decimals,sourceTokenAddress:n.quote.srcAsset.address,destinationTokenAmount:n.quote.destTokenAmount,destinationTokenSymbol:n.quote.destAsset.symbol,destinationTokenDecimals:n.quote.destAsset.decimals,destinationTokenAddress:n.quote.destAsset.address,approvalTxId:a,swapTokenValue:u,isSolana:c,isBridgeTx:!0},f=await e({txType:o.TransactionType.bridge,txParams:n.trade,fieldsToAddToTxMeta:d});return c&&f&&(f.isSolana||(f.isSolana=!0),f.hash&&t({type:"TRANSACTION_CREATED",payload:f})),f}}};var a,r=e("bignumber.js"),o=e("@metamask/transaction-controller"),s=e("react-redux"),i=e("../../../../shared/modules/Numeric"),l=e("../../../../shared/types/bridge"),u=(a=e("./useHandleTx"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/bridge/hooks/useHandleBridgeTx.ts"}],[6851,{"../../../../shared/lib/accounts/solana-wallet-snap":5680,"../../../../shared/modules/conversion.utils":5710,"../../../../shared/modules/selectors":5726,"../../../ducks/bridge/utils":6667,"../../../ducks/metamask/metamask":6676,"../../../helpers/constants/routes":6694,"../../../hooks/accounts/useMultichainWalletSnapClient":6741,"../../../hooks/useMultichainSelector":6802,"../../../selectors":7385,"../../../selectors/multichain":7388,"../../../store/actions":7400,"@metamask/keyring-api":1873,"@metamask/transaction-controller":2829,react:5183,"react-redux":5141,"react-router-dom":5168},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,r.useDispatch)(),t=(0,r.useSelector)(y.checkNetworkAndAccountSupports1559),n=(0,r.useSelector)(c.getGasFeeEstimates),k=(0,r.useSelector)(m.getIsSmartTransaction),b=(0,r.useSelector)(y.getNetworkConfigurationIdByChainId),T=(0,r.useSelector)(y.getSelectedInternalAccount),x=(0,r.useSelector)(p.getMultichainCurrentChainId),w=(0,h.useMultichainWalletSnapSender)(g.SOLANA_WALLET_SNAP_ID),C=(0,i.useHistory)(),E=(0,r.useSelector)(y.getMemoizedUnapprovedTemplatedConfirmations),_=(0,r.useSelector)(y.getMemoizedUnapprovedConfirmations);(0,s.useEffect)((()=>{const e=E.find((e=>e.origin===g.SOLANA_WALLET_SNAP_ID)),t=_.find((e=>e.origin===g.SOLANA_WALLET_SNAP_ID));e?C.push(`${v.CONFIRMATION_V_NEXT_ROUTE}/${e.id}`):t&&C.push(`${v.CONFIRM_TRANSACTION_ROUTE}/${t.id}`)}),[C,E,_]);const S=(0,d.useMultichainSelector)(p.getMultichainIsSolana);return{handleTx:async({txType:r,txParams:s,fieldsToAddToTxMeta:i})=>S&&r===a.TransactionType.bridge&&"string"==typeof s?(console.log("Handling Solana bridge transaction"),(async({txType:e,txParams:t,fieldsToAddToTxMeta:n})=>{const r=await w.send({id:crypto.randomUUID(),jsonrpc:"2.0",method:o.KeyringRpcMethod.SubmitRequest,params:{request:{params:{account:{address:T.address},transaction:t,scope:x},method:"signAndSendTransaction"},id:crypto.randomUUID(),account:T.id,scope:x}});let s;console.log("===SOLANA=== snap response:",r),"string"==typeof r?s=r:r&&"object"==typeof r&&r.result&&"object"==typeof r.result&&(console.log("===SOLANA=== snap response result:",r.result),s=r.result.signature||r.result.txid||r.result.hash||r.result.txHash),console.log("===SOLANA=== Extracted signature:",s);const i={...n,id:crypto.randomUUID(),chainId:x,networkClientId:T.id,time:Date.now(),txParams:{data:t},type:e,status:a.TransactionStatus.submitted,hash:s,isSolana:!0,isBridgeTx:!0,actionId:e,origin:g.SOLANA_WALLET_SNAP_ID};return console.log("===SOLANA=== Creating bridge transaction meta with ALL fields:",{id:i.id,hash:i.hash,isSolana:i.isSolana,isBridgeTx:i.isBridgeTx,type:i.type,chainId:i.chainId,networkClientId:i.networkClientId,time:i.time,status:i.status,origin:i.origin,actionId:i.actionId,fieldsFromParent:{...n},txParams:i.txParams,fullObject:i}),i})({txType:r,txParams:"string"==typeof s?s:JSON.stringify(s),fieldsToAddToTxMeta:i})):(async({txType:r,txParams:o,fieldsToAddToTxMeta:s})=>{const i=(0,f.decimalToPrefixedHex)(o.chainId),{maxFeePerGas:c,maxPriorityFeePerGas:d}=await(0,u.getTxGasEstimates)({networkAndAccountSupports1559:t,networkGasFeeEstimates:n,txParams:o,hexChainId:i}),m=(0,u.getHexMaxGasLimit)(o.gasLimit??0),p={...o,chainId:i,gasLimit:m,gas:m,maxFeePerGas:c,maxPriorityFeePerGas:d},g=b[i];let h;return h=r===a.TransactionType.bridge&&k?await(0,l.addTransaction)(p,{networkClientId:g,requireApproval:!1,type:r}):await(0,l.addTransactionAndWaitForPublish)(p,{networkClientId:g,requireApproval:!1,type:r}),e((0,l.updateTransaction)({...h,...s},!0)),await(0,l.forceUpdateMetamaskState)(e),h})({txType:r,txParams:s,fieldsToAddToTxMeta:i})}};var a=e("@metamask/transaction-controller"),r=e("react-redux"),o=e("@metamask/keyring-api"),s=e("react"),i=e("react-router-dom"),l=e("../../../store/actions"),u=e("../../../ducks/bridge/utils"),c=e("../../../ducks/metamask/metamask"),d=e("../../../hooks/useMultichainSelector"),f=e("../../../../shared/modules/conversion.utils"),m=e("../../../../shared/modules/selectors"),p=e("../../../selectors/multichain"),g=e("../../../../shared/lib/accounts/solana-wallet-snap"),h=e("../../../hooks/accounts/useMultichainWalletSnapClient"),y=e("../../../selectors"),v=e("../../../helpers/constants/routes")}}},{package:"$root$",file:"ui/pages/bridge/hooks/useHandleTx.ts"}],[6852,{"../../../selectors/multichain":7388,"react-redux":5141,"react-router-dom":5168},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useIsMultichainSwap=void 0;var a=e("react-redux"),r=e("react-router-dom"),o=e("../../../selectors/multichain");n.useIsMultichainSwap=()=>{const{search:e}=(0,r.useLocation)(),t=new URLSearchParams(e),n=(0,a.useSelector)(o.getMultichainIsSolana);return"true"===t.get("swaps")&&n}}}},{package:"$root$",file:"ui/pages/bridge/hooks/useIsMultichainSwap.tsx"}],[6853,{"../../../../shared/constants/metametrics":5654,"../../../../shared/constants/multichain/networks":5657,"../../../../shared/constants/network":5658,"../../../../shared/lib/bridge-status/metrics":5681,"../../../../shared/lib/bridge-status/utils":5682,"../../../../shared/modules/bridge-utils/caip-formatters":5703,"../../../../shared/modules/selectors/networks":5727,"../../../../shared/types/bridge-status":5734,"../../../ducks/bridge-status/actions":6662,"../../../ducks/bridge/actions":6664,"../../../ducks/bridge/selectors":6666,"../../../helpers/constants/routes":6694,"../../../hooks/bridge/useCrossChainSwapsEventTracker":6753,"../../../hooks/useMultichainSelector":6802,"../../../selectors":7385,"../../../selectors/multichain":7388,"../../../store/actions":7400,"./useAddToken":6846,"./useHandleApprovalTx":6849,"./useHandleBridgeTx":6850,"@metamask/utils":2874,"ethereumjs-util":4251,"react-redux":5141,"react-router-dom":5168},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,o.useHistory)(),t=(0,a.useDispatch)(),n=(0,a.useSelector)((e=>e)),s=(0,a.useSelector)(m.getCurrentChainId),{addSourceToken:S,addDestToken:M}=(0,C.default)(),{handleApprovalTx:B}=(0,E.default)(),{handleBridgeTx:D}=(0,_.default)(),R=(0,a.useSelector)(c.isHardwareWallet),{slippage:F}=(0,a.useSelector)(d.getQuoteRequest),j=(0,a.useSelector)(c.getSelectedAddress),L=(0,y.useCrossChainSwapsEventTracker)(),$=(0,b.useMultichainSelector)(T.getMultichainIsEvm);return{submitBridgeTransaction:async a=>{R&&e.push(`${i.CROSS_CHAIN_SWAP_ROUTE}${i.AWAITING_SIGNATURES_ROUTE}`);const o={bridgeId:a.quote.bridgeId,bridge:a.quote.bridges[0],srcChainId:a.quote.srcChainId,destChainId:a.quote.destChainId,quote:a.quote,refuel:Boolean(a.quote.refuel)};let c,d;try{null!=a&&a.approval&&(c=await B({approval:a.approval,quoteResponse:a}))}catch(r){var m;I("Approve transaction failed",r),R&&N(r)?(t((0,p.setWasTxDeclined)(!0)),e.push(`${i.CROSS_CHAIN_SWAP_ROUTE}${i.PREPARE_SWAP_ROUTE}`)):(await t((0,l.setDefaultHomeActiveTabName)("activity")),e.push(i.DEFAULT_ROUTE));const s=(0,g.getInitialHistoryItem)({quoteResponse:(0,g.serializeQuoteMetadata)(a),bridgeTxMetaId:"dummy-id",startTime:null===(m=c)||void 0===m?void 0:m.time,slippagePercentage:F??0,initialDestAssetBalance:undefined,targetContractAddress:undefined,account:j,statusRequest:o}),u=(0,v.getCommonProperties)(s,n),d=P(r)?{allowance_reset_transaction:k.StatusTypes.FAILED}:undefined,f=O(r)?{approval_transaction:k.StatusTypes.FAILED}:undefined;return void L({event:h.MetaMetricsEventName.ActionFailed,properties:{...u,...d,...f,error_message:r.message}})}if([f.CHAIN_IDS.LINEA_MAINNET,f.CHAIN_IDS.LINEA_GOERLI,f.CHAIN_IDS.LINEA_SEPOLIA].includes(s)&&null!=a&&a.approval){I("Delaying submitting bridge tx to make Linea confirmation more likely");const e=new Promise((e=>setTimeout(e,A)));await e}try{var y;d=await D({quoteResponse:a,approvalTxId:null===(y=c)||void 0===y?void 0:y.id})}catch(n){return I("Bridge transaction failed",n),void(R&&N(n)?(t((0,p.setWasTxDeclined)(!0)),e.push(`${i.CROSS_CHAIN_SWAP_ROUTE}${i.PREPARE_SWAP_ROUTE}`)):(await t((0,l.setDefaultHomeActiveTabName)("activity")),e.push(i.DEFAULT_ROUTE)))}const b={...o,srcTxHash:d.hash},T=!0===d.isSolana;t((0,u.startPollingForBridgeTxStatus)({bridgeTxMeta:d,statusRequest:{...b,srcTxHash:T&&d.hash?d.hash:b.srcTxHash},quoteResponse:(0,g.serializeQuoteMetadata)(a),slippagePercentage:F??0,startTime:d.time})),$&&(a.quote.srcAsset.address!==(0,r.zeroAddress)()&&S(a),a.quote.destAsset.address!==(0,r.zeroAddress)()&&(0,w.formatChainIdToCaip)(a.quote.destChainId)!==x.MultichainNetworks.SOLANA&&await M(a)),await t((0,l.setDefaultHomeActiveTabName)("activity")),e.push({pathname:i.DEFAULT_ROUTE,state:{stayOnHomePage:!0}})}}},n.isApprovalTxError=n.isAllowanceResetError=void 0;var a=e("react-redux"),r=e("ethereumjs-util"),o=e("react-router-dom"),s=e("@metamask/utils"),i=e("../../../helpers/constants/routes"),l=e("../../../store/actions"),u=e("../../../ducks/bridge-status/actions"),c=e("../../../selectors"),d=e("../../../ducks/bridge/selectors"),f=e("../../../../shared/constants/network"),m=e("../../../../shared/modules/selectors/networks"),p=e("../../../ducks/bridge/actions"),g=e("../../../../shared/lib/bridge-status/utils"),h=e("../../../../shared/constants/metametrics"),y=e("../../../hooks/bridge/useCrossChainSwapsEventTracker"),v=e("../../../../shared/lib/bridge-status/metrics"),k=e("../../../../shared/types/bridge-status"),b=e("../../../hooks/useMultichainSelector"),T=e("../../../selectors/multichain"),x=e("../../../../shared/constants/multichain/networks"),w=e("../../../../shared/modules/bridge-utils/caip-formatters"),C=M(e("./useAddToken")),E=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("./useHandleApprovalTx")),_=M(e("./useHandleBridgeTx"));function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}function M(e){return e&&e.__esModule?e:{default:e}}const I=(0,s.createProjectLogger)("bridge"),A=5e3,P=e=>(e.message??"").includes(E.ALLOWANCE_RESET_ERROR);n.isAllowanceResetError=P;const O=e=>(e.message??"").includes(E.APPROVAL_TX_ERROR);n.isApprovalTxError=O;const N=e=>{var t;const n=(null===(t=e.message)||void 0===t?void 0:t.toLowerCase())??"";return n.includes("ledger")&&(n.includes("rejected")||n.includes("denied")||n.includes("error while signing"))||n.includes("trezor")&&(n.includes("cancelled")||n.includes("rejected"))||n.includes("lattice")&&n.includes("rejected")||n.includes("user rejected")||n.includes("user cancelled")}}}},{package:"$root$",file:"ui/pages/bridge/hooks/useSubmitBridgeTransaction.ts"}],[6854,{"../../../shared/modules/selectors/networks":5727,"../../components/component-library":6234,"../../components/multichain/pages/page":6469,"../../contexts/i18n":6648,"../../ducks/bridge/actions":6664,"../../ducks/swaps/swaps":6684,"../../helpers/constants/design-system":6688,"../../helpers/constants/routes":6694,"../../helpers/higher-order-components/feature-toggled-route":6705,"../../hooks/bridge/useBridgeExchangeRates":6749,"../../hooks/bridge/useBridging":6751,"../../hooks/bridge/useQuoteFetchEvents":6756,"../../hooks/useGasFeeEstimates":6791,"../../selectors":7385,"../../store/actions":7400,"../swaps/hooks/useSwapsFeatureFlags":7329,"./awaiting-signatures/awaiting-signatures":6845,"./awaiting-signatures/awaiting-signatures-cancel-button":6844,"./hooks/useIsMultichainSwap":6852,"./prepare/bridge-transaction-settings-modal":6861,"./prepare/prepare-bridge-page":6866,react:5183,"react-redux":5141,"react-router-dom":5168},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=M(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),o=e("react-router-dom"),s=e("../../contexts/i18n"),i=e("../../ducks/swaps/swaps"),l=e("../../helpers/constants/routes"),u=e("../../store/actions"),c=S(e("../../helpers/higher-order-components/feature-toggled-route")),d=e("../../components/component-library"),f=e("../../../shared/modules/selectors/networks"),m=e("../../selectors"),p=S(e("../../hooks/bridge/useBridging")),g=e("../../components/multichain/pages/page"),h=e("../swaps/hooks/useSwapsFeatureFlags"),y=e("../../ducks/bridge/actions"),v=e("../../hooks/useGasFeeEstimates"),k=e("../../hooks/bridge/useBridgeExchangeRates"),b=e("../../hooks/bridge/useQuoteFetchEvents"),T=e("../../helpers/constants/design-system"),x=S(e("./prepare/prepare-bridge-page")),w=S(e("./awaiting-signatures/awaiting-signatures-cancel-button")),C=S(e("./awaiting-signatures/awaiting-signatures")),E=e("./prepare/bridge-transaction-settings-modal"),_=e("./hooks/useIsMultichainSwap");function S(e){return e&&e.__esModule?e:{default:e}}function M(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(M=function(e){return e?n:t})(e)}n.default=()=>{const e=(0,a.useContext)(s.I18nContext);(0,h.useSwapsFeatureFlags)(),(0,p.default)();const t=(0,o.useHistory)(),n=(0,r.useDispatch)(),S=(0,r.useSelector)(m.getIsBridgeEnabled),M=(0,r.useSelector)(f.getSelectedNetworkClientId),I=async()=>{await n((0,y.resetBridgeState)())};(0,a.useEffect)((()=>(window.addEventListener("beforeunload",I),()=>{window.removeEventListener("beforeunload",I),I()})),[]),(0,v.useGasFeeEstimates)(M),(0,k.useBridgeExchangeRates)(),(0,b.useQuoteFetchEvents)();const A=(0,_.useIsMultichainSwap)(),[P,O]=(0,a.useState)(!1);return a.default.createElement(g.Page,{className:"bridge__container"},a.default.createElement(g.Header,{textProps:{variant:T.TextVariant.headingSm},startAccessory:a.default.createElement(d.ButtonIcon,{iconName:d.IconName.ArrowLeft,size:d.ButtonIconSize.Sm,ariaLabel:e("back"),onClick:async()=>{t.push({pathname:l.DEFAULT_ROUTE,state:{stayOnHomePage:!0}}),n((0,i.clearSwapsState)()),await n((0,u.resetBackgroundSwapsState)()),await I()}}),endAccessory:a.default.createElement(d.ButtonIcon,{iconName:d.IconName.Setting,size:d.ButtonIconSize.Sm,ariaLabel:e("settings"),onClick:()=>{O(!0)}})},e(A?"swap":"bridge")),a.default.createElement(g.Content,{padding:0},a.default.createElement(o.Switch,null,a.default.createElement(c.default,{redirectRoute:l.SWAPS_MAINTENANCE_ROUTE,flag:S,path:l.CROSS_CHAIN_SWAP_ROUTE+l.PREPARE_SWAP_ROUTE,render:()=>a.default.createElement(a.default.Fragment,null,a.default.createElement(E.BridgeTransactionSettingsModal,{isOpen:P,onClose:()=>{O(!1)}}),a.default.createElement(x.default,null))}),a.default.createElement(o.Route,{path:l.CROSS_CHAIN_SWAP_ROUTE+l.AWAITING_SIGNATURES_ROUTE},a.default.createElement(g.Content,null,a.default.createElement(C.default,null)),a.default.createElement(g.Footer,null,a.default.createElement(w.default,null))))))}}}},{package:"$root$",file:"ui/pages/bridge/index.tsx"}],[6855,{"../../../components/component-library":6234,"../../../helpers/constants/design-system":6688,react:5183},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=(a=e("react"))&&a.__esModule?a:{default:a},o=e("../../../components/component-library"),s=e("../../../helpers/constants/design-system");function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i.apply(null,arguments)}n.default=e=>r.default.createElement(o.Container,i({display:s.Display.Flex,flexDirection:s.FlexDirection.Column,width:s.BlockSize.Full},e))}}},{package:"$root$",file:"ui/pages/bridge/layout/column.tsx"}],[6856,{"./column":6855,"./row":6857,"./tooltip":6858},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"Column",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(n,"Row",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(n,"Tooltip",{enumerable:!0,get:function(){return o.default}});var a=s(e("./column")),r=s(e("./row")),o=s(e("./tooltip"));function s(e){return e&&e.__esModule?e:{default:e}}}}},{package:"$root$",file:"ui/pages/bridge/layout/index.tsx"}],[6857,{"../../../components/component-library":6234,"../../../helpers/constants/design-system":6688,react:5183},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=(a=e("react"))&&a.__esModule?a:{default:a},o=e("../../../components/component-library"),s=e("../../../helpers/constants/design-system");function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i.apply(null,arguments)}n.default=e=>r.default.createElement(o.Container,i({display:s.Display.Flex,flexDirection:s.FlexDirection.Row,justifyContent:s.JustifyContent.spaceBetween,flexWrap:s.FlexWrap.NoWrap,alignItems:s.AlignItems.center},e))}}},{package:"$root$",file:"ui/pages/bridge/layout/row.tsx"}],[6858,{"../../../components/component-library":6234,"../../../helpers/constants/design-system":6688,"./column":6855,react:5183},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("../../../components/component-library"),s=e("../../../helpers/constants/design-system"),i=(a=e("./column"))&&a.__esModule?a:{default:a};function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},u.apply(null,arguments)}const c=r.default.forwardRef((({children:e,title:t,triggerElement:n,disabled:a=!1,onClose:l,iconName:c,style:d,...f},m)=>{const[p,g]=(0,r.useState)(!1),[h,y]=(0,r.useState)(null),v=()=>g(!1);return r.default.createElement(o.Box,{ref:m},r.default.createElement(o.Box,{ref:e=>y(e),onMouseEnter:()=>g(!0),onMouseLeave:v,display:s.Display.Flex},n??(c&&r.default.createElement(o.Icon,{color:s.IconColor.iconAlternativeSoft,name:c,size:o.IconSize.Sm}))??r.default.createElement(o.Icon,{name:o.IconName.Question,color:s.IconColor.iconAlternativeSoft,size:o.IconSize.Sm})),!a&&r.default.createElement(o.Popover,u({position:o.PopoverPosition.Auto,referenceElement:h,isOpen:p,onClickOutside:v,style:{maxWidth:"240px",backgroundColor:"var(--color-text-default)",paddingInline:"16px",paddingTop:"8px",paddingBottom:"8px",transitionTimingFunction:"linear",display:"inherit",...d},preventOverflow:!0,flip:!0,hasArrow:!0,isPortal:!0},f),r.default.createElement(i.default,{gap:4},t&&r.default.createElement(o.PopoverHeader,{color:s.TextColor.infoInverse,textAlign:s.TextAlign.Center,justifyContent:l?s.JustifyContent.spaceBetween:s.JustifyContent.center,onClose:l,childrenWrapperProps:{style:{whiteSpace:"nowrap"}}},t),r.default.createElement(o.Text,{justifyContent:s.JustifyContent.center,color:s.TextColor.infoInverse},e))))}));n.default=c}}},{package:"$root$",file:"ui/pages/bridge/layout/tooltip.tsx"}],[6859,{"../../../../shared/constants/metametrics":5654,"../../../../shared/constants/swaps":5669,"../../../components/component-library":6234,"../../../ducks/bridge/selectors":6666,"../../../ducks/metamask/metamask":6676,"../../../helpers/constants/design-system":6688,"../../../hooks/bridge/events/useRequestMetadataProperties":6745,"../../../hooks/bridge/events/useRequestProperties":6746,"../../../hooks/bridge/events/useTradeProperties":6747,"../../../hooks/bridge/useCrossChainSwapsEventTracker":6753,"../../../hooks/bridge/useIsTxSubmittable":6754,"../../../hooks/bridge/useLatestBalance":6755,"../../../hooks/useI18nContext":6794,"../hooks/useSubmitBridgeTransaction":6853,"../layout":6856,"../utils/quote":6880,react:5183,"react-redux":5141},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.BridgeCTAButton=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=x(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),o=e("../../../components/component-library"),s=e("../../../ducks/bridge/selectors"),i=e("../../../hooks/useI18nContext"),l=T(e("../hooks/useSubmitBridgeTransaction")),u=e("../../../helpers/constants/design-system"),c=T(e("../../../hooks/bridge/useLatestBalance")),d=e("../../../hooks/bridge/useIsTxSubmittable"),f=e("../../../hooks/bridge/useCrossChainSwapsEventTracker"),m=e("../../../hooks/bridge/events/useRequestProperties"),p=e("../../../hooks/bridge/events/useRequestMetadataProperties"),g=e("../../../hooks/bridge/events/useTradeProperties"),h=e("../../../../shared/constants/metametrics"),y=e("../../../../shared/constants/swaps"),v=e("../../../ducks/metamask/metamask"),k=e("../layout"),b=e("../utils/quote");function T(e){return e&&e.__esModule?e:{default:e}}function x(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(x=function(e){return e?n:t})(e)}n.BridgeCTAButton=({onFetchNewQuotes:e,needsDestinationAddress:t=!1})=>{const n=(0,i.useI18nContext)(),T=(0,r.useSelector)(s.getFromToken),x=(0,r.useSelector)(s.getToToken),w=(0,r.useSelector)(s.getFromChain),C=(0,r.useSelector)(s.getFromAmount),{isLoading:E,activeQuote:_,isQuoteGoingToRefresh:S,quotesLastFetchedMs:M}=(0,r.useSelector)(s.getBridgeQuotes),I=(0,r.useSelector)(s.getQuoteRefreshRate),A=(0,b.isQuoteExpired)(S,I,M),{submitBridgeTransaction:P}=(0,l.default)(),[O,N]=(0,a.useState)(!1),{isNoQuotesAvailable:B,isInsufficientBalance:D,isInsufficientGasBalance:R,isInsufficientGasForQuote:F}=(0,r.useSelector)(s.getValidationErrors),j=(0,r.useSelector)(s.getWasTxDeclined),L=(0,c.default)(T,null==w?void 0:w.chainId),$=(0,c.default)(null!=w&&w.chainId?y.SWAPS_CHAINID_DEFAULT_TOKEN_MAP[w.chainId]:null,null==w?void 0:w.chainId),q=(0,d.useIsTxSubmittable)(),W=(0,f.useCrossChainSwapsEventTracker)(),{quoteRequestProperties:U}=(0,m.useRequestProperties)(),H=(0,p.useRequestMetadataProperties)(),G=(0,g.useTradeProperties)(),z=(0,r.useSelector)(v.getNativeCurrency),V=D(L),Y=R($),Q=F($),K=(0,a.useMemo)((()=>j?n("youDeclinedTheTransaction"):A?n("bridgeQuoteExpired"):!E||q||_?Y||B?"":n(V||Q?"alertReasonInsufficientBalance":C?t?"bridgeSelectDestinationAccount":q?"submit":"swapSelectToken":x?t?"bridgeEnterAmountAndSelectAccount":"bridgeEnterAmount":t?"bridgeSelectTokenAmountAndAccount":"bridgeSelectTokenAndAmount"):""),[E,C,x,z,q,L,V,A,Y,Q,j,A,t]),J=(0,a.useMemo)((()=>j||A?n("bridgeFetchNewQuotes"):undefined),[j,A]);return _&&!J?a.default.createElement(o.ButtonPrimary,{width:u.BlockSize.Full,size:_?o.ButtonPrimarySize.Md:o.ButtonPrimarySize.Lg,variant:u.TextVariant.bodyMd,"data-testid":"bridge-cta-button",style:{boxShadow:"none"},onClick:async()=>{if(_&&q&&!O)try{N(!0),U&&H&&G&&W({event:h.MetaMetricsEventName.ActionSubmitted,properties:{...U,...H,...G}}),await P(_)}finally{N(!1)}},loading:O,disabled:!q||A||O||t},K):a.default.createElement(k.Row,{alignItems:u.AlignItems.center,justifyContent:u.JustifyContent.center,gap:1},a.default.createElement(o.Text,{variant:u.TextVariant.bodyMd,textAlign:u.TextAlign.Center,color:u.TextColor.textAlternativeSoft},K),J&&a.default.createElement(o.ButtonLink,{as:"a",variant:u.TextVariant.bodyMd,style:{whiteSpace:"nowrap"},onClick:e},J))}}}},{package:"$root$",file:"ui/pages/bridge/prepare/bridge-cta-button.tsx"}],[6860,{"../../../../shared/constants/time":5671,"../../../../shared/modules/bridge-utils/caip-formatters":5703,"../../../components/component-library":6234,"../../../components/multichain/asset-picker-amount/asset-picker":6347,"../../../components/multichain/asset-picker-amount/asset-picker-modal/asset-picker-modal-tabs":6343,"../../../ducks/bridge/selectors":6666,"../../../ducks/locale/locale":6675,"../../../ducks/metamask/metamask":6676,"../../../helpers/constants/design-system":6688,"../../../helpers/utils/util":6737,"../../../hooks/bridge/useLatestBalance":6755,"../../../hooks/useCopyToClipboard":6783,"../../../hooks/useI18nContext":6794,"../hooks/useIsMultichainSwap":6852,"../layout":6856,"../utils/quote":6880,"./components/bridge-asset-picker-button":6862,react:5183,"react-redux":5141},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.BridgeInputGroup=void 0;var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=w(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-redux"),s=e("../../../components/component-library"),i=e("../../../components/multichain/asset-picker-amount/asset-picker"),l=e("../../../components/multichain/asset-picker-amount/asset-picker-modal/asset-picker-modal-tabs"),u=e("../../../hooks/useI18nContext"),c=e("../../../ducks/metamask/metamask"),d=e("../utils/quote"),f=e("../../../../shared/modules/bridge-utils/caip-formatters"),m=e("../layout"),p=e("../../../helpers/constants/design-system"),g=(a=e("../../../hooks/bridge/useLatestBalance"))&&a.__esModule?a:{default:a},h=e("../../../ducks/bridge/selectors"),y=e("../../../helpers/utils/util"),v=e("../../../hooks/useCopyToClipboard"),k=e("../../../../shared/constants/time"),b=e("../../../ducks/locale/locale"),T=e("../hooks/useIsMultichainSwap"),x=e("./components/bridge-asset-picker-button");function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(w=function(e){return e?n:t})(e)}function C(){return C=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},C.apply(null,arguments)}const E=e=>e.replace(/[^\d.]+/gu,"").split(".",2).join(".");n.BridgeInputGroup=({header:e,token:t,onAssetChange:n,onAmountChange:a,networkProps:w,isTokenListLoading:_,customTokenListGenerator:S,amountFieldProps:M,amountInFiat:I,onMaxButtonClick:A,isMultiselectEnabled:P})=>{var O;const N=(0,u.useI18nContext)(),{isLoading:B}=(0,o.useSelector)(h.getBridgeQuotes),{isInsufficientBalance:D,isEstimatedReturnLow:R}=(0,o.useSelector)(h.getValidationErrors),F=(0,o.useSelector)(c.getCurrentCurrency),j=(0,o.useSelector)(b.getIntlLocale),L=null==w||null===(O=w.network)||void 0===O?void 0:O.chainId,$=(0,g.default)(t,L),[,q]=(0,v.useCopyToClipboard)(k.MINUTE),W=(0,r.useRef)(null),U=(null==M?void 0:M.readOnly)||(null==M?void 0:M.disabled);(0,r.useEffect)((()=>{var e;!U&&W.current&&(W.current.value=(null==M||null===(e=M.value)||void 0===e?void 0:e.toString())??"",W.current.focus())}),[null==M?void 0:M.value,U,t]);const H=(0,T.useIsMultichainSwap)();return r.default.createElement(m.Column,{paddingInline:6,gap:1},r.default.createElement(m.Row,{gap:4},r.default.createElement(s.TextField,C({inputProps:{disableStateStyles:!0,textAlign:p.TextAlign.Start,style:{fontWeight:400,fontSize:Math.max(14,9/Math.max(9,((null==M?void 0:M.value)??"").toString().length)*36),transition:"font-size 0.1s",padding:0}},style:{minWidth:96,maxWidth:190,opacity:U&&null!=M&&M.value?1:undefined},display:p.Display.Flex,inputRef:W,type:s.TextFieldType.Text,className:"amount-input",placeholder:"0",onKeyPress:e=>{var t;e&&("."===e.key&&null!==(t=M.value)&&void 0!==t&&t.toString().includes(".")?e.preventDefault():/^[\d.]{1}$/u.test(e.key)||e.preventDefault())},onPaste:e=>{e.preventDefault();const t=E(e.clipboardData.getData("text"));null==a||a(t??"")},onChange:e=>{e.preventDefault(),e.stopPropagation();const t=E(e.target.value);null==a||a(t??"")}},M)),r.default.createElement(i.AssetPicker,{header:e,visibleTabs:[l.TabName.TOKENS],asset:t??undefined,onAssetChange:n,networkProps:w,customTokenListGenerator:S,isTokenListLoading:_,isMultiselectEnabled:P},((e,n)=>U&&!t?r.default.createElement(s.Button,{onClick:e,size:s.ButtonSize.Lg,paddingLeft:6,paddingRight:6,fontWeight:p.FontWeight.Normal,style:{whiteSpace:"nowrap"}},N(H?"swapSwapTo":"bridgeTo")):r.default.createElement(x.BridgeAssetPickerButton,{onClick:e,networkImageSrc:n,asset:t??undefined,networkProps:w})))),r.default.createElement(m.Row,{justifyContent:p.JustifyContent.spaceBetween},r.default.createElement(m.Row,null,r.default.createElement(s.Text,{variant:p.TextVariant.bodyMd,fontWeight:p.FontWeight.Normal,color:U&&R?p.TextColor.warningDefault:p.TextColor.textAlternativeSoft,textAlign:p.TextAlign.End,ellipsis:!0},U&&B&&"0"===M.value?N("bridgeCalculatingAmount"):undefined,I&&(0,d.formatCurrencyAmount)(I,F,2))),r.default.createElement(s.Text,{display:p.Display.Flex,gap:1,variant:p.TextVariant.bodyMd,color:!U&&D($)?p.TextColor.errorDefault:p.TextColor.textAlternativeSoft,onClick:()=>{U&&t&&L&&q(t.address)},as:U?"a":"p"},U&&t&&L&&((0,f.isNativeAddress)(t.address)?undefined:(0,y.shortenString)(t.address.split(":").at(-1),{truncatedCharLimit:11,truncatedStartChars:4,truncatedEndChars:4,skipCharacterInEnd:!1})),!U&&$?(0,d.formatTokenAmount)(j,$,null==t?void 0:t.symbol):undefined,A&&t&&!(0,f.isNativeAddress)(t.address)&&$&&r.default.createElement(s.ButtonLink,{variant:p.TextVariant.bodyMd,onClick:()=>A(null==$?void 0:$.toFixed())},N("max")))))}}}},{package:"$root$",file:"ui/pages/bridge/prepare/bridge-input-group.tsx"}],[6861,{"../../../../shared/constants/bridge":5644,"../../../../shared/constants/metametrics":5654,"../../../components/component-library":6234,"../../../ducks/bridge/actions":6664,"../../../ducks/bridge/selectors":6666,"../../../helpers/constants/design-system":6688,"../../../hooks/bridge/useCrossChainSwapsEventTracker":6753,"../../../hooks/useI18nContext":6794,"../layout":6856,react:5183,"react-redux":5141},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.BridgeTransactionSettingsModal=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),o=e("../../../components/component-library"),s=e("../../../hooks/useI18nContext"),i=e("../../../helpers/constants/design-system"),l=e("../../../ducks/bridge/selectors"),u=e("../../../ducks/bridge/actions"),c=e("../../../hooks/bridge/useCrossChainSwapsEventTracker"),d=e("../../../../shared/constants/metametrics"),f=e("../../../../shared/constants/bridge"),m=e("../layout");function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}const g=[f.BRIDGE_DEFAULT_SLIPPAGE,3];n.BridgeTransactionSettingsModal=({onClose:e,isOpen:t})=>{const n=(0,s.useI18nContext)(),f=(0,c.useCrossChainSwapsEventTracker)(),p=(0,r.useDispatch)(),h=(0,r.useSelector)(l.getSlippage),[y,v]=(0,a.useState)(h),[k,b]=(0,a.useState)(h&&!g.includes(h)?h.toString():undefined),[T,x]=(0,a.useState)(!0),w=(()=>{if(!k)return null;const e=Number(k.replace(",","."));return e<.5?{severity:i.SEVERITIES.WARNING,text:n("swapSlippageLowDescription",[e]),title:n("swapSlippageLowTitle")}:null})();return a.default.createElement(o.Modal,{isOpen:t,onClose:e,className:"bridge-settings-modal"},a.default.createElement(o.ModalOverlay,null),a.default.createElement(o.ModalContent,null,a.default.createElement(o.ModalHeader,{onClose:e},n("transactionSettings")),a.default.createElement(m.Column,{gap:3,padding:4},a.default.createElement(m.Row,{gap:1,justifyContent:i.JustifyContent.flexStart},a.default.createElement(o.Text,null,n("swapsMaxSlippage")),a.default.createElement(m.Tooltip,{position:o.PopoverPosition.Top,iconName:o.IconName.Info,style:{zIndex:1051}},n("swapSlippageTooltip"))),a.default.createElement(m.Row,{gap:2,justifyContent:i.JustifyContent.flexStart},g.map((e=>a.default.createElement(o.Button,{key:e,size:o.ButtonSize.Sm,onClick:t=>{t.preventDefault(),t.stopPropagation(),v(e),b(undefined)},variant:o.ButtonVariant.Secondary,borderColor:y===e&&T?i.BorderColor.primaryDefault:i.BorderColor.borderDefault,borderWidth:y===e&&T?2:1,backgroundColor:y===e&&T?i.BackgroundColor.primaryMuted:i.BackgroundColor.backgroundDefault},a.default.createElement(o.Text,{color:y===e&&T?i.TextColor.primaryDefault:i.TextColor.textDefault},e,"%")))),T&&a.default.createElement(o.Button,{size:o.ButtonSize.Sm,variant:o.ButtonVariant.Secondary,borderColor:k===undefined?i.BorderColor.borderDefault:i.BorderColor.primaryDefault,borderWidth:k===undefined?1:2,backgroundColor:k===undefined?i.BackgroundColor.backgroundDefault:i.BackgroundColor.primaryMuted,onClick:e=>{e.preventDefault(),e.stopPropagation(),x(!1)}},a.default.createElement(o.Text,{color:k===undefined?i.TextColor.textDefault:i.TextColor.primaryDefault},k===undefined?n("customSlippage"):`${k}%`)),!T&&a.default.createElement(o.TextField,{borderColor:i.BorderColor.primaryDefault,borderWidth:2,borderRadius:i.BorderRadius.pill,type:o.TextFieldType.Text,value:k,onChange:e=>{const{value:t}=e.target;(""===t||/^\d*[.,]?\d*$/u.test(t))&&(v(undefined),b(t))},autoFocus:!0,onBlur:()=>{x(!0)},onFocus:()=>{x(!1)},endAccessory:a.default.createElement(o.Text,{variant:i.TextVariant.bodyMd},"%")})),w&&a.default.createElement(o.Box,{marginTop:5},a.default.createElement(o.BannerAlert,{severity:w.severity,title:w.title,titleProps:{"data-testid":"swaps-banner-title"}},a.default.createElement(o.Text,null,w.text)))),a.default.createElement(o.ModalFooter,null,a.default.createElement(o.ButtonPrimary,{width:i.BlockSize.Full,size:o.ButtonPrimarySize.Md,variant:i.TextVariant.bodyMd,disabled:k!==undefined&&Number(k.replace(",","."))===h||y!==undefined&&y===h,onClick:()=>{const t=y??Number(null==k?void 0:k.replace(",","."));t&&(f({event:d.MetaMetricsEventName.InputChanged,properties:{input:"slippage",value:t.toString()}}),p((0,u.setSlippage)(t)),e())}},n("submit")))))}}}},{package:"$root$",file:"ui/pages/bridge/prepare/bridge-transaction-settings-modal.tsx"}],[6862,{"../../../../components/component-library":6234,"../../../../components/component-library/select-button/select-button.types":6271,"../../../../helpers/constants/design-system":6688,"../../../../hooks/useI18nContext":6794,react:5183},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.BridgeAssetPickerButton=void 0;var a,r=(a=e("react"))&&a.__esModule?a:{default:a},o=e("../../../../components/component-library/select-button/select-button.types"),s=e("../../../../components/component-library"),i=e("../../../../helpers/constants/design-system"),l=e("../../../../hooks/useI18nContext");function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},u.apply(null,arguments)}n.BridgeAssetPickerButton=({asset:e,networkProps:t,networkImageSrc:n,...a})=>{var c;const d=(0,l.useI18nContext)();return r.default.createElement(s.SelectButton,u({borderRadius:i.BorderRadius.pill,backgroundColor:i.BackgroundColor.backgroundDefault,borderColor:i.BorderColor.borderMuted,style:{padding:8,paddingRight:11,paddingInline:e?undefined:24,minWidth:"fit-content"},gap:0,size:o.SelectButtonSize.Lg,alignItems:i.AlignItems.center,descriptionProps:{variant:i.TextVariant.bodyMd,overflowWrap:i.OverflowWrap.BreakWord,ellipsis:!1},caretIconProps:{name:s.IconName.Arrow2Down,style:{display:i.Display.None}},label:r.default.createElement(s.Text,{variant:i.TextVariant.bodyLgMedium,ellipsis:!0},(null==e?void 0:e.symbol)??d("bridgeTo")),startAccessory:e?r.default.createElement(s.BadgeWrapper,{marginRight:2,badge:e?r.default.createElement(s.AvatarNetwork,{name:(null==t||null===(c=t.network)||void 0===c?void 0:c.name)??"",src:n,size:s.AvatarNetworkSize.Xs}):undefined},e?r.default.createElement(s.AvatarToken,{src:e.image||undefined,backgroundColor:i.BackgroundColor.backgroundHover,name:e.symbol}):undefined):undefined},a))}}}},{package:"$root$",file:"ui/pages/bridge/prepare/components/bridge-asset-picker-button.tsx"}],[6863,{"../../../../../app/scripts/lib/multichain/address":125,"../../../../components/app/user-preferenced-currency-display/user-preferenced-currency-display.component":6151,"../../../../components/component-library":6234,"../../../../helpers/constants/common":6686,"../../../../helpers/constants/design-system":6688,"../../../../helpers/utils/util":6737,"../../../../hooks/useAccountTotalCrossChainFiatBalance":6778,"../../../../hooks/useGetFormattedTokensPerChain":6793,"../../../../hooks/useMultichainAccountTotalFiatBalance":6800,"../../../../hooks/useMultichainSelector":6802,"../../../../selectors":7385,"../../../../selectors/multichain":7388,classnames:4026,react:5183,"react-redux":5141},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=v(e("react")),r=v(e("classnames")),o=e("react-redux"),s=e("../../../../helpers/utils/util"),i=e("../../../../components/component-library"),l=e("../../../../helpers/constants/design-system"),u=e("../../../../selectors"),c=e("../../../../../app/scripts/lib/multichain/address"),d=e("../../../../hooks/useMultichainAccountTotalFiatBalance"),f=e("../../../../hooks/useGetFormattedTokensPerChain"),m=e("../../../../hooks/useAccountTotalCrossChainFiatBalance"),p=v(e("../../../../components/app/user-preferenced-currency-display/user-preferenced-currency-display.component")),g=e("../../../../helpers/constants/common"),h=e("../../../../hooks/useMultichainSelector"),y=e("../../../../selectors/multichain");function v(e){return e&&e.__esModule?e:{default:e}}const k=({account:e,selected:t,onClick:n})=>{const v=(0,o.useSelector)(u.getUseBlockie),k=(0,o.useSelector)(u.getShouldHideZeroBalanceTokens),b=(0,o.useSelector)(u.getIsTokenNetworkFilterEqualCurrentNetwork),T=(0,o.useSelector)(u.getChainIdsToPoll),{isEvmNetwork:x}=(0,h.useMultichainSelector)(y.getMultichainNetwork,e),w=(0,h.useMultichainSelector)(y.getMultichainIsTestnet,e),C=!w,E=(0,h.useMultichainSelector)(y.getMultichainShouldShowFiat,e),_=(0,o.useSelector)(u.getShowFiatInTestnets),S=E&&(C||w&&_),M=(0,h.useMultichainSelector)(y.getMultichainNativeCurrencyImage,e),I=(0,h.useMultichainSelector)(y.getMultichainNativeCurrency,e),A=(0,d.useMultichainAccountTotalFiatBalance)(e),{formattedTokensWithBalancesPerChain:P}=(0,f.useGetFormattedTokensPerChain)(e,k,b,T),{totalFiatBalance:O}=(0,m.useAccountTotalCrossChainFiatBalance)(e,P);let N;return N=x?!E||w?e.balance:O:A.totalBalance,a.default.createElement(i.Box,{display:l.Display.Flex,padding:4,backgroundColor:t?l.BackgroundColor.primaryMuted:l.BackgroundColor.transparent,className:(0,r.default)("multichain-account-list-item",{"multichain-account-list-item--selected":t}),onClick:n,alignItems:l.AlignItems.center},a.default.createElement(i.AvatarAccount,{borderColor:l.BorderColor.transparent,size:i.AvatarAccountSize.Md,address:e.address,variant:v?i.AvatarAccountVariant.Blockies:i.AvatarAccountVariant.Jazzicon,marginInlineEnd:2}),a.default.createElement(i.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Column,style:{flex:1}},a.default.createElement(i.Box,{display:l.Display.Flex,justifyContent:l.JustifyContent.spaceBetween},a.default.createElement(i.Text,{variant:l.TextVariant.bodyMdMedium},e.metadata.name),a.default.createElement(i.Box,{display:l.Display.Flex,alignItems:l.AlignItems.center,justifyContent:l.JustifyContent.flexEnd,gap:1},a.default.createElement(i.Text,{as:"div",display:l.Display.Flex,flexDirection:l.FlexDirection.Row,alignItems:l.AlignItems.center,justifyContent:l.JustifyContent.flexEnd,ellipsis:!0,textAlign:l.TextAlign.End},a.default.createElement(p.default,{ethNumberOfDecimals:3,value:N,type:g.PRIMARY,showFiat:S,isAggregatedFiatOverviewBalance:S,hideLabel:!0,"data-testid":"first-currency-display"})))),a.default.createElement(i.Box,{display:l.Display.Flex,justifyContent:l.JustifyContent.spaceBetween,alignItems:l.AlignItems.center},a.default.createElement(i.Text,{variant:l.TextVariant.bodySm,color:l.TextColor.textAlternative,"data-testid":"account-list-address"},(0,s.shortenAddress)((0,c.normalizeSafeAddress)(e.address))),a.default.createElement(i.Box,{display:l.Display.Flex,gap:2},a.default.createElement(i.AvatarToken,{src:M,name:I,size:i.AvatarTokenSize.Xs,borderColor:l.BorderColor.borderDefault})))))};n.default=a.default.memo(k)}}},{package:"$root$",file:"ui/pages/bridge/prepare/components/destination-account-list-item.tsx"}],[6864,{"../../../../../app/scripts/translate":358,"../../../../components/component-library":6234,"../../../../helpers/constants/design-system":6688,"../../../../selectors":7385,"./destination-account-list-item":6863,"./destination-selected-account-list-item":6865,react:5183,"react-redux":5141},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.DestinationAccountPicker=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),o=e("../../../../components/component-library"),s=e("../../../../selectors"),i=e("../../../../helpers/constants/design-system"),l=e("../../../../../app/scripts/translate"),u=d(e("./destination-selected-account-list-item")),c=d(e("./destination-account-list-item"));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}n.DestinationAccountPicker=({onAccountSelect:e,selectedSwapToAccount:t,isDestinationSolana:n})=>{const[d,f]=(0,a.useState)(""),m=(0,r.useSelector)(s.getSelectedInternalAccount),p=(0,r.useSelector)(s.getInternalAccounts),g=(0,a.useMemo)((()=>p.filter((e=>{const t=e.metadata.name.toLowerCase().includes(d.toLowerCase()),a=n?(0,s.isSolanaAccount)(e):!(0,s.isSolanaAccount)(e);return t&&a}))),[p,n,d]);return t?a.default.createElement(o.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Row,alignItems:i.AlignItems.center,justifyContent:i.JustifyContent.spaceBetween,width:i.BlockSize.Full,className:"swap-to-account-picker",backgroundColor:i.BackgroundColor.backgroundDefault,style:{height:"70px",borderRadius:"8px",boxShadow:"var(--shadow-size-sm) var(--color-shadow-default)"}},a.default.createElement(o.Box,{className:"destination-account-picker__selected",width:i.BlockSize.Full},a.default.createElement(u.default,{account:t,isSelected:t.id===(null==m?void 0:m.id),showOptions:!1,disableHover:!0})),a.default.createElement(o.Box,{className:"deselect-button-container",paddingRight:5},a.default.createElement(o.Button,{onClick:()=>e(null),"aria-label":"Deselect account",variant:o.ButtonVariant.Link,size:o.ButtonSize.Sm,className:"deselect-button",style:{padding:"5px",color:"var(--color-icon-alternative)",textDecoration:"none"}},"✕"))):a.default.createElement(o.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Column,width:i.BlockSize.Full,className:"destination-account-picker",backgroundColor:i.BackgroundColor.backgroundDefault,style:{borderRadius:"8px",position:"relative"}},a.default.createElement(o.Box,{className:"search-container",width:i.BlockSize.Full,display:i.Display.Flex,alignItems:i.AlignItems.center,justifyContent:i.JustifyContent.center,backgroundColor:i.BackgroundColor.backgroundDefault,style:{height:"50px",borderBottomWidth:"1px",borderBottomStyle:"solid",borderBottomColor:"#B7BBC866",borderRadius:"8px 8px 0 0",boxShadow:"var(--shadow-size-sm) var(--color-shadow-default)"}},a.default.createElement(o.TextField,{placeholder:(0,l.t)("destinationAccountPickerSearchPlaceholder"),value:d,onChange:e=>f(e.target.value),clearButtonOnClick:()=>f(""),className:"text-field-search",style:{width:"98%",borderRadius:0,borderWidth:0,color:"var(--color-text-alternative)"}})),a.default.createElement(o.Box,{style:{height:"20px"}}),a.default.createElement(o.Box,{className:"destination-account-picker__list",backgroundColor:i.BackgroundColor.backgroundDefault,style:{position:"absolute",top:"50px",left:0,right:0,maxHeight:"240px",overflowY:"auto",borderRadius:"0 0 8px 8px",zIndex:1e3,boxShadow:"var(--shadow-size-sm) var(--color-shadow-default)"}},g.map((n=>a.default.createElement(c.default,{key:n.id,account:n,onClick:()=>e(n),isSelected:n.id===(null==t?void 0:t.id),showOptions:!1}))),0===g.length&&a.default.createElement(o.Box,{display:i.Display.Flex,style:{minHeight:"79px"},width:i.BlockSize.Full,height:i.BlockSize.Full,justifyContent:i.JustifyContent.center,alignItems:i.AlignItems.center},a.default.createElement(o.Text,{textAlign:i.TextAlign.Center},d?(0,l.t)("destinationAccountPickerNoMatching"):(0,l.t)("destinationAccountPickerNoEligible")))))}}}},{package:"$root$",file:"ui/pages/bridge/prepare/components/destination-account-picker.tsx"}],[6865,{"../../../../../app/scripts/lib/multichain/address":125,"../../../../components/component-library":6234,"../../../../helpers/constants/design-system":6688,"../../../../helpers/utils/util":6737,"../../../../selectors":7385,classnames:4026,react:5183,"react-redux":5141},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=d(e("react")),r=d(e("classnames")),o=e("react-redux"),s=e("../../../../helpers/utils/util"),i=e("../../../../components/component-library"),l=e("../../../../helpers/constants/design-system"),u=e("../../../../selectors"),c=e("../../../../../app/scripts/lib/multichain/address");function d(e){return e&&e.__esModule?e:{default:e}}const f=({account:e,selected:t,onClick:n})=>{const d=(0,o.useSelector)(u.getUseBlockie);return a.default.createElement(i.Box,{display:l.Display.Flex,padding:4,backgroundColor:t?l.BackgroundColor.primaryMuted:l.BackgroundColor.transparent,className:(0,r.default)("multichain-account-list-item",{"multichain-account-list-item--selected":t}),onClick:n,alignItems:l.AlignItems.center,style:{pointerEvents:"none"}},a.default.createElement(i.AvatarAccount,{borderColor:l.BorderColor.transparent,size:i.AvatarAccountSize.Md,address:e.address,variant:d?i.AvatarAccountVariant.Blockies:i.AvatarAccountVariant.Jazzicon,marginInlineEnd:2}),a.default.createElement(i.Box,{display:l.Display.Flex,style:{flexDirection:"column"}},a.default.createElement(i.Text,{variant:l.TextVariant.bodyMdMedium,marginBottom:1},e.metadata.name),a.default.createElement(i.Text,{variant:l.TextVariant.bodySm,color:l.TextColor.textAlternative,"data-testid":"account-list-address"},(0,s.shortenAddress)((0,c.normalizeSafeAddress)(e.address)))))};n.default=a.default.memo(f)}}},{package:"$root$",file:"ui/pages/bridge/prepare/components/destination-selected-account-list-item.tsx"}],[6866,{"../../../../shared/constants/bridge":5644,"../../../../shared/constants/metametrics":5654,"../../../../shared/constants/multichain/networks":5657,"../../../../shared/constants/swaps":5669,"../../../../shared/constants/time":5671,"../../../../shared/lib/swaps-utils":5693,"../../../../shared/modules/bridge-utils/caip-formatters":5703,"../../../../shared/modules/bridge-utils/quote":5704,"../../../../shared/modules/selectors/networks":5727,"../../../../shared/types/security-alerts-api":5736,"../../../components/component-library":6234,"../../../components/multichain/pages/page":6469,"../../../ducks/bridge/actions":6664,"../../../ducks/bridge/selectors":6666,"../../../ducks/bridge/utils":6667,"../../../ducks/locale/locale":6675,"../../../ducks/metamask/metamask":6676,"../../../helpers/constants/design-system":6688,"../../../helpers/utils/hardware":6719,"../../../hooks/bridge/events/useRequestProperties":6746,"../../../hooks/bridge/useCountdownTimer":6752,"../../../hooks/bridge/useCrossChainSwapsEventTracker":6753,"../../../hooks/bridge/useLatestBalance":6755,"../../../hooks/bridge/useTokenAlerts":6757,"../../../hooks/bridge/useTokensWithFiltering":6758,"../../../hooks/ramps/useRamps/useRamps":6770,"../../../hooks/useI18nContext":6794,"../../../hooks/useMultichainSelector":6802,"../../../selectors":7385,"../../../selectors/multichain":7388,"../../../store/actions":7400,"../../swaps/mascot-background-animation/mascot-background-animation":7338,"../hooks/useDestinationAccount":6848,"../hooks/useIsMultichainSwap":6852,"../layout":6856,"../quotes/bridge-quote-card":6867,"../quotes/multichain-bridge-quote-card":6869,"../utils/quote":6880,"./bridge-cta-button":6859,"./bridge-input-group":6860,"./components/destination-account-picker":6864,"bignumber.js":3902,classnames:4026,"ethereumjs-util":4251,lodash:4779,react:5183,"react-redux":5141,"react-router-dom":5168},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=X(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),o=J(e("classnames")),s=e("lodash"),i=e("react-router-dom"),l=e("bignumber.js"),u=e("ethereumjs-util"),c=e("../../../ducks/bridge/actions"),d=e("../../../ducks/bridge/selectors"),f=e("../../../components/component-library"),m=e("../../../helpers/constants/design-system"),p=e("../../../hooks/useI18nContext"),g=e("../../../../shared/constants/swaps"),h=e("../../../hooks/bridge/useTokensWithFiltering"),y=e("../../../store/actions"),v=e("../../../../shared/lib/swaps-utils"),k=e("../utils/quote"),b=e("../../../../shared/modules/bridge-utils/quote"),T=e("../../../../shared/modules/selectors/networks"),x=e("../../../hooks/bridge/useCrossChainSwapsEventTracker"),w=e("../../../hooks/bridge/events/useRequestProperties"),C=e("../../../../shared/constants/metametrics"),E=e("../../../ducks/bridge/utils"),_=e("../../../components/multichain/pages/page"),S=J(e("../../swaps/mascot-background-animation/mascot-background-animation")),M=e("../layout"),I=J(e("../../../hooks/ramps/useRamps/useRamps")),A=e("../../../ducks/metamask/metamask"),P=J(e("../../../hooks/bridge/useLatestBalance")),O=e("../../../hooks/bridge/useCountdownTimer"),N=e("../../../selectors"),B=e("../../../helpers/utils/hardware"),D=e("../../../../shared/constants/time"),R=e("../../../../shared/constants/bridge"),F=e("../../../ducks/locale/locale"),j=e("../hooks/useIsMultichainSwap"),L=e("../../../hooks/useMultichainSelector"),$=e("../../../selectors/multichain"),q=e("../quotes/multichain-bridge-quote-card"),W=e("../quotes/bridge-quote-card"),U=e("../../../../shared/constants/multichain/networks"),H=e("../../../../shared/modules/bridge-utils/caip-formatters"),G=e("../../../../shared/types/security-alerts-api"),z=e("../../../hooks/bridge/useTokenAlerts"),V=e("../hooks/useDestinationAccount"),Y=e("./bridge-input-group"),Q=e("./bridge-cta-button"),K=e("./components/destination-account-picker");function J(e){return e&&e.__esModule?e:{default:e}}function X(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(X=function(e){return e?n:t})(e)}n.default=()=>{var e,t,n;const J=(0,r.useDispatch)(),X=(0,p.useI18nContext)(),Z=(0,j.useIsMultichainSwap)(),ee=(0,r.useSelector)(d.getFromToken),te=(0,r.useSelector)(N.getTokenList),ne=(0,a.useMemo)((()=>0===Object.keys(te).length),[te]),ae=(0,r.useSelector)(d.getToToken),re=(0,r.useSelector)(d.getFromChains),oe=(0,r.useSelector)(d.getToChains),se=(0,r.useSelector)(d.getFromChain),ie=(0,r.useSelector)(d.getToChain),le=(0,r.useSelector)(d.getFromAmount),ue=(0,r.useSelector)(d.getFromAmountInCurrency),ce=(0,r.useSelector)(T.getProviderConfig),de=(0,r.useSelector)(d.getSlippage),fe=(0,r.useSelector)(d.getQuoteRequest),{isLoading:me,activeQuote:pe,isQuoteGoingToRefresh:ge,quotesLastFetchedMs:he}=(0,r.useSelector)(d.getBridgeQuotes),ye=(0,r.useSelector)(d.getQuoteRefreshRate),ve=(0,r.useSelector)(d.getWasTxDeclined),ke=(0,k.isQuoteExpired)(ge,ye,he)&&!fe.insufficientBal?undefined:pe,be=(0,L.useMultichainSelector)($.getMultichainIsEvm),Te=(0,r.useSelector)(N.getSelectedEvmInternalAccount),xe=(0,r.useSelector)($.getLastSelectedNonEvmAccount),we=(0,L.useMultichainSelector)(N.getSelectedInternalAccount),Ce=be?Te:we,Ee=(0,r.useSelector)(N.getCurrentKeyring),_e=(0,B.isHardwareKeyring)(Ee.type),Se=(0,r.useSelector)(F.getIntlLocale),Me=(0,r.useSelector)(A.getNativeCurrency),{isEstimatedReturnLow:Ie,isNoQuotesAvailable:Ae,isInsufficientGasForQuote:Pe,isInsufficientBalance:Oe}=(0,r.useSelector)(d.getValidationErrors),{quotesRefreshCount:Ne}=(0,r.useSelector)(d.getBridgeQuotes),{openBuyCryptoInPdapp:Be}=(0,I.default)(),De=(0,P.default)(g.SWAPS_CHAINID_DEFAULT_TOKEN_MAP[null==se?void 0:se.chainId],null==se?void 0:se.chainId),{tokenAlert:Re}=(0,z.useTokenAlerts)(),Fe=(0,P.default)(ee,null==se?void 0:se.chainId),{selectedDestinationAccount:je,setSelectedDestinationAccount:Le}=(0,V.useDestinationAccount)(Z),{filteredTokenListGenerator:$e,isLoading:qe}=(0,h.useTokensWithFiltering)((null==ie?void 0:ie.chainId)??(null==se?void 0:se.chainId),ee),{flippedRequestProperties:We}=(0,w.useRequestProperties)(),Ue=(0,x.useCrossChainSwapsEventTracker)(),He=(0,O.useCountdownTimer)(),[Ge,ze]=(0,a.useState)(!1),[Ve,Ye]=(0,a.useState)(!0);(0,a.useEffect)((()=>Ye(!0)),[Ne]);const[Qe,Ke]=(0,a.useState)(!0);(0,a.useEffect)((()=>Ke(!0)),[Re]);const[Je,Xe]=(0,a.useState)(!1);(0,a.useEffect)((()=>{Xe(!0);const e=setTimeout((()=>{Xe(!1)}),D.SECOND);return()=>{clearTimeout(e)}}),[Ge]),(0,a.useEffect)((()=>{if(ke){const{srcAsset:e,destAsset:t,destChainId:n,srcChainId:a}=ke.quote;e&&t&&n&&(J((0,c.setToChainId)(n)),J((0,c.setToToken)({...t,chainId:n,image:t.icon??"",address:t.address})),J((0,c.setFromToken)({...e,chainId:a,image:e.icon??"",address:e.address})))}else J((0,c.resetBridgeState)())}),[]);const Ze=(0,a.useRef)(null),et=(0,a.useRef)(null),tt=(0,a.useRef)(null);(0,a.useEffect)((()=>{var e,t;Pe(De)&&(null===(e=Ze.current)||void 0===e||e.scrollIntoView({behavior:"smooth",block:"start"}));Ie&&(null===(t=et.current)||void 0===t||t.scrollIntoView({behavior:"smooth",block:"start"}))}),[Ie,Pe(De),Ve]);const nt=(0,r.useSelector)(d.getIsToOrFromSolana),at=(0,a.useMemo)((()=>!(null==ie||!ie.chainId)&&(0,H.formatChainIdToCaip)(ie.chainId)===U.MultichainNetworks.SOLANA),[null==ie?void 0:ie.chainId]),rt=(0,a.useMemo)((()=>{var e;return{srcTokenAddress:null==ee?void 0:ee.address,destTokenAddress:null==ae?void 0:ae.address,srcTokenAmount:le&&null!=ee&&ee.decimals?(0,v.calcTokenValue)(["","."].includes(le)?"0":le,ee.decimals).toFixed().split(".")[0]:undefined,srcChainId:null==se?void 0:se.chainId,destChainId:null==ie?void 0:ie.chainId,insufficientBal:Boolean(null==ce||null===(e=ce.rpcUrl)||void 0===e?void 0:e.includes("tenderly")),slippage:de,walletAddress:(null==Ce?void 0:Ce.address)??"",destWalletAddress:null==je?void 0:je.address}}),[null==ee?void 0:ee.address,null==ee?void 0:ee.decimals,null==ae?void 0:ae.address,le,null==se?void 0:se.chainId,null==ie?void 0:ie.chainId,null==ce?void 0:ce.rpcUrl,de,null==Ce?void 0:Ce.address,null==je?void 0:je.address]),ot=(0,a.useCallback)((0,s.debounce)((e=>{J((0,c.updateQuoteRequestParams)(e)),J((0,c.setSelectedQuote)(null))}),300),[]);(0,a.useEffect)((()=>{ot(rt)}),[rt,ot]);const st=(0,a.useCallback)((e=>{Ue({event:C.MetaMetricsEventName.InputChanged,properties:e})}),[]),{search:it}=(0,i.useLocation)(),lt=(0,i.useHistory)();(0,a.useEffect)((()=>{if(null==se||!se.chainId||ne)return;const e=new URLSearchParams(it),t=e.get("token");if(!t)return;const n=()=>{const t=new URLSearchParams(e);t.delete("token"),lt.replace({search:t.toString()})},a=te[t.toLowerCase()];switch(t){case null==ee?void 0:ee.address:n();break;case null==a?void 0:a.address:case null!=a&&a.address?(0,u.toChecksumAddress)(a.address):undefined:J((0,c.setFromToken)({...a,image:a.iconUrl,chainId:se.chainId})),n();break;default:n()}}),[se,ee,te,it,ne]),(0,a.useEffect)((()=>{Z&&(J((0,c.setSlippage)(undefined)),se&&!ae&&(J((0,c.setToChainId)(se.chainId)),J((0,c.setToToken)(R.SOLANA_USDC_ASSET))))}),[]);const ut=(0,r.useSelector)(d.isBridgeSolanaEnabled);return a.default.createElement(M.Column,{className:"prepare-bridge-page",gap:8},a.default.createElement(Y.BridgeInputGroup,{header:X(Z?"swapSwapFrom":"bridgeFrom"),token:ee,onAmountChange:e=>{J((0,c.setFromTokenInputValue)(e))},onAssetChange:e=>{const t={...e,address:e.address??(0,u.zeroAddress)()};J((0,c.setFromToken)(t)),J((0,c.setFromTokenInputValue)(null)),e.address===(null==ae?void 0:ae.address)&&J((0,c.setToToken)(null)),t.address&&st({input:"token_source",value:t.address})},networkProps:{network:se,networks:Z?undefined:re,onNetworkChange:e=>{(null==e?void 0:e.chainId)&&e.chainId!==(null==se?void 0:se.chainId)&&st({input:"chain_source",value:e.chainId}),null!=e&&e.chainId&&e.chainId===(null==ie?void 0:ie.chainId)&&(J((0,c.setToChainId)(null)),J((0,c.setToToken)(null))),e.chainId===U.MultichainNetworks.SOLANA&&xe?J((0,y.setSelectedAccount)(xe.address)):(0,E.isNetworkAdded)(e)&&(J((0,y.setSelectedAccount)(Te.address)),J((0,y.setActiveNetworkWithError)(e.rpcEndpoints[e.defaultRpcEndpointIndex].networkClientId||e.chainId))),J((0,c.setFromToken)(null)),J((0,c.setFromTokenInputValue)(null))},header:X("yourNetworks")},isMultiselectEnabled:!Z,onMaxButtonClick:e=>{J((0,c.setFromTokenInputValue)(e))},amountInFiat:ue.valueInCurrency,amountFieldProps:{testId:"from-amount",autoFocus:!0,value:le||undefined},isTokenListLoading:ne}),a.default.createElement(M.Column,{height:m.BlockSize.Full,paddingTop:8,backgroundColor:m.BackgroundColor.backgroundAlternativeSoft,style:{position:"relative"}},a.default.createElement(f.Box,{className:"prepare-bridge-page__switch-tokens",display:m.Display.Flex,backgroundColor:m.BackgroundColor.backgroundAlternativeSoft,style:{position:"absolute",top:"calc(-20px + 1px)",right:"calc(50% - 20px)",border:"2px solid var(--color-background-default)",borderRadius:"100%",opacity:1,width:40,height:40,justifyContent:m.JustifyContent.center}},a.default.createElement(f.ButtonIcon,{iconProps:{className:(0,o.default)({rotate:Ge})},style:{alignSelf:"center",borderRadius:"100%",width:"100%",height:"100%"},"data-testid":"switch-tokens",ariaLabel:"switch-tokens",iconName:f.IconName.Arrow2Down,color:m.IconColor.iconAlternativeSoft,disabled:Je||!(0,b.isValidQuoteRequest)(fe,!1)||!Z&&!(0,E.isNetworkAdded)(ie),onClick:()=>{if(Z||(0,E.isNetworkAdded)(ie)){if(ze(!Ge),We&&Ue({event:C.MetaMetricsEventName.InputSourceDestinationFlipped,properties:We}),!Z){const e=(null==ie?void 0:ie.defaultRpcEndpointIndex)!==undefined&&null!=ie&&ie.rpcEndpoints&&(0,E.isNetworkAdded)(ie)?ie.rpcEndpoints[ie.defaultRpcEndpointIndex].networkClientId:undefined;null!=ie&&ie.chainId&&(0,H.formatChainIdToCaip)(ie.chainId)===U.MultichainNetworks.SOLANA&&xe?J((0,y.setSelectedAccount)(xe.address)):J((0,y.setSelectedAccount)(Te.address)),e&&J((0,y.setActiveNetwork)(e)),(null==se?void 0:se.chainId)&&J((0,c.setToChainId)(se.chainId))}J((0,c.setFromToken)(ae)),J((0,c.setToToken)(ee))}}})),a.default.createElement(Y.BridgeInputGroup,{header:X("swapSelectToken"),token:ae,onAssetChange:e=>{const t={...e,address:e.address??(0,u.zeroAddress)()};t.address&&st({input:"token_destination",value:t.address}),J((0,c.setToToken)(t))},networkProps:Z?undefined:{network:ie,networks:oe,onNetworkChange:e=>{e.chainId!==(null==ie?void 0:ie.chainId)&&st({input:"chain_destination",value:e.chainId}),J((0,c.setToChainId)(e.chainId)),J((0,c.setToToken)(null))},header:X(Z?"swapSwapTo":"bridgeTo"),shouldDisableNetwork:({chainId:e})=>e===(null==se?void 0:se.chainId)},customTokenListGenerator:ie||Z?$e:undefined,amountInFiat:(null==ke||null===(e=ke.toTokenAmount)||void 0===e?void 0:e.valueInCurrency)||undefined,amountFieldProps:{testId:"to-amount",readOnly:!0,disabled:!0,value:null!=ke&&null!==(t=ke.toTokenAmount)&&void 0!==t&&t.amount?(0,k.formatTokenAmount)(Se,ke.toTokenAmount.amount):"0",autoFocus:!1,className:null!=ke&&null!==(n=ke.toTokenAmount)&&void 0!==n&&n.amount?"amount-input defined":"amount-input"},isTokenListLoading:qe}),ut&&nt&&a.default.createElement(f.Box,{padding:6,paddingBottom:3,paddingTop:3},a.default.createElement(K.DestinationAccountPicker,{onAccountSelect:Le,selectedSwapToAccount:je,isDestinationSolana:at})),a.default.createElement(M.Column,{height:m.BlockSize.Full,justifyContent:m.JustifyContent.center},me&&!ke?a.default.createElement(a.default.Fragment,null,a.default.createElement(f.Text,{textAlign:m.TextAlign.Center,color:m.TextColor.textAlternativeSoft},X("swapFetchingQuotes")),a.default.createElement(S.default,{height:"64",width:"64"})):null),a.default.createElement(M.Row,{padding:6,paddingTop:ke?0:6},a.default.createElement(M.Column,{gap:3,className:ke?"highlight":"",style:{paddingBottom:null!=ke&&ke.approval?16:"revert-layer",paddingTop:null!=ke&&ke.approval?16:undefined,paddingInline:16,position:"relative",overflow:"hidden",...ke&&!ve&&ut?{boxShadow:"var(--shadow-size-sm) var(--color-shadow-default)",backgroundColor:"var(--color-background-default)",borderRadius:8}:{}}},ke&&ge&&a.default.createElement(M.Row,{style:{position:"absolute",left:0,top:0,width:`calc(100% * (${ye} - ${He}) / ${ye})`,height:4,maxWidth:"100%",transition:"width 1s linear"},backgroundColor:m.BackgroundColor.primaryMuted}),!ve&&ke&&(ut?a.default.createElement(q.MultichainBridgeQuoteCard,null):a.default.createElement(W.BridgeQuoteCard,null)),a.default.createElement(_.Footer,{padding:0,flexDirection:m.FlexDirection.Column,gap:2},a.default.createElement(Q.BridgeCTAButton,{onFetchNewQuotes:()=>{ot(rt)},needsDestinationAddress:ut&&nt&&!je}),null!=ke&&ke.approval&&le&&ee?a.default.createElement(M.Row,{justifyContent:m.JustifyContent.center,gap:1},a.default.createElement(f.Text,{color:m.TextColor.textAlternativeSoft,variant:m.TextVariant.bodyXs,textAlign:m.TextAlign.Center},_e?X("willApproveAmountForBridgingHardware"):X("willApproveAmountForBridging",[(0,k.formatTokenAmount)(Se,new l.BigNumber(le),ee.symbol)])),le&&a.default.createElement(M.Tooltip,{display:m.Display.InlineBlock,position:f.PopoverPosition.Top,offset:[-48,8],title:X("grantExactAccess")},X(_e?"bridgeApprovalWarningForHardware":"bridgeApprovalWarning",[le,ee.symbol]))):null))),Ae&&a.default.createElement(f.BannerAlert,{marginInline:4,marginBottom:10,severity:f.BannerAlertSeverity.Danger,description:X("noOptionsAvailableMessage"),textAlign:m.TextAlign.Left}),Ie&&Ve&&a.default.createElement(f.BannerAlert,{ref:Ze,marginInline:4,marginBottom:3,title:X("lowEstimatedReturnTooltipTitle"),severity:f.BannerAlertSeverity.Warning,description:X("lowEstimatedReturnTooltipMessage",[100*R.BRIDGE_QUOTE_MAX_RETURN_DIFFERENCE_PERCENTAGE]),textAlign:m.TextAlign.Left,onClose:()=>Ye(!1)}),Re&&Qe&&a.default.createElement(f.BannerAlert,{ref:tt,marginInline:4,marginBottom:3,title:Re.titleId?X(Re.titleId):"",severity:Re.type===G.TokenFeatureType.MALICIOUS?f.BannerAlertSeverity.Danger:f.BannerAlertSeverity.Warning,description:Re.descriptionId?X(Re.descriptionId):Re.description,textAlign:m.TextAlign.Left,onClose:()=>Ke(!1)}),!me&&ke&&!Oe(Fe)&&Pe(De)&&a.default.createElement(f.BannerAlert,{ref:et,marginInline:4,marginBottom:3,title:X("bridgeValidationInsufficientGasTitle",[Me]),severity:f.BannerAlertSeverity.Danger,description:X("bridgeValidationInsufficientGasMessage",[Me]),textAlign:m.TextAlign.Left,actionButtonLabel:X("buyMoreAsset",[Me]),actionButtonOnClick:()=>Be()})))}}}},{package:"$root$",file:"ui/pages/bridge/prepare/prepare-bridge-page.tsx"}],[6867,{"../../../../shared/constants/bridge":5644,"../../../../shared/constants/metametrics":5654,"../../../../shared/constants/terms":5670,"../../../components/component-library":6234,"../../../ducks/bridge/selectors":6666,"../../../ducks/locale/locale":6675,"../../../ducks/metamask/metamask":6676,"../../../helpers/constants/design-system":6688,"../../../hooks/bridge/events/useQuoteProperties":6744,"../../../hooks/bridge/events/useRequestMetadataProperties":6745,"../../../hooks/bridge/events/useRequestProperties":6746,"../../../hooks/bridge/useCrossChainSwapsEventTracker":6753,"../../../hooks/useI18nContext":6794,"../../../selectors/multichain":7388,"../layout":6856,"../utils/quote":6880,"./bridge-quotes-modal":6868,react:5183,"react-redux":5141},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.BridgeQuoteCard=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=x(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),o=e("../../../components/component-library"),s=e("../../../ducks/bridge/selectors"),i=e("../../../hooks/useI18nContext"),l=e("../utils/quote"),u=e("../../../ducks/metamask/metamask"),c=e("../../../hooks/bridge/useCrossChainSwapsEventTracker"),d=e("../../../hooks/bridge/events/useRequestProperties"),f=e("../../../hooks/bridge/events/useRequestMetadataProperties"),m=e("../../../hooks/bridge/events/useQuoteProperties"),p=e("../../../../shared/constants/metametrics"),g=e("../../../helpers/constants/design-system"),h=e("../layout"),y=e("../../../../shared/constants/bridge"),v=e("../../../../shared/constants/terms"),k=e("../../../ducks/locale/locale"),b=e("../../../selectors/multichain"),T=e("./bridge-quotes-modal");function x(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(x=function(e){return e?n:t})(e)}n.BridgeQuoteCard=()=>{var e,t,n,x;const w=(0,i.useI18nContext)(),{activeQuote:C}=(0,r.useSelector)(s.getBridgeQuotes),E=(0,r.useSelector)(u.getCurrentCurrency),_=(0,r.useSelector)(u.getNativeCurrency),{isEstimatedReturnLow:S}=(0,r.useSelector)(s.getValidationErrors),M=(0,c.useCrossChainSwapsEventTracker)(),{quoteRequestProperties:I}=(0,d.useRequestProperties)(),A=(0,f.useRequestMetadataProperties)(),P=(0,m.useQuoteProperties)(),O=(0,r.useSelector)(s.getFromChain),N=(0,r.useSelector)(s.getToChain),B=(0,r.useSelector)(k.getIntlLocale),[D,R]=(0,a.useState)(!1),[F,j]=(0,a.useState)(!1);return a.default.createElement(a.default.Fragment,null,a.default.createElement(T.BridgeQuotesModal,{isOpen:D,onClose:()=>R(!1)}),C?a.default.createElement(h.Column,{gap:3},a.default.createElement(h.Row,{justifyContent:g.JustifyContent.spaceBetween},a.default.createElement(h.Row,{gap:1,justifyContent:g.JustifyContent.flexStart,style:{whiteSpace:"nowrap"}},a.default.createElement(o.Text,{variant:g.TextVariant.bodyLgMedium},w("bestPrice")),a.default.createElement(h.Tooltip,{title:w("howQuotesWork"),position:o.PopoverPosition.TopStart,offset:[-16,16],iconName:o.IconName.Question},w("howQuotesWorkExplanation",[y.BRIDGE_MM_FEE_RATE]))),a.default.createElement(h.Column,{height:g.BlockSize.Full,alignItems:g.AlignItems.flexEnd},a.default.createElement(o.Text,{as:"a",variant:g.TextVariant.bodyMd,color:g.TextColor.primaryDefault,onClick:()=>{I&&A&&P&&M({event:p.MetaMetricsEventName.AllQuotesOpened,properties:{...I,...A,...P}}),R(!0)}},w("moreQuotes")))),a.default.createElement(h.Column,{gap:1},a.default.createElement(h.Row,null,a.default.createElement(o.Text,{variant:g.TextVariant.bodyMdMedium,color:g.TextColor.textAlternativeSoft},w("bridging")),a.default.createElement(h.Row,{gap:1},a.default.createElement(o.AvatarNetwork,{name:(null==O?void 0:O.name)??"",src:null!=O&&O.chainId?(0,b.getImageForChainId)(O.chainId):undefined,size:o.AvatarNetworkSize.Xs,backgroundColor:g.BackgroundColor.transparent}),a.default.createElement(o.Text,{style:{whiteSpace:"nowrap"}},null!=O&&O.chainId?y.NETWORK_TO_SHORT_NETWORK_NAME_MAP[O.chainId]:null==O?void 0:O.name),a.default.createElement(o.Icon,{name:o.IconName.Arrow2Right,size:o.IconSize.Xs}),a.default.createElement(o.AvatarNetwork,{name:(null==N?void 0:N.name)??"",src:null!=N&&N.chainId?(0,b.getImageForChainId)(N.chainId):undefined,size:o.AvatarNetworkSize.Xs,backgroundColor:g.BackgroundColor.transparent}),a.default.createElement(o.Text,{style:{whiteSpace:"nowrap"}},null!=N&&N.chainId?y.NETWORK_TO_SHORT_NETWORK_NAME_MAP[N.chainId]:null==N?void 0:N.name))),a.default.createElement(h.Row,{className:"row-with-warning",backgroundColor:S?g.BackgroundColor.warningMuted:undefined},a.default.createElement(o.Text,{style:{whiteSpace:"nowrap"},variant:g.TextVariant.bodyMdMedium,color:S?g.TextColor.warningDefault:g.TextColor.textAlternativeSoft},w("networkFee")),a.default.createElement(h.Row,{gap:1},a.default.createElement(h.Tooltip,{position:o.PopoverPosition.TopStart,offset:[-16,16],iconName:o.IconName.Question,triggerElement:a.default.createElement(o.Text,{style:{whiteSpace:"nowrap",overflow:"visible",textDecoration:"underline",cursor:"pointer"},color:S?g.TextColor.warningDefault:undefined},F?`${null!=C&&null!==(e=C.totalNetworkFee)&&void 0!==e&&e.valueInCurrency?(0,l.formatTokenAmount)(B,null==C||null===(t=C.totalNetworkFee)||void 0===t?void 0:t.amount,_):undefined}`:`${(0,l.formatCurrencyAmount)(null==C||null===(n=C.totalNetworkFee)||void 0===n?void 0:n.valueInCurrency,E,2)??(0,l.formatTokenAmount)(B,null==C||null===(x=C.totalNetworkFee)||void 0===x?void 0:x.amount,_)}`)},w("howNetworkFeesWorkExplanation",[F?(0,l.formatTokenAmount)(B,null==C?void 0:C.totalMaxNetworkFee.amount,_):(0,l.formatCurrencyAmount)(null==C?void 0:C.totalMaxNetworkFee.valueInCurrency,E,2)])),a.default.createElement(o.Icon,{style:{cursor:"pointer"},color:S?g.IconColor.warningDefault:g.IconColor.iconAlternativeSoft,name:o.IconName.SwapVertical,size:o.IconSize.Md,onClick:()=>j(!F)}))),a.default.createElement(h.Row,null,a.default.createElement(o.Text,{variant:g.TextVariant.bodyMdMedium,color:g.TextColor.textAlternativeSoft},w("time")),a.default.createElement(o.Text,null,w("bridgeTimingMinutes",[(0,l.formatEtaInMinutes)(C.estimatedProcessingTimeInSeconds)]))),a.default.createElement(h.Row,{justifyContent:g.JustifyContent.flexStart,gap:2},a.default.createElement(o.Text,{variant:g.TextVariant.bodyMd,color:g.TextColor.textAlternativeSoft},w("rateIncludesMMFee",[y.BRIDGE_MM_FEE_RATE])),a.default.createElement(o.Text,{color:g.TextColor.textAlternativeSoft},w("bulletpoint")),a.default.createElement(o.ButtonLink,{variant:g.TextVariant.bodyMd,color:g.TextColor.textAlternativeSoft,href:v.TERMS_OF_USE_LINK,externalLink:!0,style:{textDecoration:"underline"}},w("bridgeTerms"))))):null)}}}},{package:"$root$",file:"ui/pages/bridge/quotes/bridge-quote-card.tsx"}],[6868,{"../../../../shared/constants/metametrics":5654,"../../../../shared/types/bridge":5735,"../../../components/component-library":6234,"../../../ducks/bridge/actions":6664,"../../../ducks/bridge/selectors":6666,"../../../ducks/locale/locale":6675,"../../../ducks/metamask/metamask":6676,"../../../helpers/constants/design-system":6688,"../../../hooks/bridge/events/useQuoteProperties":6744,"../../../hooks/bridge/events/useRequestMetadataProperties":6745,"../../../hooks/bridge/events/useRequestProperties":6746,"../../../hooks/bridge/events/useTradeProperties":6747,"../../../hooks/bridge/useCrossChainSwapsEventTracker":6753,"../../../hooks/useI18nContext":6794,"../../../hooks/useMultichainSelector":6802,"../../../selectors/multichain":7388,"../layout":6856,"../utils/quote":6880,"@metamask/snaps-sdk/jsx":2757,lodash:4779,react:5183,"react-redux":5141},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.BridgeQuotesModal=void 0;var a,r=(a=e("react"))&&a.__esModule?a:{default:a},o=e("@metamask/snaps-sdk/jsx"),s=e("react-redux"),i=e("lodash"),l=e("../../../components/component-library"),u=e("../../../helpers/constants/design-system"),c=e("../utils/quote"),d=e("../../../hooks/useI18nContext"),f=e("../../../ducks/bridge/actions"),m=e("../../../../shared/types/bridge"),p=e("../../../ducks/bridge/selectors"),g=e("../layout"),h=e("../../../ducks/metamask/metamask"),y=e("../../../hooks/bridge/events/useQuoteProperties"),v=e("../../../hooks/bridge/events/useRequestMetadataProperties"),k=e("../../../hooks/bridge/events/useRequestProperties"),b=e("../../../hooks/bridge/useCrossChainSwapsEventTracker"),T=e("../../../../shared/constants/metametrics"),x=e("../../../hooks/bridge/events/useTradeProperties"),w=e("../../../ducks/locale/locale"),C=e("../../../selectors/multichain"),E=e("../../../hooks/useMultichainSelector");function _(){return _=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},_.apply(null,arguments)}n.BridgeQuotesModal=({onClose:e,...t})=>{const n=(0,d.useI18nContext)(),a=(0,s.useDispatch)(),{sortedQuotes:S,activeQuote:M,recommendedQuote:I}=(0,s.useSelector)(p.getBridgeQuotes),A=(0,s.useSelector)(p.getBridgeSortOrder),P=(0,s.useSelector)(h.getCurrentCurrency),O=(0,E.useMultichainSelector)(C.getMultichainNativeCurrency),N=(0,s.useSelector)(w.getIntlLocale),B=(0,b.useCrossChainSwapsEventTracker)(),{quoteRequestProperties:D}=(0,k.useRequestProperties)(),R=(0,v.useRequestMetadataProperties)(),F=(0,y.useQuoteProperties)(),j=(0,x.useTradeProperties)();return r.default.createElement(l.Modal,_({className:"quotes-modal",onClose:e},t),r.default.createElement(l.ModalOverlay,null),r.default.createElement(l.ModalContent,{modalDialogProps:{padding:0}},r.default.createElement(l.ModalHeader,{onBack:e},r.default.createElement(l.Text,{variant:u.TextVariant.headingSm,textAlign:u.TextAlign.Center},n("swapSelectAQuote"))),r.default.createElement(g.Row,{paddingTop:3,paddingBottom:1,paddingInline:4},[[m.SortOrder.COST_ASC,n("bridgeNetCost"),o.IconName.Arrow2Up],[m.SortOrder.ETA_ASC,n("time"),o.IconName.Arrow2Down]].map((([e,t,n])=>r.default.createElement(l.ButtonLink,{key:t,onClick:()=>{D&&R&&F&&B({event:T.MetaMetricsEventName.AllQuotesSorted,properties:{...D,...R,...F,sort_order:A}}),a((0,f.setSortOrder)(e))},startIconName:A===e&&A===m.SortOrder.ETA_ASC?n:undefined,startIconProps:{size:l.IconSize.Xs},endIconName:A===e&&A===m.SortOrder.COST_ASC?n:undefined,endIconProps:{size:l.IconSize.Xs},color:A===e?u.TextColor.primaryDefault:u.TextColor.textAlternativeSoft},r.default.createElement(l.Text,{variant:A===e?u.TextVariant.bodySmMedium:u.TextVariant.bodySm,color:A===e?u.TextColor.primaryDefault:u.TextColor.textAlternativeSoft},t))))),r.default.createElement(g.Column,{style:{overflow:"scroll"}},S.map(((t,o)=>{const{totalNetworkFee:s,estimatedProcessingTimeInSeconds:d,toTokenAmount:m,cost:p,sentAmount:h,quote:{destAsset:y,bridges:v,requestId:k}}=t,b=k===(null==M?void 0:M.quote.requestId),x=k===(null==I?void 0:I.quote.requestId);return r.default.createElement(g.Row,{alignItems:u.AlignItems.flexStart,key:o,backgroundColor:b?u.BackgroundColor.primaryMuted:undefined,onClick:()=>{a((0,f.setSelectedQuote)(t)),D&&R&&F&&j&&B({event:T.MetaMetricsEventName.QuoteSelected,properties:{...D,...R,...F,...j,is_best_quote:x}}),e()},paddingInline:4,paddingTop:3,paddingBottom:3,style:{position:"relative"}},b&&r.default.createElement(g.Column,{style:{position:"absolute",left:4,top:4,height:"calc(100% - 8px)",width:4,borderRadius:8},backgroundColor:u.BackgroundColor.primaryDefault}),r.default.createElement(g.Column,null,r.default.createElement(l.Text,{variant:u.TextVariant.bodyMd},p.valueInCurrency&&(0,c.formatCurrencyAmount)(p.valueInCurrency,P,0)),[null!=s&&s.valueInCurrency&&null!=h&&h.valueInCurrency?n("quotedTotalCost",[(0,c.formatCurrencyAmount)(s.valueInCurrency.plus(h.valueInCurrency),P,0)]):n("quotedTotalCost",[(0,c.formatTokenAmount)(N,s.amount,O)]),n("quotedReceiveAmount",[(0,c.formatCurrencyAmount)(m.valueInCurrency,P,0)??(0,c.formatTokenAmount)(N,m.amount,y.symbol)])].map((e=>r.default.createElement(l.Text,{key:e,variant:u.TextVariant.bodyXsMedium,color:u.TextColor.textAlternative},e)))),r.default.createElement(g.Column,{alignItems:u.AlignItems.flexEnd},r.default.createElement(l.Text,{variant:u.TextVariant.bodyMd},n("bridgeTimingMinutes",[(0,c.formatEtaInMinutes)(d)])),r.default.createElement(l.Text,{variant:u.TextVariant.bodyXsMedium,color:u.TextColor.textAlternative},(0,i.startCase)(v[0]))))})))))}}}},{package:"$root$",file:"ui/pages/bridge/quotes/bridge-quotes-modal.tsx"}],[6869,{"../../../../shared/constants/bridge":5644,"../../../../shared/constants/metametrics":5654,"../../../../shared/constants/multichain/networks":5657,"../../../../shared/constants/network":5658,"../../../../shared/modules/conversion.utils":5710,"../../../components/component-library":6234,"../../../ducks/bridge/selectors":6666,"../../../ducks/locale/locale":6675,"../../../ducks/metamask/metamask":6676,"../../../helpers/constants/design-system":6688,"../../../hooks/bridge/events/useQuoteProperties":6744,"../../../hooks/bridge/events/useRequestMetadataProperties":6745,"../../../hooks/bridge/events/useRequestProperties":6746,"../../../hooks/bridge/useCrossChainSwapsEventTracker":6753,"../../../hooks/useI18nContext":6794,"../layout":6856,"../utils/quote":6880,"./bridge-quotes-modal":6868,react:5183,"react-redux":5141},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.MultichainBridgeQuoteCard=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=w(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),o=e("../../../components/component-library"),s=e("../../../ducks/bridge/selectors"),i=e("../../../hooks/useI18nContext"),l=e("../utils/quote"),u=e("../../../ducks/metamask/metamask"),c=e("../../../hooks/bridge/useCrossChainSwapsEventTracker"),d=e("../../../hooks/bridge/events/useRequestProperties"),f=e("../../../hooks/bridge/events/useRequestMetadataProperties"),m=e("../../../hooks/bridge/events/useQuoteProperties"),p=e("../../../../shared/constants/metametrics"),g=e("../../../helpers/constants/design-system"),h=e("../layout"),y=e("../../../../shared/constants/bridge"),v=e("../../../../shared/constants/network"),k=e("../../../../shared/constants/multichain/networks"),b=e("../../../../shared/modules/conversion.utils"),T=e("../../../ducks/locale/locale"),x=e("./bridge-quotes-modal");function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(w=function(e){return e?n:t})(e)}n.MultichainBridgeQuoteCard=()=>{var e;const t=(0,i.useI18nContext)(),{activeQuote:n}=(0,r.useSelector)(s.getBridgeQuotes),w=(0,r.useSelector)(u.getCurrentCurrency),C=(0,c.useCrossChainSwapsEventTracker)(),{quoteRequestProperties:E}=(0,d.useRequestProperties)(),_=(0,f.useRequestMetadataProperties)(),S=(0,m.useQuoteProperties)(),M=(0,r.useSelector)(s.getFromChain),I=(0,r.useSelector)(s.getToChain),A=(0,r.useSelector)(T.getIntlLocale),P=(0,r.useSelector)(s.getIsBridgeTx),[O,N]=(0,a.useState)(!1),B=e=>0x416edef1601be===e?k.MULTICHAIN_TOKEN_IMAGE_MAP[k.MultichainNetworks.SOLANA]:v.CHAIN_ID_TO_NETWORK_IMAGE_URL_MAP[`0x${(0,b.decimalToHex)(e)}`],D=e=>0x416edef1601be===e?"Solana":y.NETWORK_TO_SHORT_NETWORK_NAME_MAP[`0x${(0,b.decimalToHex)(e)}`];return a.default.createElement(a.default.Fragment,null,a.default.createElement(x.BridgeQuotesModal,{isOpen:O,onClose:()=>N(!1)}),n?a.default.createElement(h.Column,{gap:3},a.default.createElement(h.Column,{gap:2},a.default.createElement(h.Row,{justifyContent:g.JustifyContent.spaceBetween},a.default.createElement(h.Row,{gap:1},a.default.createElement(o.Text,{variant:g.TextVariant.bodyMd,color:g.TextColor.textAlternative},t("multichainQuoteCardQuoteLabel")),a.default.createElement(h.Tooltip,{title:t("howQuotesWork"),position:o.PopoverPosition.TopStart,offset:[-16,16],iconName:o.IconName.Question},t("howQuotesWorkExplanation",[y.BRIDGE_MM_FEE_RATE]))),a.default.createElement(o.Text,null,`1 ${n.quote.srcAsset.symbol} = ${(0,l.formatTokenAmount)(A,n.toTokenAmount.amount.dividedBy(n.sentAmount.amount))} ${n.quote.destAsset.symbol}`)),P&&a.default.createElement(h.Row,{justifyContent:g.JustifyContent.spaceBetween},a.default.createElement(o.Text,{variant:g.TextVariant.bodyMd,color:g.TextColor.textAlternative},t("multichainQuoteCardBridgingLabel")),a.default.createElement(h.Row,{gap:1},a.default.createElement(o.AvatarNetwork,{name:(null==M?void 0:M.name)??"",src:B(n.quote.srcChainId),size:o.AvatarNetworkSize.Xs,backgroundColor:g.BackgroundColor.transparent}),a.default.createElement(o.Text,null,D(n.quote.srcChainId)),a.default.createElement(o.Icon,{name:o.IconName.Arrow2Right,size:o.IconSize.Xs}),a.default.createElement(o.AvatarNetwork,{name:(null==I?void 0:I.name)??"",src:B(n.quote.destChainId),size:o.AvatarNetworkSize.Xs,backgroundColor:g.BackgroundColor.transparent}),a.default.createElement(o.Text,null,D(n.quote.destChainId)))),a.default.createElement(h.Row,{justifyContent:g.JustifyContent.spaceBetween},a.default.createElement(o.Text,{variant:g.TextVariant.bodyMd,color:g.TextColor.textAlternative},t("networkFee")),a.default.createElement(o.Text,null,(0,l.formatCurrencyAmount)(null===(e=n.totalNetworkFee)||void 0===e?void 0:e.valueInCurrency,w,2))),a.default.createElement(h.Row,{justifyContent:g.JustifyContent.spaceBetween},a.default.createElement(o.Text,{variant:g.TextVariant.bodyMd,color:g.TextColor.textAlternative},t("multichainQuoteCardTimeLabel")),a.default.createElement(o.Text,null,t("bridgeTimingMinutes",[(0,l.formatEtaInMinutes)(n.estimatedProcessingTimeInSeconds)]))),a.default.createElement(h.Row,{justifyContent:g.JustifyContent.spaceBetween,color:g.TextColor.textAlternative},a.default.createElement(o.Text,{variant:g.TextVariant.bodyMd},t("rateIncludesMMFee",[y.BRIDGE_MM_FEE_RATE])),a.default.createElement(o.ButtonLink,{variant:g.TextVariant.bodyMd,onClick:()=>{E&&_&&S&&C({event:p.MetaMetricsEventName.AllQuotesOpened,properties:{...E,..._,...S}}),N(!0)}},t("moreQuotes"))))):null)}}}},{package:"$root$",file:"ui/pages/bridge/quotes/multichain-bridge-quote-card.tsx"}],[6870,{"../../../../shared/types/bridge-status":5734,"../../../components/component-library":6234,"../../../helpers/constants/design-system":6688,"./segment":6876,"@metamask/transaction-controller":2829,react:5183},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({bridgeTxHistoryItem:e,transactionGroup:t}){const{initialTransaction:n}=t,r=d(n),o=f({bridgeTxHistoryItem:e,srcTxStatus:r}),u=c(r);return a.default.createElement(s.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Column,gap:2},a.default.createElement(s.Text,{color:i.TextColor.textAlternative},"Transaction ",u," of 2"),a.default.createElement(s.Box,{display:i.Display.Flex,gap:2,width:i.BlockSize.Full},a.default.createElement(l.default,{type:r}),a.default.createElement(l.default,{type:o})))};var a=u(e("react")),r=e("@metamask/transaction-controller"),o=e("../../../../shared/types/bridge-status"),s=e("../../../components/component-library"),i=e("../../../helpers/constants/design-system"),l=u(e("./segment"));function u(e){return e&&e.__esModule?e:{default:e}}const c=e=>{if(e===o.StatusTypes.PENDING)return 1;if(e===o.StatusTypes.COMPLETE)return 2;throw new Error("No more possible states for srcTxStatus")},d=e=>e.status===r.TransactionStatus.confirmed?o.StatusTypes.COMPLETE:o.StatusTypes.PENDING,f=({bridgeTxHistoryItem:e,srcTxStatus:t})=>{var n;return t!==o.StatusTypes.COMPLETE?null:null!=e&&null!==(n=e.status.destChain)&&void 0!==n&&n.txHash&&e.status.status===o.StatusTypes.COMPLETE?o.StatusTypes.COMPLETE:o.StatusTypes.PENDING}}}},{package:"$root$",file:"ui/pages/bridge/transaction-details/bridge-activity-item-tx-segments.tsx"}],[6871,{"../../../../shared/constants/common":5645,"../../../components/component-library":6234,"../../../components/multichain/menu-items/view-explorer-menu-item":6403,"../../../contexts/metametrics":6652,"../../../helpers/constants/design-system":6688,"../../../hooks/useI18nContext":6794,react:5183},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({srcChainId:e,destChainId:t,srcBlockExplorerUrl:n,destBlockExplorerUrl:u}){const c=(0,a.useContext)(s.MetaMetricsContext),m=(0,l.useI18nContext)(),p=m("bridgeExplorerLinkViewOn",[d(e,n)]),g=u?m("bridgeExplorerLinkViewOn",[d(t,u)]):undefined;return a.default.createElement(r.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Column,gap:4},n&&a.default.createElement(r.ButtonSecondary,{endIconName:r.IconName.Export,onClick:()=>{n&&(0,o.openBlockExplorer)(n,f,c)}},p),u&&a.default.createElement(r.ButtonSecondary,{endIconName:r.IconName.Export,onClick:()=>{u&&(0,o.openBlockExplorer)(u,f,c)}},g))},n.getBlockExplorerUrl=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("../../../components/component-library"),o=e("../../../components/multichain/menu-items/view-explorer-menu-item"),s=e("../../../contexts/metametrics"),i=e("../../../helpers/constants/design-system"),l=e("../../../hooks/useI18nContext"),u=e("../../../../shared/constants/common");function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}const d=(e,t)=>{const n=e?u.CHAINID_DEFAULT_BLOCK_EXPLORER_HUMAN_READABLE_URL_MAP[e]:undefined;return n||(t?t.split("/")[2]:undefined)};n.getBlockExplorerUrl=(e,t)=>{var n;if(!e||!t)return undefined;const a=e.defaultBlockExplorerUrlIndex;if(a===undefined)return undefined;return`${null===(n=e.blockExplorerUrls[a])||void 0===n?void 0:n.replace(/\/$/u,"")}/tx/${t}`};const f="Activity Tab"}}},{package:"$root$",file:"ui/pages/bridge/transaction-details/bridge-explorer-links.tsx"}],[6872,{"../../../../shared/constants/bridge":5644,"../../../../shared/modules/Numeric":5700,"../../../../shared/types/bridge-status":5734,"../../../components/component-library":6234,"../../../helpers/constants/design-system":6688,"../../../hooks/useI18nContext":6794,"@metamask/transaction-controller":2829,react:5183},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({step:e,networkConfigurationsByChainId:t,time:n,stepStatus:r}){const i=(0,u.useI18nContext)();return a.createElement(s.Box,{display:l.Display.Flex,alignItems:l.AlignItems.center,gap:2,className:"bridge-transaction-details__step-grid--desc"},n&&a.createElement(s.Text,{color:l.TextColor.textDefault},n),a.createElement(s.Text,{color:r===o.StatusTypes.PENDING||r===o.StatusTypes.COMPLETE?l.TextColor.textDefault:l.TextColor.textAlternative,fontWeight:r===o.StatusTypes.PENDING?l.FontWeight.Medium:l.FontWeight.Normal},e.action===o.ActionTypes.BRIDGE&&f(i,r,e,t),e.action===o.ActionTypes.SWAP&&m(i,r,e)))},n.getStepStatus=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("@metamask/transaction-controller"),o=e("../../../../shared/types/bridge-status"),s=e("../../../components/component-library"),i=e("../../../../shared/modules/Numeric"),l=e("../../../helpers/constants/design-system"),u=e("../../../hooks/useI18nContext"),c=e("../../../../shared/constants/bridge");function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}const f=(e,t,n,a)=>{var r;const s=n.destChainId?new i.Numeric(n.destChainId,10).toPrefixedHexString():undefined,l=s?a[s]:undefined,u=c.NETWORK_TO_SHORT_NETWORK_NAME_MAP[null==l?void 0:l.chainId],d=null===(r=n.destAsset)||void 0===r?void 0:r.symbol;return d?t===o.StatusTypes.COMPLETE?e("bridgeStepActionBridgeComplete",[d,u]):e("bridgeStepActionBridgePending",[d,u]):null},m=(e,t,n)=>{var a,r;const s=null===(a=n.srcAsset)||void 0===a?void 0:a.symbol,i=null===(r=n.destAsset)||void 0===r?void 0:r.symbol;return s&&i?t===o.StatusTypes.COMPLETE?e("bridgeStepActionSwapComplete",[s,i]):e("bridgeStepActionSwapPending",[s,i]):null};n.getStepStatus=({bridgeHistoryItem:e,step:t,srcChainTxMeta:n})=>e?t.action===o.ActionTypes.SWAP?((e,t,n)=>{const a=t.srcChainId===t.destChainId,s=t.srcChainId===e.quote.srcChainId;if(a&&s)return(null==n?void 0:n.status)===r.TransactionStatus.confirmed?o.StatusTypes.COMPLETE:o.StatusTypes.PENDING;return(null==n?void 0:n.status)===r.TransactionStatus.confirmed&&e.status?e.status.status:null})(e,t,n):t.action===o.ActionTypes.BRIDGE?(e=>e.status?e.status.status:null)(e):o.StatusTypes.UNKNOWN:o.StatusTypes.UNKNOWN}}},{package:"$root$",file:"ui/pages/bridge/transaction-details/bridge-step-description.tsx"}],[6873,{"../../../../shared/types/bridge-status":5734,"../../../components/component-library":6234,"../../../helpers/utils/util":6737,"./bridge-step-description":6872,"./step-progress-bar-item":6877,react:5183},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({bridgeHistoryItem:e,srcChainTxMeta:t,networkConfigurationsByChainId:n}){const u=(null==e?void 0:e.quote.steps)||[],c=u.map((n=>(0,i.getStepStatus)({bridgeHistoryItem:e,step:n,srcChainTxMeta:t})));return a.default.createElement(r.Box,{className:"bridge-transaction-details__step-grid"},u.map(((r,f)=>{const m=f>0?c[f-1]:null,p=c[f],g=f<c.length-1?c[f+1]:null,h=p===o.StatusTypes.COMPLETE&&(g===o.StatusTypes.PENDING||g===o.StatusTypes.COMPLETE),y=m===o.StatusTypes.PENDING&&p===o.StatusTypes.PENDING?null:p,v=(0,s.formatDate)(d(f,f===u.length-1,(null==e?void 0:e.startTime)||(null==t?void 0:t.time),(null==e?void 0:e.estimatedProcessingTimeInSeconds)||0),"hh:mm a");return a.default.createElement(l.default,{key:`progress-${r.action}-${r.srcChainId}-${r.destChainId}`,stepStatus:y,isLastItem:f===u.length-1,isEdgeComplete:h},a.default.createElement(i.default,{step:r,networkConfigurationsByChainId:n,stepStatus:y,time:v}))})))};var a=c(e("react")),r=e("../../../components/component-library"),o=e("../../../../shared/types/bridge-status"),s=e("../../../helpers/utils/util"),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("./bridge-step-description")),l=c(e("./step-progress-bar-item"));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function c(e){return e&&e.__esModule?e:{default:e}}const d=(e,t,n,a)=>0===e?n:t&&n&&a?n+1e3*a:undefined}}},{package:"$root$",file:"ui/pages/bridge/transaction-details/bridge-step-list.tsx"}],[6874,{"../../../components/component-library":6234,"../../../helpers/constants/design-system":6688,classnames:4026,react:5183},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=(a=e("classnames"))&&a.__esModule?a:{default:a},s=e("../../../components/component-library"),i=e("../../../helpers/constants/design-system");function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}const u=r.forwardRef((({size:e=s.IconSize.Md,color:t,className:n="",style:a},l)=>r.createElement(s.Box,{className:(0,o.default)(n,"mm-icon",`mm-icon--size-${e}`),ref:l,as:"span",display:i.Display.InlineBlock,style:{height:"12px",width:"12px",border:`1px solid var(--color-${t})`,borderRadius:"50%",backgroundColor:`var(--color-${i.BackgroundColor.backgroundDefault})`,zIndex:1,...a}})));n.default=u}}},{package:"$root$",file:"ui/pages/bridge/transaction-details/hollow-circle.tsx"}],[6875,{"../../../components/component-library":6234,"../../../helpers/constants/design-system":6688,"./hollow-circle":6874,react:5183},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({iconSize:e,color:t}){return a.default.createElement(r.Box,{style:{position:"relative"}},a.default.createElement(r.Box,{className:"bridge-transaction-details__icon-loading",backgroundColor:o.BackgroundColor.primaryMuted,display:o.Display.Flex,justifyContent:o.JustifyContent.center,alignItems:o.AlignItems.center,borderRadius:o.BorderRadius.full,style:{width:"2rem",height:"2rem"}}),a.default.createElement(s.default,{size:e,color:t,style:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)",borderWidth:"2px"}}))};var a=i(e("react")),r=e("../../../components/component-library"),o=e("../../../helpers/constants/design-system"),s=i(e("./hollow-circle"));function i(e){return e&&e.__esModule?e:{default:e}}}}},{package:"$root$",file:"ui/pages/bridge/transaction-details/pulsing-circle.tsx"}],[6876,{"../../../../shared/types/bridge-status":5734,"../../../components/component-library":6234,"../../../helpers/constants/design-system":6688,classnames:4026,react:5183},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({type:e}){return a.default.createElement(o.Box,{width:s.BlockSize.Full,backgroundColor:s.BackgroundColor.backgroundAlternative,borderRadius:s.BorderRadius.pill},a.default.createElement(o.Box,{width:s.BlockSize.Full,backgroundColor:s.BackgroundColor.primaryDefault,borderRadius:s.BorderRadius.pill,className:(0,r.default)({"bridge-transaction-details__segment":!0,"bridge-transaction-details__segment--pending":e===i.StatusTypes.PENDING,"bridge-transaction-details__segment--complete":e===i.StatusTypes.COMPLETE})}))};var a=l(e("react")),r=l(e("classnames")),o=e("../../../components/component-library"),s=e("../../../helpers/constants/design-system"),i=e("../../../../shared/types/bridge-status");function l(e){return e&&e.__esModule?e:{default:e}}}}},{package:"$root$",file:"ui/pages/bridge/transaction-details/segment.tsx"}],[6877,{"../../../../shared/types/bridge-status":5734,"../../../components/component-library":6234,"../../../helpers/constants/design-system":6688,"./hollow-circle":6874,"./pulsing-circle":6875,react:5183},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({stepStatus:e,isLastItem:t,isEdgeComplete:n,children:u}){return a.default.createElement(a.default.Fragment,null,(null===e||e===r.StatusTypes.UNKNOWN)&&a.default.createElement(i.default,{size:c,color:s.IconColor.iconMuted}),e===r.StatusTypes.PENDING&&a.default.createElement(l.default,{iconSize:c,color:s.IconColor.primaryDefault}),e===r.StatusTypes.COMPLETE&&a.default.createElement(o.Icon,{name:o.IconName.FullCircle,color:s.IconColor.primaryDefault,size:c}),u,!t&&a.default.createElement(d,{color:n?s.IconColor.primaryDefault:s.IconColor.iconMuted}),!t&&a.default.createElement("div",null))};var a=u(e("react")),r=e("../../../../shared/types/bridge-status"),o=e("../../../components/component-library"),s=e("../../../helpers/constants/design-system"),i=u(e("./hollow-circle")),l=u(e("./pulsing-circle"));function u(e){return e&&e.__esModule?e:{default:e}}const c=o.IconSize.Xs,d=({color:e})=>a.default.createElement("div",{style:{height:"60px",marginTop:"-1rem",marginBottom:"-1rem",width:"1px",backgroundColor:`var(--color-${e})`,zIndex:.1}})}}},{package:"$root$",file:"ui/pages/bridge/transaction-details/step-progress-bar-item.tsx"}],[6878,{"../../../components/component-library":6234,"../../../helpers/constants/design-system":6688,react:5183},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({title:e,value:t}){return r.default.createElement(o.Box,{display:s.Display.Flex,justifyContent:s.JustifyContent.spaceBetween},r.default.createElement(o.Text,{width:s.BlockSize.OneFourth,paddingRight:1,variant:s.TextVariant.bodyMd},e),r.default.createElement(o.Text,{display:s.Display.Flex,width:s.BlockSize.ThreeFourths,flexDirection:s.FlexDirection.Column,alignItems:s.AlignItems.flexEnd,textAlign:s.TextAlign.Right,paddingLeft:1,variant:s.TextVariant.bodyMd},t))};var a,r=(a=e("react"))&&a.__esModule?a:{default:a},o=e("../../../components/component-library"),s=e("../../../helpers/constants/design-system")}}},{package:"$root$",file:"ui/pages/bridge/transaction-details/transaction-detail-row.tsx"}],[6879,{"../../../../shared/constants/bridge":5644,"../../../../shared/constants/common":5645,"../../../../shared/constants/metametrics":5654,"../../../../shared/constants/time":5671,"../../../../shared/modules/conversion.utils":5710,"../../../../shared/modules/selectors/networks":5727,"../../../../shared/types/bridge-status":5734,"../../../components/app/confirm/info/row":5835,"../../../components/app/transaction-activity-log":6126,"../../../components/app/transaction-breakdown/transaction-breakdown-utils":6136,"../../../components/app/user-preferenced-currency-display/user-preferenced-currency-display.component":6151,"../../../components/component-library":6234,"../../../components/multichain/pages/page":6469,"../../../contexts/metametrics":6652,"../../../ducks/bridge-status/selectors":6663,"../../../ducks/locale/locale":6675,"../../../helpers/constants/common":6686,"../../../helpers/constants/design-system":6688,"../../../helpers/utils/util":6737,"../../../hooks/bridge/useBridgeChainInfo":6748,"../../../hooks/useI18nContext":6794,"../../../selectors":7385,"../../../selectors/multichain":7388,"../../confirmations/components/simulation-details/formatAmount":7038,"./bridge-explorer-links":6871,"./bridge-step-list":6873,"./transaction-detail-row":6878,"@metamask/utils":2874,"bignumber.js":3902,react:5183,"react-redux":5141,"react-router-dom":5168},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getIsDelayed=n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=R(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),o=e("react-router-dom"),s=e("bignumber.js"),i=e("@metamask/utils"),l=e("../../../components/component-library"),u=e("../../../components/multichain/pages/page"),c=e("../../../ducks/bridge-status/selectors"),d=D(e("../../../hooks/bridge/useBridgeChainInfo")),f=e("../../../../shared/modules/selectors/networks"),m=e("../../../components/app/transaction-breakdown/transaction-breakdown-utils"),p=e("../../../../shared/modules/conversion.utils"),g=D(e("../../../components/app/user-preferenced-currency-display/user-preferenced-currency-display.component")),h=e("../../../../shared/constants/common"),y=e("../../../helpers/constants/common"),v=e("../../../../shared/types/bridge-status"),k=e("../../../helpers/constants/design-system"),b=e("../../../helpers/utils/util"),T=e("../../../components/app/confirm/info/row"),x=e("../../../hooks/useI18nContext"),w=e("../../../selectors"),C=e("../../../../shared/constants/metametrics"),E=e("../../../contexts/metametrics"),_=e("../../confirmations/components/simulation-details/formatAmount"),S=e("../../../ducks/locale/locale"),M=D(e("../../../components/app/transaction-activity-log")),I=e("../../../../shared/constants/bridge"),A=e("../../../selectors/multichain"),P=e("../../../../shared/constants/time"),O=D(e("./transaction-detail-row")),N=D(e("./bridge-explorer-links")),B=D(e("./bridge-step-list"));function D(e){return e&&e.__esModule?e:{default:e}}function R(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(R=function(e){return e?n:t})(e)}const F=(e,t)=>{var n;if(!e||!t)return undefined;const a=e.defaultBlockExplorerUrlIndex;if(a===undefined)return undefined;return`${null===(n=e.blockExplorerUrls[a])||void 0===n?void 0:n.replace(/\/$/u,"")}/tx/${t}`},j=(e,t)=>{const n=10*P.MINUTE;return Boolean(e===v.StatusTypes.PENDING&&(null==t?void 0:t.startTime)&&Date.now()>t.startTime+n+1e3*t.estimatedProcessingTimeInSeconds)};n.getIsDelayed=j;const L={[v.StatusTypes.PENDING]:k.TextColor.warningDefault,[v.StatusTypes.COMPLETE]:k.TextColor.successDefault,[v.StatusTypes.FAILED]:k.TextColor.errorDefault,[v.StatusTypes.UNKNOWN]:k.TextColor.errorDefault};n.default=()=>{var e,t,n;const P=(0,x.useI18nContext)(),D=(0,r.useSelector)(S.getIntlLocale),R=(0,a.useContext)(E.MetaMetricsContext),$=(0,r.useSelector)((e=>e)),q=(0,o.useHistory)(),W=(0,o.useLocation)(),{srcTxMetaId:U}=(0,o.useParams)(),H=(0,r.useSelector)(c.selectBridgeHistoryForAccount),G=(0,r.useSelector)(w.selectedAddressTxListSelector),z=(0,r.useSelector)(f.getNetworkConfigurationsByChainId),V=(null===(e=W.state)||void 0===e?void 0:e.transactionGroup)||null,Y=(null===(t=W.state)||void 0===t?void 0:t.isEarliestNonce)||null,Q=G.find((e=>e.id===U)),K=U?H[U]:undefined,{srcNetwork:J,destNetwork:X}=(0,d.default)({bridgeHistoryItem:K,srcTxMeta:Q}),Z=null==Q?void 0:Q.hash,ee=F(J,Z),te=null==K||null===(n=K.status.destChain)||void 0===n?void 0:n.txHash,ne=F(X,te),ae=K?null==K?void 0:K.status.status:v.StatusTypes.PENDING,re=J?(0,A.getImageForChainId)(J.chainId):undefined,oe=X?(0,A.getImageForChainId)(X.chainId):undefined,se=I.NETWORK_TO_SHORT_NETWORK_NAME_MAP[null==J?void 0:J.chainId],ie=I.NETWORK_TO_SHORT_NETWORK_NAME_MAP[null==X?void 0:X.chainId],le=Q?(0,m.getTransactionBreakdownData)({state:$,transaction:Q,isTokenApprove:!1}):undefined,ue=(({locale:e,bridgeHistoryItem:t})=>{var n;return null!=t&&null!==(n=t.pricingData)&&void 0!==n&&n.amountSent?(0,_.formatAmount)(e,new s.BigNumber(t.pricingData.amountSent)):undefined})({locale:D,bridgeHistoryItem:K}),ce=(({locale:e,bridgeHistoryItem:t})=>{var n;if(!t)return undefined;const a=null===(n=t.status.destChain)||void 0===n?void 0:n.amount;if(!a)return undefined;const r=t.quote.destAsset.decimals;return(0,_.formatAmount)(e,new s.BigNumber(a).dividedBy(10**r))})({locale:D,bridgeHistoryItem:K}),de=j(ae,K),fe=a.default.createElement(l.Box,{display:k.Display.Flex,gap:1,alignItems:k.AlignItems.center},J&&a.default.createElement(l.AvatarNetwork,{size:l.AvatarNetworkSize.Xs,src:re,name:null==J?void 0:J.name}),se),me=a.default.createElement(l.Box,{display:k.Display.Flex,gap:1,alignItems:k.AlignItems.center},X&&a.default.createElement(l.AvatarNetwork,{size:l.AvatarNetworkSize.Xs,src:oe,name:null==X?void 0:X.name}),ie);return a.default.createElement("div",{className:"bridge__container"},a.default.createElement(u.Header,{className:"bridge__header",startAccessory:a.default.createElement(l.ButtonIcon,{iconName:l.IconName.ArrowLeft,size:l.ButtonIconSize.Sm,ariaLabel:P("back"),onClick:()=>q.goBack()})},P("bridge")," details"),a.default.createElement(u.Content,{className:"bridge-transaction-details__content"},a.default.createElement(l.Box,{display:k.Display.Flex,flexDirection:k.FlexDirection.Column,gap:4},de&&a.default.createElement(l.BannerAlert,{title:P("bridgeTxDetailsDelayedTitle"),severity:l.BannerAlertSeverity.Warning},a.default.createElement(l.Text,{display:k.Display.Flex,alignItems:k.AlignItems.center},P("bridgeTxDetailsDelayedDescription")," ",a.default.createElement(l.ButtonLink,{externalLink:!0,href:y.SUPPORT_REQUEST_LINK,onClick:()=>{R({category:C.MetaMetricsEventCategory.Home,event:C.MetaMetricsEventName.SupportLinkClicked,properties:{url:y.SUPPORT_REQUEST_LINK,location:"Bridge Tx Details"}},{contextPropsIntoEventProperties:[C.MetaMetricsContextProp.PageTitle]})}},P("bridgeTxDetailsDelayedDescriptionSupport")),".")),ae!==v.StatusTypes.COMPLETE&&(K||Q)&&a.default.createElement(B.default,{bridgeHistoryItem:K,srcChainTxMeta:Q,networkConfigurationsByChainId:z}),a.default.createElement(N.default,{srcChainId:(0,i.isStrictHexString)(null==J?void 0:J.chainId)?null==J?void 0:J.chainId:undefined,destChainId:(0,i.isStrictHexString)(null==X?void 0:X.chainId)?null==X?void 0:X.chainId:undefined,srcBlockExplorerUrl:ee,destBlockExplorerUrl:ne}),a.default.createElement(T.ConfirmInfoRowDivider,null),a.default.createElement(l.Box,{display:k.Display.Flex,flexDirection:k.FlexDirection.Column,gap:2},a.default.createElement(O.default,{title:P("bridgeTxDetailsStatus"),value:a.default.createElement(l.Text,{textTransform:k.TextTransform.Capitalize,color:ae?L[ae]:undefined},null==ae?void 0:ae.toLowerCase())}),a.default.createElement(O.default,{title:P("bridgeTxDetailsBridging"),value:a.default.createElement(l.Box,{display:k.Display.Flex,gap:1,alignItems:k.AlignItems.center,flexWrap:k.FlexWrap.Wrap,justifyContent:k.JustifyContent.flexEnd},fe,a.default.createElement(l.Icon,{name:l.IconName.Arrow2Right,size:l.IconSize.Sm}),me)}),a.default.createElement(O.default,{title:P("bridgeTxDetailsTimestamp"),value:P("bridgeTxDetailsTimestampValue",[(0,b.formatDate)(null==Q?void 0:Q.time,"MMM d, yyyy"),(0,b.formatDate)(null==Q?void 0:Q.time,"hh:mm a")])})),a.default.createElement(T.ConfirmInfoRowDivider,null),a.default.createElement(l.Box,{display:k.Display.Flex,flexDirection:k.FlexDirection.Column,gap:2},a.default.createElement(O.default,{title:P("bridgeTxDetailsYouSent"),value:a.default.createElement(l.Box,{display:k.Display.Flex,gap:1,alignItems:k.AlignItems.center,flexWrap:k.FlexWrap.Wrap,justifyContent:k.JustifyContent.flexEnd},P("bridgeTxDetailsTokenAmountOnChain",[ue,null==K?void 0:K.quote.srcAsset.symbol]),fe)}),ce&&(null==K?void 0:K.quote.destAsset.symbol)&&a.default.createElement(O.default,{title:P("bridgeTxDetailsYouReceived"),value:a.default.createElement(l.Box,{display:k.Display.Flex,gap:1,alignItems:k.AlignItems.center,flexWrap:k.FlexWrap.Wrap,justifyContent:k.JustifyContent.flexEnd},P("bridgeTxDetailsTokenAmountOnChain",[ce,null==K?void 0:K.quote.destAsset.symbol]),me)}),a.default.createElement(O.default,{title:P("bridgeTxDetailsTotalGasFee"),value:a.default.createElement(g.default,{currency:null==le?void 0:le.nativeCurrency,denomination:h.EtherDenomination.ETH,numberOfDecimals:6,value:null==le?void 0:le.hexGasTotal,type:y.PRIMARY})})),a.default.createElement(T.ConfirmInfoRowDivider,null),a.default.createElement(l.Box,{display:k.Display.Flex,flexDirection:k.FlexDirection.Column,gap:2},a.default.createElement(O.default,{title:P("bridgeTxDetailsNonce"),value:null!=Q&&Q.txParams.nonce?(0,p.hexToDecimal)(null==Q?void 0:Q.txParams.nonce):undefined}),V&&void 0!==Y&&a.default.createElement(M.default,{transactionGroup:V,className:"transaction-list-item-details__transaction-activity-log",isEarliestNonce:Y})))))}}}},{package:"$root$",file:"ui/pages/bridge/transaction-details/transaction-details.tsx"}],[6881,{"../../../shared/constants/metametrics":5654,"../../../shared/constants/network":5658,"../../../shared/constants/transaction":5673,"../../../shared/modules/selectors/networks":5727,"../../../shared/modules/string-utils":5730,"../../components/app/assets/nfts/nft-default-image/nft-default-image":5787,"../../components/app/network-account-balance-header/network-account-balance-header":5958,"../../components/component-library":6234,"../../components/ui/page-container":6599,"../../components/ui/site-origin/site-origin":6617,"../../contexts/i18n":6648,"../../contexts/metametrics":6652,"../../ducks/history/history":6673,"../../helpers/constants/common":6686,"../../helpers/constants/design-system":6688,"../../helpers/utils/util":6737,"../../hooks/useCurrencyDisplay":6784,"../../hooks/useOriginMetadata":6808,"../../hooks/useUserPreferencedCurrency":6829,"../../selectors":7385,"../../store/actions":7400,"../confirmations/components/confirm/nav":6995,"@metamask/etherscan-link":1802,"@metamask/rpc-errors":2484,classnames:4026,react:5183,"react-redux":5141,"react-router-dom":5168},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=O(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),o=e("react-router-dom"),s=e("@metamask/rpc-errors"),i=e("@metamask/etherscan-link"),l=P(e("classnames")),u=e("../../components/ui/page-container"),c=e("../../contexts/i18n"),d=e("../../contexts/metametrics"),f=e("../../ducks/history/history"),m=e("../../store/actions"),p=e("../../../shared/constants/metametrics"),g=e("../../../shared/constants/transaction"),h=e("../../components/component-library"),y=e("../../../shared/modules/selectors/networks"),v=e("../../selectors"),k=P(e("../../components/app/assets/nfts/nft-default-image/nft-default-image")),b=e("../../helpers/utils/util"),T=e("../../helpers/constants/design-system"),x=P(e("../../components/app/network-account-balance-header/network-account-balance-header")),w=e("../../../shared/constants/network"),C=P(e("../../components/ui/site-origin/site-origin")),E=e("../../helpers/constants/common"),_=e("../../hooks/useUserPreferencedCurrency"),S=e("../../hooks/useCurrencyDisplay"),M=e("../../hooks/useOriginMetadata"),I=e("../../../shared/modules/string-utils"),A=e("../confirmations/components/confirm/nav");function P(e){return e&&e.__esModule?e:{default:e}}function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(O=function(e){return e?n:t})(e)}n.default=()=>{var e,t;const n=(0,a.useContext)(c.I18nContext),P=(0,r.useDispatch)(),O=(0,o.useHistory)(),N=(0,r.useSelector)(f.getMostRecentOverviewPage),B=(0,r.useSelector)(v.getSuggestedNfts).sort(((e,t)=>e.requestData.asset.tokenId-t.requestData.asset.tokenId)),D=(0,r.useSelector)(v.getRpcPrefsForCurrentProvider),R=(0,r.useSelector)(y.getCurrentChainId),F=(0,r.useSelector)(v.getIpfsGateway),j=(0,a.useContext)(d.MetaMetricsContext),L=(0,r.useSelector)(v.getNetworkIdentifier),{address:$}=(0,r.useSelector)(v.getSelectedInternalAccount),q=(0,r.useSelector)(v.getSelectedAccountCachedBalance),W=(0,r.useSelector)((e=>(0,v.getAddressBookEntryOrAccountName)(e,$))),[U,H]=(0,a.useState)([]),G=w.NETWORK_TO_NAME_MAP[R]||L,{currency:z,numberOfDecimals:V}=(0,_.useUserPreferencedCurrency)(E.PRIMARY,{ethNumberOfDecimals:4}),[Y]=(0,S.useCurrencyDisplay)(q,{numberOfDecimals:V,currency:z}),Q=(0,M.useOriginMetadata)(null===(e=B[0])||void 0===e?void 0:e.origin)||{},K=null===(t=B[0])||void 0===t?void 0:t.id,J=(0,a.useCallback)((async()=>{await Promise.all(B.map((async({requestData:{asset:e},id:t})=>{await P((0,m.resolvePendingApproval)(t,null)),j({event:p.MetaMetricsEventName.NftAdded,category:p.MetaMetricsEventCategory.Wallet,sensitiveProperties:{token_contract_address:e.address,token_symbol:e.symbol,token_id:e.tokenId,token_standard:e.standard,asset_type:g.AssetType.NFT,source:p.MetaMetricsTokenEventSource.Dapp}})}))),O.push(N)}),[P,O,j,N,B]),X=(0,a.useCallback)((async()=>{await Promise.all(B.map((async({id:e})=>P((0,m.rejectPendingApproval)(e,(0,s.serializeError)(s.providerErrors.userRejectedRequest())))))),O.push(N)}),[P,O,N,B]);let Z,ee;if((0,a.useEffect)((()=>{B.length||O.push(N)}),[O,N,B]),B.length)try{const e=new URL(B[0].origin);Z=e.host,ee=e.href}catch{Z="dapp"}return(0,a.useEffect)((()=>{(async()=>{const e=await Promise.all(B.map((async e=>{const t=await(0,b.getAssetImageURL)(e.requestData.asset.image,F);return{...e,requestData:{...e.requestData,asset:{...e.requestData.asset,assetImageUrl:t}}}})));H(e)})()}),[]),a.default.createElement(h.Box,{height:T.BlockSize.Full,width:T.BlockSize.Full,display:T.Display.Flex,flexDirection:T.FlexDirection.Column},a.default.createElement(A.Nav,{confirmationId:K}),a.default.createElement(h.Box,{paddingBottom:2,className:"confirm-add-suggested-nft__header"},a.default.createElement(x.default,{accountName:W,accountBalance:Y,accountAddress:$,networkName:G,chainId:R}),a.default.createElement(h.Box,{paddingTop:4,paddingRight:4,paddingLeft:4,display:T.Display.Flex,justifyContent:T.JustifyContent.center},a.default.createElement(C.default,{chip:!0,siteOrigin:Q.origin,title:Q.origin,iconSrc:Q.iconUrl,iconName:Q.hostname})),a.default.createElement(h.Text,{variant:T.TextVariant.headingLg,textAlign:T.TextAlign.Center,margin:2},n("addSuggestedNFTs")),a.default.createElement(h.Text,{variant:T.TextVariant.bodyMd,textAlign:T.TextAlign.Center},n("wantsToAddThisAsset",["dapp"===Z?a.default.createElement(h.Text,{key:Z,variant:T.TextVariant.bodyMd,fontWeight:"bold"},Z):a.default.createElement(h.ButtonLink,{key:Z,size:h.BUTTON_SIZES.INHERIT,href:ee,target:"_blank"},Z)]))),a.default.createElement(h.Box,{className:"confirm-add-suggested-nft__content"},a.default.createElement(h.Box,{className:"confirm-add-suggested-nft__card",padding:2,borderRadius:T.BorderRadius.MD},a.default.createElement(h.Box,{className:(0,l.default)({"confirm-add-suggested-nft__nft-list":B.length>1})},B.map((({id:e,requestData:{asset:{address:t,tokenId:n,symbol:r,name:o}}})=>{const l=U.find((e=>e.requestData.asset.tokenId===n&&(0,I.isEqualCaseInsensitive)(e.requestData.asset.address,t))),u=l?l.requestData.asset.assetImageUrl:"",c=(0,i.getTokenTrackerLink)(t,R,null,null,{blockExplorerUrl:(null==D?void 0:D.blockExplorerUrl)??null});return 1===B.length?a.default.createElement(h.Box,{className:"confirm-add-suggested-nft__nft-single",key:`confirm-add-suggested-nft__nft-single-${e}`,borderRadius:T.BorderRadius.MD,margin:0,padding:0},u?a.default.createElement("img",{className:"confirm-add-suggested-nft__nft-single-image",src:u,alt:o||n}):a.default.createElement(k.default,{className:"confirm-add-suggested-nft__nft-single-image-default",tokenId:n,name:o||r||(0,b.shortenAddress)(t)}),a.default.createElement(h.Box,{padding:1,display:T.Display.Flex,flexDirection:T.FlexDirection.Row,justifyContent:T.JustifyContent.spaceBetween,alignItems:T.AlignItems.Center},a.default.createElement(h.Box,{display:T.Display.Flex,flexDirection:T.FlexDirection.Column,justifyContent:T.JustifyContent.spaceEvenly,flexWrap:T.FlexWrap.NoWrap,width:T.BlockSize.Full,className:"confirm-add-suggested-nft__nft-single-sub-details"},D.blockExplorerUrl?a.default.createElement(h.ButtonLink,{className:"confirm-add-suggested-nft__nft-name",href:c,title:t,target:"_blank",size:h.BUTTON_SIZES.INHERIT},o||r||(0,b.shortenAddress)(t)):a.default.createElement(h.Text,{variant:T.TextVariant.bodyMd,className:"confirm-add-suggested-nft__nft-name",title:t},o||r||(0,b.shortenAddress)(t)),a.default.createElement(h.Text,{variant:T.TextVariant.bodyMd,color:T.TextColor.textAlternative,className:"confirm-add-suggested-nft__nft-tokenId"},"#",n)))):a.default.createElement(h.Box,{display:T.Display.Flex,flexDirection:T.FlexDirection.Row,flexWrap:T.FlexWrap.NoWrap,alignItems:T.AlignItems.Center,justifyContent:T.JustifyContent.spaceBetween,marginBottom:4,className:"confirm-add-suggested-nft__nft-list-item",key:`${t}-${n}`},a.default.createElement(h.Box,{display:T.Display.Flex,flexDirection:T.FlexDirection.Row,flexWrap:T.FlexWrap.NoWrap,alignItems:T.AlignItems.Center,justifyContent:T.JustifyContent.spaceBetween},u?a.default.createElement("img",{className:"confirm-add-suggested-nft__nft-image",src:u,alt:o||n}):a.default.createElement(k.default,{className:"confirm-add-suggested-nft__nft-image-default"}),a.default.createElement(h.Box,{display:T.Display.Flex,flexDirection:T.FlexDirection.Column,justifyContent:T.JustifyContent.spaceEvenly,flexWrap:T.FlexWrap.NoWrap,width:T.BlockSize.Full,className:"confirm-add-suggested-nft__nft-sub-details"},D.blockExplorerUrl?a.default.createElement(h.ButtonLink,{className:"confirm-add-suggested-nft__nft-name",href:c,title:t,target:"_blank",size:h.BUTTON_SIZES.INHERIT},o||r||(0,b.shortenAddress)(t)):a.default.createElement(h.Text,{variant:T.TextVariant.bodySm,className:"confirm-add-suggested-nft__nft-name",title:t},o||r||(0,b.shortenAddress)(t)),a.default.createElement(h.Text,{variant:T.TextVariant.bodySm,color:T.TextColor.textAlternative,className:"confirm-add-suggested-nft__nft-tokenId"},"#",n))),a.default.createElement(h.ButtonIcon,{className:"confirm-add-suggested-nft__nft-remove","data-testid":`confirm-add-suggested-nft__nft-remove-${e}`,iconName:h.IconName.Close,size:h.ButtonIconSize.Sm,color:T.IconColor.iconMuted,onClick:t=>{t.preventDefault(),t.stopPropagation(),P((0,m.rejectPendingApproval)(e,(0,s.serializeError)(s.providerErrors.userRejectedRequest())))}}))}))))),a.default.createElement(u.PageContainerFooter,{cancelText:n("cancel"),submitText:1===B.length?n("addNft"):n("addNfts"),onCancel:X,onSubmit:J}))}}}},{package:"$root$",file:"ui/pages/confirm-add-suggested-nft/confirm-add-suggested-nft.js"}],[6882,{"./confirm-add-suggested-nft":6881},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./confirm-add-suggested-nft"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirm-add-suggested-nft/index.js"}],[6883,{"../../../shared/constants/metametrics":5654,"../../../shared/constants/transaction":5673,"../../../shared/modules/string-utils":5730,"../../components/component-library":6234,"../../components/ui/identicon":6573,"../../components/ui/page-container":6599,"../../components/ui/token-balance":6632,"../../contexts/i18n":6648,"../../contexts/metametrics":6652,"../../ducks/history/history":6673,"../../ducks/metamask/metamask":6676,"../../helpers/constants/design-system":6688,"../../helpers/constants/zendesk-url":6701,"../../selectors":7385,"../../store/actions":7400,"../confirmations/components/confirm/nav":6995,"@metamask/rpc-errors":2484,react:5183,"react-redux":5141,"react-router-dom":5168},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=C(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),o=e("react-router-dom"),s=e("@metamask/rpc-errors"),i=e("../../components/component-library"),l=w(e("../../components/ui/identicon")),u=w(e("../../components/ui/token-balance")),c=e("../../components/ui/page-container"),d=e("../../contexts/i18n"),f=e("../../contexts/metametrics"),m=e("../../ducks/history/history"),p=e("../../ducks/metamask/metamask"),g=w(e("../../helpers/constants/zendesk-url")),h=e("../../../shared/modules/string-utils"),y=e("../../store/actions"),v=e("../../../shared/constants/metametrics"),k=e("../../../shared/constants/transaction"),b=e("../../selectors"),T=e("../../helpers/constants/design-system"),x=e("../confirmations/components/confirm/nav");function w(e){return e&&e.__esModule?e:{default:e}}function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(C=function(e){return e?n:t})(e)}n.default=()=>{var e;const t=(0,a.useContext)(d.I18nContext),n=(0,r.useDispatch)(),w=(0,o.useHistory)(),C=(0,r.useSelector)(m.getMostRecentOverviewPage),E=(0,r.useSelector)(b.getSuggestedTokens),_=(0,r.useSelector)(p.getTokens),S=(0,a.useContext)(f.MetaMetricsContext),M=null===(e=E[0])||void 0===e?void 0:e.id,I=(0,a.useMemo)((()=>function(e,t){const n=e.find((({requestData:{asset:e}})=>{const n=t.find((({address:t})=>(0,h.isEqualCaseInsensitive)(t,null==e?void 0:e.address)));return Boolean(n)}));return Boolean(n)}(E,_)&&a.default.createElement(i.BannerAlert,{severity:T.Severity.Warning,marginTop:4},t("knownTokenWarning",[a.default.createElement(i.Button,{variant:i.ButtonVariant.Link,key:"confirm-add-suggested-token-duplicate-warning",className:"confirm-add-suggested-token__link",externalLink:!0,size:i.ButtonLinkSize.Inherit,href:g.default.TOKEN_SAFETY_PRACTICES},t("learnScamRisk"))]))),[E,_,t]),A=(0,a.useMemo)((()=>function(e,t){const n=e.find((({requestData:{asset:e}})=>{const n=t.find((t=>(0,h.isEqualCaseInsensitive)(t.symbol,null==e?void 0:e.symbol)&&!(0,h.isEqualCaseInsensitive)(t.address,null==e?void 0:e.address)));return Boolean(n)}));return Boolean(n)}(E,_)&&a.default.createElement(i.BannerAlert,{marginTop:4,severity:T.Severity.Warning,description:t("reusedTokenNameWarning")})),[E,_,t]),P=(0,a.useCallback)((async()=>{await Promise.all(E.map((async({requestData:{asset:e},id:t})=>{await n((0,y.resolvePendingApproval)(t,null)),S({event:v.MetaMetricsEventName.TokenAdded,category:v.MetaMetricsEventCategory.Wallet,sensitiveProperties:{token_symbol:e.symbol,token_contract_address:e.address,token_decimal_precision:e.decimals,unlisted:e.unlisted,source:v.MetaMetricsTokenEventSource.Dapp,token_standard:k.TokenStandard.ERC20,asset_type:k.AssetType.token}})}))),w.push(C)}),[n,w,S,C,E]),O=(0,a.useCallback)((async()=>{await Promise.all(E.map((({id:e})=>n((0,y.rejectPendingApproval)(e,(0,s.serializeError)(s.providerErrors.userRejectedRequest())))))),w.push(C)}),[n,w,C,E]);return(0,a.useEffect)((()=>{E.length||w.push(C)}),[]),a.default.createElement("div",{className:"page-container"},a.default.createElement(x.Nav,{confirmationId:M}),a.default.createElement("div",{className:"page-container__header"},a.default.createElement("div",{className:"page-container__title"},t("addSuggestedTokens")),a.default.createElement("div",{className:"page-container__subtitle"},t("likeToImportTokens")),I,A),a.default.createElement("div",{className:"page-container__content"},a.default.createElement("div",{className:"confirm-add-suggested-token"},a.default.createElement("div",{className:"confirm-add-suggested-token__header"},a.default.createElement("div",{className:"confirm-add-suggested-token__token"},t("token")),a.default.createElement("div",{className:"confirm-add-suggested-token__balance"},t("balance"))),a.default.createElement("div",{className:"confirm-add-suggested-token__token-list"},E.map((({requestData:{asset:e}})=>{return a.default.createElement("div",{className:"confirm-add-suggested-token__token-list-item",key:e.address},a.default.createElement("div",{className:"confirm-add-suggested-token__token confirm-add-suggested-token__data"},a.default.createElement(l.default,{className:"confirm-add-suggested-token__token-icon",diameter:48,address:e.address,image:e.image}),a.default.createElement("div",{className:"confirm-add-suggested-token__name"},(t=e.name,n=e.symbol,t===undefined?n:`${t} (${n})`))),a.default.createElement("div",{className:"confirm-add-suggested-token__balance"},a.default.createElement(u.default,{token:e})));var t,n}))))),a.default.createElement(c.PageContainerFooter,{cancelText:t("cancel"),submitText:t("addToken"),onCancel:O,onSubmit:P,disabled:0===E.length}))}}}},{package:"$root$",file:"ui/pages/confirm-add-suggested-token/confirm-add-suggested-token.js"}],[6884,{"./confirm-add-suggested-token":6883},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./confirm-add-suggested-token"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirm-add-suggested-token/index.js"}],[6885,{"../../../shared/constants/common":5645,"../../../shared/constants/copy":5646,"../../../shared/constants/metametrics":5654,"../../../shared/constants/time":5671,"../../../shared/modules/Numeric":5700,"../../components/app/account-list-item":5750,"../../components/component-library":6234,"../../components/ui/page-container":6599,"../../components/ui/tooltip":6634,"../../contexts/metametrics":6652,"../../ducks/confirm-transaction/confirm-transaction.duck":6669,"../../ducks/history/history":6673,"../../ducks/metamask/metamask":6676,"../../helpers/constants/design-system":6688,"../../hooks/useI18nContext":6794,"../../hooks/useScrollRequired":6812,"../../selectors":7385,"../../store/actions":7400,"../confirmations/components/confirm/nav":6995,classnames:4026,"copy-to-clipboard":4067,lodash:4779,loglevel:4787,"prop-types":4937,react:5183,"react-redux":5141,"react-router-dom":5168},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=P(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=A(e("prop-types")),o=A(e("copy-to-clipboard")),s=A(e("classnames")),i=A(e("loglevel")),l=e("react-redux"),u=e("react-router-dom"),c=e("lodash"),d=A(e("../../components/app/account-list-item")),f=A(e("../../components/ui/tooltip")),m=e("../../components/ui/page-container"),p=e("../../ducks/history/history"),g=e("../../ducks/metamask/metamask"),h=e("../../../shared/constants/metametrics"),y=e("../../../shared/constants/time"),v=e("../../../shared/modules/Numeric"),k=e("../../../shared/constants/common"),b=e("../../components/component-library"),T=e("../../../shared/constants/copy"),x=e("../../hooks/useI18nContext"),w=e("../../hooks/useScrollRequired"),C=e("../../contexts/metametrics"),E=e("../../helpers/constants/design-system"),_=e("../../ducks/confirm-transaction/confirm-transaction.duck"),S=e("../../store/actions"),M=e("../../selectors"),I=e("../confirmations/components/confirm/nav");function A(e){return e&&e.__esModule?e:{default:e}}function P(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(P=function(e){return e?n:t})(e)}const O=({approvalId:e})=>{const t=(0,x.useI18nContext)();return a.default.createElement(a.default.Fragment,null,a.default.createElement(I.Nav,{confirmationId:e}),a.default.createElement("div",{className:"request-decrypt-message__header"},a.default.createElement("div",{className:"request-decrypt-message__header-background"}),a.default.createElement("div",{className:"request-decrypt-message__header__text"},t("decryptRequest")),a.default.createElement("div",{className:"request-decrypt-message__header__tip-container"},a.default.createElement("div",{className:"request-decrypt-message__header__tip"}))))},N=({fromAccount:e,nativeCurrency:t})=>{const n=(0,x.useI18nContext)(),r=new v.Numeric(e.balance,16,k.EtherDenomination.WEI).toDenomination(k.EtherDenomination.ETH).round(6).toBase(10).toString();return a.default.createElement("div",{className:"request-decrypt-message__account-info"},a.default.createElement("div",{className:"request-decrypt-message__account"},a.default.createElement("div",{className:"request-decrypt-message__account-text"},`${n("account")}:`),a.default.createElement("div",{className:"request-decrypt-message__account-item"},a.default.createElement(d.default,{account:e}))),a.default.createElement("div",{className:"request-decrypt-message__balance"},a.default.createElement("div",{className:"request-decrypt-message__balance-text"},`${n("balance")}:`),a.default.createElement("div",{className:"request-decrypt-message__balance-value"},`${r} ${t}`)))};N.propTypes={fromAccount:r.default.shape({balance:r.default.string.isRequired}).isRequired,nativeCurrency:r.default.string.isRequired};const B=({name:e,notice:t,targetSubjectMetadata:n})=>a.default.createElement("div",{className:"request-decrypt-message__visual"},a.default.createElement("section",null,null!=n&&n.iconUrl?a.default.createElement("img",{className:"request-decrypt-message__visual-identicon",src:n.iconUrl,alt:""}):a.default.createElement("i",{className:"request-decrypt-message__visual-identicon--default"},e.charAt(0).toUpperCase()),a.default.createElement("div",{className:"request-decrypt-message__notice"},t)));B.propTypes={name:r.default.string.isRequired,notice:r.default.string.isRequired,targetSubjectMetadata:r.default.shape({iconUrl:r.default.string})};const D=({isScrollable:e,isScrolledToBottom:t,hasDecrypted:n,hasError:r,scrollToBottom:o})=>{const s=(0,x.useI18nContext)();return n&&!r&&e&&!t?a.default.createElement(b.ButtonIcon,{ariaLabel:s("scrollDown"),backgroundColor:E.BackgroundColor.primaryDefault,borderRadius:E.BorderRadius.full,className:"scroll-to-bottom__button",color:E.IconColor.primaryInverse,"data-testid":"scroll-to-bottom",display:E.Display.Flex,iconName:b.IconName.Arrow2Down,onClick:o,size:b.ButtonIconSize.Md}):null};D.propTypes={isScrollable:r.default.bool.isRequired,isScrolledToBottom:r.default.bool.isRequired,hasDecrypted:r.default.bool.isRequired,hasError:r.default.bool.isRequired,scrollToBottom:r.default.func.isRequired};const R=(0,a.forwardRef)((({isScrollable:e,isScrolledToBottom:t,onScroll:n,rawMessage:r,scrollToBottom:i,setRawMessage:u,messageData:c},d)=>{const m=(0,l.useDispatch)(),p=(0,a.useContext)(C.MetaMetricsContext),g=(0,x.useI18nContext)(),[v,k]=(0,a.useState)(!1),[w,_]=(0,a.useState)(!1),[M,I]=(0,a.useState)(!1),[A,P]=(0,a.useState)(!1),[O,N]=(0,a.useState)("");return a.default.createElement("div",{className:"request-decrypt-message__message-container"},a.default.createElement("div",{className:"request-decrypt-message__message"},a.default.createElement("div",{className:"request-decrypt-message__message-text",ref:d,onScroll:n},M||A?r:c.msgParams.data,A?O:""),a.default.createElement("div",{className:(0,s.default)("request-decrypt-message__message-cover",{"request-decrypt-message__message-lock--pressed":M||A})}),a.default.createElement("div",{className:(0,s.default)("request-decrypt-message__message-lock",{"request-decrypt-message__message-lock--pressed":M||A}),"data-testid":"message-lock",onClick:async e=>{e.stopPropagation(e);const t=c.msgParams;t.metamaskId=c.id;const n=await m((0,S.decryptMsgInline)(t));n.error?(P(!0),N(g("decryptInlineError",[n.error]))):(I(!0),u(n.rawSig))}},a.default.createElement("div",{className:"request-decrypt-message__message-lock__container"},a.default.createElement("i",{className:"fa fa-lock fa-lg request-decrypt-message__message-lock__container__icon"}),a.default.createElement("div",{className:"request-decrypt-message__message-lock__container__text"},g("decryptMetamask"))))),a.default.createElement(D,{isScrollable:e,hasError:A,hasDecrypted:M,isScrolledToBottom:t,scrollToBottom:i}),M?a.default.createElement("div",{className:(0,s.default)({"request-decrypt-message__message-copy":!0,"request-decrypt-message__message-copy--pressed":v}),onClick:()=>{(0,o.default)(r,T.COPY_OPTIONS),p({category:h.MetaMetricsEventCategory.Messages,event:"Copy",properties:{action:"Decrypt Message Copy",legacy_event:!0}}),_(!0),setTimeout((()=>_(!1)),3*y.SECOND)},onMouseDown:()=>k(!0),onMouseUp:()=>k(!1),"data-testid":"message-copy"},a.default.createElement(f.default,{position:"bottom",title:g(w?"copiedExclamation":"copyToClipboard"),wrapperClassName:"request-decrypt-message__message-copy-tooltip",style:{display:"flex",alignItems:"center"}},a.default.createElement("div",{className:"request-decrypt-message__message-copy-text"},g("decryptCopy")),a.default.createElement(b.Icon,{name:w?b.IconName.CopySuccess:b.IconName.Copy,color:E.IconColor.primaryDefault}))):a.default.createElement("div",null))}));R.displayName="MessageBody",R.propTypes={isScrollable:r.default.bool.isRequired,isScrolledToBottom:r.default.bool.isRequired,onScroll:r.default.func.isRequired,rawMessage:r.default.string.isRequired,scrollToBottom:r.default.func.isRequired,setRawMessage:r.default.func.isRequired,messageData:r.default.shape({msgParams:r.default.shape({data:r.default.string.isRequired,from:r.default.string.isRequired,origin:r.default.string.isRequired}).isRequired,id:r.default.string.isRequired}).isRequired};const F=({hasScrolledToBottom:e,isScrollable:t,mostRecentOverviewPage:n,messageData:r})=>{const o=(0,l.useDispatch)(),s=(0,u.useHistory)(),i=(0,x.useI18nContext)(),c=(0,a.useContext)(C.MetaMetricsContext);return a.default.createElement(m.PageContainerFooter,{cancelText:i("cancel"),submitText:i("decrypt"),disabled:t&&!e,onCancel:async e=>{e.stopPropagation(e),await o((0,S.cancelDecryptMsg)(r)),c({category:h.MetaMetricsEventCategory.Messages,event:"Cancel",properties:{action:"Decrypt Message Request",legacy_event:!0}}),o((0,_.clearConfirmTransaction)()),s.push(n)},onSubmit:async e=>{e.stopPropagation(e);const t=r.msgParams;t.metamaskId=r.id,await o((0,S.decryptMsg)(t)),c({category:h.MetaMetricsEventCategory.Messages,event:"Confirm",properties:{action:"Decrypt Message Request",legacy_event:!0}}),o((0,_.clearConfirmTransaction)()),s.push(n)}})};F.propTypes={hasScrolledToBottom:r.default.bool.isRequired,isScrollable:r.default.bool.isRequired,mostRecentOverviewPage:r.default.string.isRequired,messageData:r.default.shape({msgParams:r.default.shape({data:r.default.string.isRequired,from:r.default.string.isRequired,origin:r.default.string.isRequired}).isRequired,id:r.default.string.isRequired}).isRequired};n.default=()=>{const e=(0,x.useI18nContext)(),[t,n]=(0,a.useState)(""),r=(0,l.useSelector)(p.getMostRecentOverviewPage),o=(0,l.useSelector)(g.getNativeCurrency),{id:s}=(0,u.useParams)(),d=(0,l.useSelector)(M.unconfirmedTransactionsListSelector),f=(0,c.cloneDeep)(d.find((e=>e.id===s))),m=(0,l.useSelector)((e=>{var t;return(0,M.getTargetAccountWithSendEtherInfo)(e,null==f||null===(t=f.msgParams)||void 0===t?void 0:t.from)})),h=(0,l.useSelector)((e=>e.metamask.subjectMetadata||{})),{hasScrolledToBottom:y,isScrollable:v,isScrolledToBottom:k,onScroll:b,scrollToBottom:T,ref:C}=(0,w.useScrollRequired)([t],{offsetPxFromBottom:0});if(!f)return i.default.warn("ConfirmDecryptMessage Page: Missing messageData prop."),null;const E=h[f.msgParams.origin],_=(null==E?void 0:E.name)||f.msgParams.origin,S=e("decryptMessageNotice",[f.msgParams.origin]);return a.default.createElement("div",{className:"request-decrypt-message__container"},a.default.createElement(O,{approvalId:s}),a.default.createElement("div",{className:"request-decrypt-message__body"},a.default.createElement(N,{fromAccount:m,nativeCurrency:o}),a.default.createElement(B,{name:_,notice:S,targetSubjectMetadata:E}),a.default.createElement(R,{isScrollable:v,isScrolledToBottom:k,onScroll:b,rawMessage:t,ref:C,scrollToBottom:T,setRawMessage:n,messageData:f})),a.default.createElement(F,{hasScrolledToBottom:y,isScrollable:v,mostRecentOverviewPage:r,messageData:f}))}}}},{package:"$root$",file:"ui/pages/confirm-decrypt-message/confirm-decrypt-message.component.js"}],[6886,{"./confirm-decrypt-message.component":6885},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./confirm-decrypt-message.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirm-decrypt-message/index.js"}],[6887,{"../../../shared/constants/common":5645,"../../../shared/constants/metametrics":5654,"../../../shared/modules/Numeric":5700,"../../components/app/account-list-item":5750,"../../components/ui/identicon":6573,"../../components/ui/page-container":6599,"../../components/ui/site-origin":6616,"../confirmations/components/confirm/nav":6995,loglevel:4787,"prop-types":4937,react:5183},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=p(e("prop-types")),o=p(e("loglevel")),s=p(e("../../components/app/account-list-item")),i=p(e("../../components/ui/identicon")),l=e("../../components/ui/page-container"),u=e("../../../shared/constants/metametrics"),c=p(e("../../components/ui/site-origin")),d=e("../../../shared/modules/Numeric"),f=e("../../../shared/constants/common"),m=e("../confirmations/components/confirm/nav");function p(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function h(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class y extends a.Component{constructor(...e){super(...e),h(this,"renderHeader",(()=>{var e;const t=null===(e=this.props.txData)||void 0===e?void 0:e.id;return a.default.createElement(a.default.Fragment,null,a.default.createElement(m.Nav,{confirmationId:t}),a.default.createElement("div",{className:"request-encryption-public-key__header"},a.default.createElement("div",{className:"request-encryption-public-key__header-background"}),a.default.createElement("div",{className:"request-encryption-public-key__header__text"},this.context.t("encryptionPublicKeyRequest")),a.default.createElement("div",{className:"request-encryption-public-key__header__tip-container"},a.default.createElement("div",{className:"request-encryption-public-key__header__tip"}))))})),h(this,"renderAccount",(()=>{const{fromAccount:e}=this.props,{t:t}=this.context;return a.default.createElement("div",{className:"request-encryption-public-key__account"},a.default.createElement("div",{className:"request-encryption-public-key__account-text"},`${t("account")}:`),a.default.createElement("div",{className:"request-encryption-public-key__account-item"},a.default.createElement(s.default,{account:e})))})),h(this,"renderBalance",(()=>{const{nativeCurrency:e,fromAccount:{balance:t}}=this.props,{t:n}=this.context,r=new d.Numeric(t,16,f.EtherDenomination.WEI).toDenomination(f.EtherDenomination.ETH).round(6).toBase(10).toString();return a.default.createElement("div",{className:"request-encryption-public-key__balance"},a.default.createElement("div",{className:"request-encryption-public-key__balance-text"},`${n("balance")}:`),a.default.createElement("div",{className:"request-encryption-public-key__balance-value"},`${r} ${e}`))})),h(this,"renderRequestIcon",(()=>{const{requesterAddress:e}=this.props;return a.default.createElement("div",{className:"request-encryption-public-key__request-icon"},a.default.createElement(i.default,{diameter:40,address:e}))})),h(this,"renderAccountInfo",(()=>a.default.createElement("div",{className:"request-encryption-public-key__account-info"},this.renderAccount(),this.renderRequestIcon(),this.renderBalance()))),h(this,"renderBody",(()=>{const{subjectMetadata:e,txData:t}=this.props,{t:n}=this.context,r=e[t.origin],o=n("encryptionPublicKeyNotice",[a.default.createElement(c.default,{siteOrigin:t.origin,key:t.origin})]),s=(null==r?void 0:r.hostname)||t.origin;return a.default.createElement("div",{className:"request-encryption-public-key__body"},this.renderAccountInfo(),a.default.createElement("div",{className:"request-encryption-public-key__visual"},a.default.createElement("section",null,null!=r&&r.iconUrl?a.default.createElement("img",{className:"request-encryption-public-key__visual-identicon",src:r.iconUrl,alt:""}):a.default.createElement("i",{className:"request-encryption-public-key__visual-identicon--default"},s.charAt(0).toUpperCase()),a.default.createElement("div",{className:"request-encryption-public-key__notice"},o))))})),h(this,"renderFooter",(()=>{const{cancelEncryptionPublicKey:e,clearConfirmTransaction:t,encryptionPublicKey:n,history:r,mostRecentOverviewPage:o,txData:s}=this.props,{t:i,trackEvent:c}=this.context;return a.default.createElement(l.PageContainerFooter,{cancelText:i("cancel"),submitText:i("provide"),onCancel:async n=>{await e(s,n),c({category:u.MetaMetricsEventCategory.Messages,event:"Cancel",properties:{action:"Encryption public key Request",legacy_event:!0}}),t(),r.push(o)},onSubmit:async e=>{await n(s,e),this.context.trackEvent({category:u.MetaMetricsEventCategory.Messages,event:"Confirm",properties:{action:"Encryption public key Request",legacy_event:!0}}),t(),r.push(o)}})})),h(this,"render",(()=>this.props.txData?a.default.createElement("div",{className:"request-encryption-public-key__container"},this.renderHeader(),this.renderBody(),this.renderFooter()):(o.default.warn("ConfirmEncryptionPublicKey Page: Missing txData prop."),null)))}}n.default=y,h(y,"contextTypes",{t:r.default.func.isRequired,trackEvent:r.default.func.isRequired}),h(y,"propTypes",{fromAccount:r.default.shape({address:r.default.string.isRequired,balance:r.default.string,name:r.default.string}).isRequired,clearConfirmTransaction:r.default.func.isRequired,cancelEncryptionPublicKey:r.default.func.isRequired,encryptionPublicKey:r.default.func.isRequired,history:r.default.object.isRequired,requesterAddress:r.default.string,txData:r.default.object,subjectMetadata:r.default.object,mostRecentOverviewPage:r.default.string.isRequired,nativeCurrency:r.default.string.isRequired})}}},{package:"$root$",file:"ui/pages/confirm-encryption-public-key/confirm-encryption-public-key.component.js"}],[6888,{"../../ducks/confirm-transaction/confirm-transaction.duck":6669,"../../ducks/history/history":6673,"../../ducks/metamask/metamask":6676,"../../selectors":7385,"../../store/actions":7400,"./confirm-encryption-public-key.component":6887,"react-redux":5141,"react-router-dom":5168,redux:5201},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=e("react-redux"),o=e("redux"),s=e("react-router-dom"),i=e("../../store/actions"),l=e("../../selectors"),u=e("../../ducks/confirm-transaction/confirm-transaction.duck"),c=e("../../ducks/history/history"),d=e("../../ducks/metamask/metamask"),f=(a=e("./confirm-encryption-public-key.component"))&&a.__esModule?a:{default:a};n.default=(0,o.compose)(s.withRouter,(0,r.connect)((function(e,t){const{metamask:{subjectMetadata:n={}}}=e,a=(0,l.unconfirmedTransactionsListSelector)(e),{match:{params:{id:r}}}=t,o=a.find((e=>e.id===r));return{txData:o,subjectMetadata:n,fromAccount:(0,l.getTargetAccountWithSendEtherInfo)(e,null==o?void 0:o.msgParams),requester:null,requesterAddress:null,mostRecentOverviewPage:(0,c.getMostRecentOverviewPage)(e),nativeCurrency:(0,d.getNativeCurrency)(e)}}),(function(e){return{goHome:()=>e((0,i.goHome)()),clearConfirmTransaction:()=>e((0,u.clearConfirmTransaction)()),encryptionPublicKey:(t,n)=>{const a={data:t.msgParams,metamaskId:t.id};return n.stopPropagation(),e((0,i.encryptionPublicKeyMsg)(a))},cancelEncryptionPublicKey:(t,n)=>(n.stopPropagation(),e((0,i.cancelEncryptionPublicKeyMsg)(t)))}})))(f.default)}}},{package:"$root$",file:"ui/pages/confirm-encryption-public-key/confirm-encryption-public-key.container.js"}],[6889,{"./confirm-encryption-public-key.container":6888},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./confirm-encryption-public-key.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirm-encryption-public-key/index.js"}],[6890,{"../../../../components/ui/form-field":6555,"../../../../contexts/i18n":6648,"../../../../helpers/constants/gas":6690,"prop-types":4937,react:5183},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=c;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=l(e("prop-types")),o=e("../../../../contexts/i18n"),s=l(e("../../../../components/ui/form-field")),i=e("../../../../helpers/constants/gas");function l(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function c({onManualChange:e,gasLimit:t,setGasLimit:n,gasPrice:r,setGasPrice:l,gasErrors:u,minimumGasLimit:c}){const d=(0,a.useContext)(o.I18nContext);return a.default.createElement("div",{className:"advanced-gas-controls"},a.default.createElement(s.default,{titleText:d("gasLimit"),error:null!=u&&u.gasLimit?(0,i.getGasFormErrorText)(u.gasLimit,d,{minimumGasLimit:c}):null,onChange:t=>{null==e||e(),n(t)},tooltipText:d("editGasLimitTooltip"),value:t,allowDecimals:!1,numeric:!0}),a.default.createElement(a.default.Fragment,null,a.default.createElement(s.default,{titleText:d("advancedGasPriceTitle"),titleUnit:"(GWEI)",onChange:t=>{null==e||e(),l(t)},tooltipText:d("editGasPriceTooltip"),value:r,numeric:!0,allowDecimals:!0,error:null!=u&&u.gasPrice?(0,i.getGasFormErrorText)(u.gasPrice,d):null})))}c.propTypes={onManualChange:r.default.func,gasLimit:r.default.number,setGasLimit:r.default.func,gasPrice:r.default.string,setGasPrice:r.default.func,minimumGasLimit:r.default.string,gasErrors:r.default.object}}}},{package:"$root$",file:"ui/pages/confirmations/components/advanced-gas-controls/advanced-gas-controls.component.js"}],[6891,{"../../../../../../shared/constants/gas":5649,"../../../../../../shared/modules/Numeric":5700,"../../../../../components/component-library":6234,"../../../../../contexts/gasFee":6647,"../../../../../helpers/constants/design-system":6688,"../../../../../hooks/useI18nContext":6794,"../../../../../selectors":7385,"../../../../../store/actions":7400,"../../../hooks/useTransactionEventFragment":7140,"../context":6907,lodash:4779,react:5183,"react-redux":5141},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),o=e("lodash"),s=e("../../../hooks/useTransactionEventFragment"),i=e("../../../../../../shared/constants/gas"),l=e("../../../../../helpers/constants/design-system"),u=e("../../../../../selectors"),c=e("../../../../../store/actions"),d=e("../../../../../contexts/gasFee"),f=e("../context"),m=e("../../../../../hooks/useI18nContext"),p=e("../../../../../components/component-library"),g=e("../../../../../../shared/modules/Numeric");function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}n.default=()=>{const e=(0,m.useI18nContext)(),t=(0,r.useDispatch)(),{gasErrors:n,maxBaseFee:h,maxPriorityFeePerGas:y}=(0,f.useAdvancedGasFeePopoverContext)(),v=new g.Numeric(h,10).toString(),k=new g.Numeric(y,10).toString(),b=(0,r.useSelector)(u.getAdvancedGasFeeValues),{updateTransactionEventFragment:T}=(0,s.useTransactionEventFragment)(),{editGasMode:x,transaction:w}=(0,d.useGasFeeContext)(),{chainId:C}=w,E=(0,r.useSelector)((e=>(0,u.selectNetworkIdentifierByChainId)(e,C))),[_,S]=(0,a.useState)(Boolean(b)&&b.maxBaseFee===v&&b.priorityFee===k);(0,a.useEffect)((()=>{S(Boolean(b)&&b.maxBaseFee===v&&b.priorityFee===k)}),[b,v,k]);return x===i.EditGasModes.swaps?null:a.default.createElement(p.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Row,marginTop:4,marginLeft:2,marginRight:2,paddingTop:4,paddingBottom:4,className:"advanced-gas-fee-defaults"},a.default.createElement(p.Checkbox,{isChecked:_,onChange:()=>{_?(t((0,c.setAdvancedGasFee)({chainId:C,gasFeePreferences:undefined})),S(!1),T({properties:{advanced_gas_defaults_updated_maxbasefee:null,advanced_gas_defaults_updated_priorityfee:null}})):(t((0,c.setAdvancedGasFee)({chainId:C,gasFeePreferences:{maxBaseFee:v,priorityFee:k}})),T({properties:{advanced_gas_defaults_updated_maxbasefee:v,advanced_gas_defaults_updated_priorityfee:k}}))},isDisabled:n.maxFeePerGas||n.maxPriorityFeePerGas,label:e("advancedGasFeeDefaultOptIn",[(0,o.capitalize)(E)])}))}}}},{package:"$root$",file:"ui/pages/confirmations/components/advanced-gas-fee-popover/advanced-gas-fee-defaults/advanced-gas-fee-defaults.js"}],[6892,{"./advanced-gas-fee-defaults":6891},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./advanced-gas-fee-defaults"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/advanced-gas-fee-popover/advanced-gas-fee-defaults/index.js"}],[6893,{"../../../../../../shared/modules/conversion.utils":5710,"../../../../../components/component-library":6234,"../../../../../components/ui/button":6524,"../../../../../components/ui/form-field":6555,"../../../../../contexts/gasFee":6647,"../../../../../helpers/constants/design-system":6688,"../../../../../helpers/utils/util":6737,"../../../../../hooks/useI18nContext":6794,"../../../constants":7087,"../../../send/send.constants":7150,"../context":6907,react:5183},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("../../../../../contexts/gasFee"),o=e("../../../../../helpers/utils/util"),s=e("../../../../../helpers/constants/design-system"),i=e("../../../../../hooks/useI18nContext"),l=e("../../../send/send.constants"),u=g(e("../../../../../components/ui/button")),c=g(e("../../../../../components/ui/form-field")),d=e("../context"),f=e("../../../../../components/component-library"),m=e("../../../constants"),p=e("../../../../../../shared/modules/conversion.utils");function g(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}n.default=()=>{const e=(0,i.useI18nContext)(),{setGasLimit:t,setErrorValue:n}=(0,d.useAdvancedGasFeePopoverContext)(),{gasLimit:g,minimumGasLimitDec:h,transaction:{chainId:y,originalGasEstimate:v}}=(0,r.useGasFeeContext)(),k=v!==undefined&&(0,p.hexToDecimal)(v),[b,T]=(0,a.useState)(k?Math.max(l.MAX_GAS_LIMIT_DEC,k):l.MAX_GAS_LIMIT_DEC),[x,w]=(0,a.useState)(!1),[C,E]=(0,a.useState)(g),[_,S]=(0,a.useState)(),M=e=>{E(e||0)};return(0,a.useEffect)((()=>{if(t(C),m.IGNORE_GAS_LIMIT_CHAIN_IDS.includes(y))return;const e=((e,t,n)=>(0,o.bnLessThan)(e,t)||(0,o.bnGreaterThan)(e,n)?"editGasLimitOutOfBoundsV2":null)(C,h,b);S(e),w(!0===x?x:null!==e),n("gasLimit","editGasLimitOutOfBoundsV2"===e)}),[y,C,h,t,n,b,x,e]),(0,a.useEffect)((()=>{k&&T(Math.max(l.MAX_GAS_LIMIT_DEC,k))}),[h,k,T]),x?a.default.createElement(c.default,{dataTestId:"gas-limit-input",error:_?e(_,[h-1,b]):"",onChange:M,titleText:e("gasLimitV2"),value:C,allowDecimals:!1,numeric:!0}):a.default.createElement(f.Text,{tag:s.TextVariant.bodyMd,variant:s.TextVariant.bodySm,as:"h6",className:"advanced-gas-fee-gas-limit",marginTop:4,marginLeft:2,marginRight:2},a.default.createElement("strong",null,e("gasLimitV2")),a.default.createElement("span",null,C),a.default.createElement(u.default,{"data-testid":"advanced-gas-fee-edit",className:"advanced-gas-fee-gas-limit__edit-link",onClick:()=>w(!0),type:"link"},e("edit")))}}}},{package:"$root$",file:"ui/pages/confirmations/components/advanced-gas-fee-popover/advanced-gas-fee-gas-limit/advanced-gas-fee-gas-limit.js"}],[6894,{"./advanced-gas-fee-gas-limit":6893},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./advanced-gas-fee-gas-limit"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/advanced-gas-fee-popover/advanced-gas-fee-gas-limit/index.js"}],[6895,{"../../../../../components/ui/box":6520,"../../../../../components/ui/loading-heartbeat":6579,"../../../../../contexts/i18n":6648,"../../../../../helpers/utils/gas":6718,"../../../../../helpers/utils/util":6737,classnames:4026,"prop-types":4937,react:5183},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=d(e("prop-types")),o=d(e("classnames")),s=e("../../../../../helpers/utils/util"),i=e("../../../../../helpers/utils/gas"),l=e("../../../../../contexts/i18n"),u=d(e("../../../../../components/ui/box")),c=d(e("../../../../../components/ui/loading-heartbeat"));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}const m=({latest:e,historical:t,trend:n})=>{const r=(0,a.useContext)(l.I18nContext),d=function(e,t){switch(e){case"up":return{className:"fa-arrow-up advanced-gas-fee-input-subtext__up",color:"var(--color-success-default)",title:t("upArrow")};case"down":return{className:"fa-arrow-down advanced-gas-fee-input-subtext__down",color:"var(--color-error-default)",title:t("downArrow")};case"level":return{className:"fa-arrow-right advanced-gas-fee-input-subtext__level",color:"var(--color-icon-alternative)",title:t("levelArrow")};default:return null}}(n,r);return a.default.createElement(u.default,{display:"flex",alignItems:"center",gap:4,className:"advanced-gas-fee-input-subtext"},(0,s.isNullish)(e)?null:a.default.createElement(u.default,{display:"flex",alignItems:"center","data-testid":"latest"},a.default.createElement("span",{className:"advanced-gas-fee-input-subtext__label"},r("currentTitle")),a.default.createElement("span",{className:"advanced-gas-fee-input-subtext__value"},a.default.createElement(c.default,null),(0,i.formatGasFeeOrFeeRange)(e)),null===d?null:a.default.createElement("span",{className:"advanced-gas-fee-input-subtext__icon"},a.default.createElement("i",{className:(0,o.default)("fa",d.className),style:{color:d.color},title:d.title,"data-testid":"fee-arrow"}))),(0,s.isNullish)(t)?null:a.default.createElement(u.default,null,a.default.createElement("span",{className:"advanced-gas-fee-input-subtext__label","data-testid":"historical"},r("twelveHrTitle")),a.default.createElement("span",{className:"advanced-gas-fee-input-subtext__value"},a.default.createElement(c.default,null),(0,i.formatGasFeeOrFeeRange)(t))))};m.propTypes={latest:r.default.oneOfType([r.default.string,r.default.arrayOf(r.default.string)]),historical:r.default.oneOfType([r.default.string,r.default.arrayOf(r.default.string)]),trend:r.default.oneOf(["up","down","level"])};n.default=m}}},{package:"$root$",file:"ui/pages/confirmations/components/advanced-gas-fee-popover/advanced-gas-fee-input-subtext/advanced-gas-fee-input-subtext.js"}],[6896,{"./advanced-gas-fee-input-subtext":6895},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./advanced-gas-fee-input-subtext"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/advanced-gas-fee-popover/advanced-gas-fee-input-subtext/index.js"}],[6897,{"../../../../../components/ui/box":6520,"./base-fee-input":6899,"./priority-fee-input":6901,react:5183},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=i(e("react")),r=i(e("../../../../../components/ui/box")),o=i(e("./base-fee-input")),s=i(e("./priority-fee-input"));function i(e){return e&&e.__esModule?e:{default:e}}n.default=()=>a.default.createElement(r.default,{className:"advanced-gas-fee-inputs"},a.default.createElement(o.default,null),a.default.createElement(s.default,null))}}},{package:"$root$",file:"ui/pages/confirmations/components/advanced-gas-fee-popover/advanced-gas-fee-inputs/advanced-gas-fee-inputs.js"}],[6898,{"../../../../../../../shared/constants/gas":5649,"../../../../../../../shared/modules/Numeric":5700,"../../../../../../../shared/modules/conversion.utils":5710,"../../../../../../components/ui/box":6520,"../../../../../../components/ui/form-field":6555,"../../../../../../contexts/gasFee":6647,"../../../../../../helpers/constants/common":6686,"../../../../../../hooks/useCurrencyDisplay":6784,"../../../../../../hooks/useI18nContext":6794,"../../../../../../hooks/useUserPreferencedCurrency":6829,"../../../../../../selectors":7385,"../../../../constants":7087,"../../../../send/send.constants":7150,"../../advanced-gas-fee-input-subtext":6896,"../../context":6907,react:5183,"react-redux":5141},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=T(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),o=e("../../../../send/send.constants"),s=e("../../../../../../../shared/constants/gas"),i=e("../../../../../../helpers/constants/common"),l=e("../../../../../../selectors"),u=e("../../../../../../contexts/gasFee"),c=e("../../../../../../hooks/useI18nContext"),d=e("../../../../../../hooks/useUserPreferencedCurrency"),f=e("../../../../../../hooks/useCurrencyDisplay"),m=b(e("../../../../../../components/ui/box")),p=b(e("../../../../../../components/ui/form-field")),g=e("../../context"),h=b(e("../../advanced-gas-fee-input-subtext")),y=e("../../../../../../../shared/modules/conversion.utils"),v=e("../../../../../../../shared/modules/Numeric"),k=e("../../../../constants");function b(e){return e&&e.__esModule?e:{default:e}}function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(T=function(e){return e?n:t})(e)}n.default=()=>{const e=(0,c.useI18nContext)(),{gasFeeEstimates:t,estimateUsed:n,maxFeePerGas:b,editGasMode:T,transaction:{chainId:x}}=(0,u.useGasFeeContext)(),w=new v.Numeric(b,10).toString(),{gasLimit:C,maxPriorityFeePerGas:E,setErrorValue:_,setMaxFeePerGas:S,setMaxBaseFee:M}=(0,g.useAdvancedGasFeePopoverContext)(),{estimatedBaseFee:I,historicalBaseFeeRange:A,baseFeeTrend:P}=t??{},[O,N]=(0,a.useState)(),{currency:B,numberOfDecimals:D}=(0,d.useUserPreferencedCurrency)(i.PRIMARY),R=(0,r.useSelector)(l.getAdvancedGasFeeValues),F=n!==s.PriorityLevels.custom&&null!=R&&R.maxBaseFee&&T!==s.EditGasModes.swaps?R.maxBaseFee:w,[j,L]=(0,a.useState)(F>0?F:undefined);(0,a.useEffect)((()=>{j===undefined&&F>0&&L(F)}),[j,F,L]);const[$]=(0,f.useCurrencyDisplay)((0,y.decGWEIToHexWEI)(j*C),{currency:B,numberOfDecimals:D}),q=(0,a.useCallback)((e=>{L(e)}),[L]);return(0,a.useEffect)((()=>{S(j);const e=((e,t,n,a)=>{const r=new v.Numeric(e,10);return new v.Numeric(n,10).greaterThan(r)?"editGasMaxBaseFeeGWEIImbalance":null!=t&&t.low&&r.lessThan(t.low.suggestedMaxFeePerGas,10)&&k.IGNORE_GAS_LIMIT_CHAIN_IDS.includes(a)?"editGasMaxBaseFeeLow":null!=t&&t.high&&r.greaterThan(t.high.suggestedMaxFeePerGas*o.HIGH_FEE_WARNING_MULTIPLIER,10)?"editGasMaxBaseFeeHigh":null})(j,t,E,x);N(e),_("maxFeePerGas","editGasMaxBaseFeeGWEIImbalance"===e),M(j)}),[j,x,t,E,N,_,S,M]),a.default.createElement(m.default,{className:"base-fee-input",marginLeft:2,marginRight:2},a.default.createElement(p.default,{dataTestId:"base-fee-input",error:O?e(O):"",onChange:q,titleText:e("maxBaseFee"),titleUnit:`(${e("gwei")})`,tooltipText:e("advancedBaseGasFeeToolTip"),value:j,detailText:`≈ ${$}`,allowDecimals:!0,numeric:!0}),a.default.createElement(h.default,{latest:I,historical:A,trend:P}))}}}},{package:"$root$",file:"ui/pages/confirmations/components/advanced-gas-fee-popover/advanced-gas-fee-inputs/base-fee-input/base-fee-input.js"}],[6899,{"./base-fee-input":6898},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./base-fee-input"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/advanced-gas-fee-popover/advanced-gas-fee-inputs/base-fee-input/index.js"}],[6900,{"./advanced-gas-fee-inputs":6897},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./advanced-gas-fee-inputs"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/advanced-gas-fee-popover/advanced-gas-fee-inputs/index.js"}],[6901,{"./priority-fee-input":6902},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./priority-fee-input"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/advanced-gas-fee-popover/advanced-gas-fee-inputs/priority-fee-input/index.js"}],[6902,{"../../../../../../../shared/constants/gas":5649,"../../../../../../../shared/modules/Numeric":5700,"../../../../../../../shared/modules/conversion.utils":5710,"../../../../../../components/ui/box":6520,"../../../../../../components/ui/form-field":6555,"../../../../../../contexts/gasFee":6647,"../../../../../../helpers/constants/common":6686,"../../../../../../hooks/useCurrencyDisplay":6784,"../../../../../../hooks/useI18nContext":6794,"../../../../../../hooks/useUserPreferencedCurrency":6829,"../../../../../../selectors":7385,"../../../../constants":7087,"../../../../send/send.constants":7150,"../../advanced-gas-fee-input-subtext":6896,"../../context":6907,react:5183,"react-redux":5141},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=T(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),o=e("../../../../send/send.constants"),s=e("../../../../../../../shared/constants/gas"),i=e("../../../../../../helpers/constants/common"),l=e("../../../../../../selectors"),u=e("../../../../../../hooks/useCurrencyDisplay"),c=e("../../../../../../contexts/gasFee"),d=e("../../../../../../hooks/useI18nContext"),f=e("../../../../../../hooks/useUserPreferencedCurrency"),m=b(e("../../../../../../components/ui/form-field")),p=b(e("../../../../../../components/ui/box")),g=e("../../context"),h=b(e("../../advanced-gas-fee-input-subtext")),y=e("../../../../../../../shared/modules/conversion.utils"),v=e("../../../../../../../shared/modules/Numeric"),k=e("../../../../constants");function b(e){return e&&e.__esModule?e:{default:e}}function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(T=function(e){return e?n:t})(e)}n.default=()=>{const e=(0,d.useI18nContext)(),t=(0,r.useSelector)(l.getAdvancedGasFeeValues),{gasLimit:n,setErrorValue:b,setMaxPriorityFeePerGas:T}=(0,g.useAdvancedGasFeePopoverContext)(),{editGasMode:x,estimateUsed:w,gasFeeEstimates:C,maxPriorityFeePerGas:E,transaction:{chainId:_}}=(0,c.useGasFeeContext)(),S=new v.Numeric(E,10).toString(),{latestPriorityFeeRange:M,historicalPriorityFeeRange:I,priorityFeeTrend:A}=C??{},[P,O]=(0,a.useState)(),N=w!==s.PriorityLevels.custom&&null!=t&&t.priorityFee&&x!==s.EditGasModes.swaps?t.priorityFee:S,[B,D]=(0,a.useState)(N>0?N:undefined);(0,a.useEffect)((()=>{B===undefined&&N>0&&D(N)}),[B,N,D]);const{currency:R,numberOfDecimals:F}=(0,f.useUserPreferencedCurrency)(i.PRIMARY),[j]=(0,u.useCurrencyDisplay)((0,y.decGWEIToHexWEI)(B*n),{currency:R,numberOfDecimals:F});return(0,a.useEffect)((()=>{T(B);const e=((e,t,n)=>{const a=new v.Numeric(e,10);return a.lessThan(0,10)?"editGasMaxPriorityFeeBelowMinimumV2":null!=t&&t.low&&a.lessThan(t.low.suggestedMaxPriorityFeePerGas,10)&&k.IGNORE_GAS_LIMIT_CHAIN_IDS.includes(n)?"editGasMaxPriorityFeeLowV2":null!=t&&t.high&&a.greaterThan(t.high.suggestedMaxPriorityFeePerGas*o.HIGH_FEE_WARNING_MULTIPLIER,10)?"editGasMaxPriorityFeeHighV2":null})(B,C,_);b("maxPriorityFeePerGas","editGasMaxPriorityFeeBelowMinimumV2"===e),O(e)}),[_,C,B,b,T,O]),a.default.createElement(p.default,{marginTop:4,marginLeft:2,marginRight:2,className:"priority-fee-input"},a.default.createElement(m.default,{dataTestId:"priority-fee-input",error:P?e(P):"",onChange:e=>{D(e)},titleText:e("priorityFeeProperCase"),titleUnit:`(${e("gwei")})`,tooltipText:e("advancedPriorityFeeToolTip"),value:B,detailText:`≈ ${j}`,allowDecimals:!0,numeric:!0}),a.default.createElement(h.default,{latest:M,historical:I,trend:A}))}}}},{package:"$root$",file:"ui/pages/confirmations/components/advanced-gas-fee-popover/advanced-gas-fee-inputs/priority-fee-input/priority-fee-input.js"}],[6903,{"../../../../components/ui/box":6520,"../../../../components/ui/popover":6605,"../../../../contexts/transaction-modal":6656,"../../../../hooks/useI18nContext":6794,"./advanced-gas-fee-defaults":6892,"./advanced-gas-fee-gas-limit":6894,"./advanced-gas-fee-inputs":6900,"./advanced-gas-fee-save":6905,"./context":6907,react:5183},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=m(e("react")),r=e("../../../../hooks/useI18nContext"),o=e("../../../../contexts/transaction-modal"),s=m(e("../../../../components/ui/box")),i=m(e("../../../../components/ui/popover")),l=e("./context"),u=m(e("./advanced-gas-fee-inputs")),c=m(e("./advanced-gas-fee-gas-limit")),d=m(e("./advanced-gas-fee-save")),f=m(e("./advanced-gas-fee-defaults"));function m(e){return e&&e.__esModule?e:{default:e}}n.default=()=>{const e=(0,r.useI18nContext)(),{closeAllModals:t,currentModal:n}=(0,o.useTransactionModalContext)();return"advancedGasFee"!==n?null:a.default.createElement(l.AdvancedGasFeePopoverContextProvider,null,a.default.createElement(i.default,{className:"advanced-gas-fee-popover",title:e("advancedGasFeeModalTitle"),onClose:t,footer:a.default.createElement(d.default,null)},a.default.createElement(s.default,{margin:4},a.default.createElement(u.default,null),a.default.createElement(f.default,null),a.default.createElement(c.default,null))))}}}},{package:"$root$",file:"ui/pages/confirmations/components/advanced-gas-fee-popover/advanced-gas-fee-popover.js"}],[6904,{"../../../../../../shared/constants/gas":5649,"../../../../../../shared/modules/conversion.utils":5710,"../../../../../components/ui/button":6524,"../../../../../contexts/gasFee":6647,"../../../../../contexts/transaction-modal":6656,"../../../../../hooks/useI18nContext":6794,"../../../hooks/useTransactionEventFragment":7140,"../context":6907,react:5183},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=f(e("react")),r=e("../../../../../../shared/constants/gas"),o=e("../../../../../../shared/modules/conversion.utils"),s=e("../../../../../contexts/transaction-modal"),i=e("../../../../../contexts/gasFee"),l=e("../../../hooks/useTransactionEventFragment"),u=e("../../../../../hooks/useI18nContext"),c=f(e("../../../../../components/ui/button")),d=e("../context");function f(e){return e&&e.__esModule?e:{default:e}}n.default=()=>{const{closeModal:e}=(0,s.useTransactionModalContext)(),{updateTransactionEventFragment:t}=(0,l.useTransactionEventFragment)(),{updateTransaction:n}=(0,i.useGasFeeContext)(),f=(0,u.useI18nContext)(),{gasLimit:m,hasErrors:p,maxFeePerGas:g,maxPriorityFeePerGas:h}=(0,d.useAdvancedGasFeePopoverContext)();return a.default.createElement(c.default,{type:"primary",disabled:p,onClick:()=>{n({estimateUsed:r.PriorityLevels.custom,maxFeePerGas:(0,o.decGWEIToHexWEI)(g),maxPriorityFeePerGas:(0,o.decGWEIToHexWEI)(h),gasLimit:m}),t({properties:{gas_edit_type:"advanced"}}),e(["advancedGasFee","editGasFee"])}},f("save"))}}}},{package:"$root$",file:"ui/pages/confirmations/components/advanced-gas-fee-popover/advanced-gas-fee-save/advanced-gas-fee-save.js"}],[6905,{"./advanced-gas-fee-save":6904},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./advanced-gas-fee-save"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/advanced-gas-fee-popover/advanced-gas-fee-save/index.js"}],[6906,{"prop-types":4937,react:5183},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.AdvancedGasFeePopoverContextProvider=n.AdvancedGasFeePopoverContext=void 0,n.useAdvancedGasFeePopoverContext=function(){return(0,r.useContext)(i)};var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=(a=e("prop-types"))&&a.__esModule?a:{default:a};function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}const i=n.AdvancedGasFeePopoverContext=(0,r.createContext)({}),l=({children:e})=>{const[t,n]=(0,r.useState)(),[a,o]=(0,r.useState)(),[s,l]=(0,r.useState)(),[u,c]=(0,r.useState)({maxFeePerGas:!1,maxPriorityFeePerGas:!1,gasLimit:!1}),d=(0,r.useCallback)(((e,t)=>{u[e]!==t&&c({...u,[e]:t})}),[u,c]),[f,m]=(0,r.useState)();return r.default.createElement(i.Provider,{value:{gasLimit:t,hasErrors:u.maxFeePerGas||u.maxPriorityFeePerGas||u.gasLimit,gasErrors:u,maxFeePerGas:a,maxPriorityFeePerGas:s,setErrorValue:d,maxBaseFee:f,setGasLimit:n,setMaxPriorityFeePerGas:l,setMaxFeePerGas:o,setMaxBaseFee:m}},e)};n.AdvancedGasFeePopoverContextProvider=l,l.propTypes={children:o.default.node.isRequired}}}},{package:"$root$",file:"ui/pages/confirmations/components/advanced-gas-fee-popover/context/advancedGasFeePopover.js"}],[6907,{"./advancedGasFeePopover":6906},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var a=e("./advancedGasFeePopover");Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===a[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return a[e]}}))}))}}},{package:"$root$",file:"ui/pages/confirmations/components/advanced-gas-fee-popover/context/index.js"}],[6908,{"./advanced-gas-fee-popover":6903},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./advanced-gas-fee-popover"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/advanced-gas-fee-popover/index.js"}],[6909,{"../../../../../../shared/constants/security-provider":5665,"../../../../../components/component-library":6234,"../../../../../components/ui/icon/preloader":6566,"../../../hooks/useCurrentSignatureSecurityAlertResponse":7122,react:5183},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=l(e("react")),r=l(e("../../../../../components/ui/icon/preloader")),o=e("../../../../../../shared/constants/security-provider"),s=e("../../../../../components/component-library"),i=l(e("../../../hooks/useCurrentSignatureSecurityAlertResponse"));function l(e){return e&&e.__esModule?e:{default:e}}n.default=()=>{const e=(0,i.default)();return(null==e?void 0:e.result_type)!==o.BlockaidResultType.Loading?null:a.default.createElement(s.Box,{marginInline:"auto",marginTop:4},a.default.createElement(r.default,{size:18}))}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/blockaid-loading-indicator/blockaid-loading-indicator.tsx"}],[6910,{"./blockaid-loading-indicator":6909},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"BlockaidLoadingIndicator",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./blockaid-loading-indicator"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/blockaid-loading-indicator/index.ts"}],[6911,{"../../../../../components/app/alert-system/contexts/alertActionHandler":5757,"../../../../../components/app/alert-system/contexts/alertMetricsContext":5758,"../../../hooks/setConfirmationAlerts":7111,"../../../hooks/useConfirmationAlertActions":7115,"../../../hooks/useConfirmationAlertMetrics":7116,react:5183},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=u(e("react")),r=e("../../../../../components/app/alert-system/contexts/alertActionHandler"),o=u(e("../../../hooks/useConfirmationAlertActions")),s=u(e("../../../hooks/setConfirmationAlerts")),i=e("../../../../../components/app/alert-system/contexts/alertMetricsContext"),l=e("../../../hooks/useConfirmationAlertMetrics");function u(e){return e&&e.__esModule?e:{default:e}}n.default=({children:e})=>{const{trackAlertActionClicked:t,trackAlertRender:n,trackInlineAlertClicked:u}=(0,l.useConfirmationAlertMetrics)(),c=(0,o.default)();return(0,s.default)(),a.default.createElement(i.AlertMetricsProvider,{metrics:{trackAlertActionClicked:t,trackAlertRender:n,trackInlineAlertClicked:u}},a.default.createElement(r.AlertActionHandlerProvider,{onProcessAction:c},e))}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/confirm-alerts/confirm-alerts.tsx"}],[6912,{"./confirm-alerts":6911},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"ConfirmAlerts",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./confirm-alerts"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/confirm-alerts/index.tsx"}],[6913,{"../../../../../../components/component-library":6234,"../../../../../../helpers/constants/design-system":6688,"../../../../../../hooks/useI18nContext":6794,"../../info/hooks/useIsUpgradeTransaction":6945,react:5183},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Acknowledge=function(e){const t=(0,s.useI18nContext)(),n=(0,o.useIsUpgradeTransaction)(),{isAcknowledged:a,onAcknowledgeToggle:u}=e;if(!n)return null;return r.default.createElement(i.Checkbox,{"data-testid":"confirm-upgrade-acknowledge",label:t("confirmUpgradeAcknowledge"),isChecked:a,onChange:()=>u(!a),alignItems:l.AlignItems.flexStart})};var a,r=(a=e("react"))&&a.__esModule?a:{default:a},o=e("../../info/hooks/useIsUpgradeTransaction"),s=e("../../../../../../hooks/useI18nContext"),i=e("../../../../../../components/component-library"),l=e("../../../../../../helpers/constants/design-system")}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/footer/acknowledge/acknowledge.tsx"}],[6914,{"./acknowledge":6913},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"Acknowledge",{enumerable:!0,get:function(){return a.Acknowledge}});var a=e("./acknowledge")}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/footer/acknowledge/index.ts"}],[6915,{"../../../../../../shared/constants/metametrics":5654,"../../../../../../shared/lib/confirmation.utils":5684,"../../../../../components/app/alert-system/confirm-alert-modal":5756,"../../../../../components/component-library":6234,"../../../../../components/multichain/pages/page":6469,"../../../../../ducks/confirm-transaction/confirm-transaction.duck":6669,"../../../../../helpers/constants/design-system":6688,"../../../../../hooks/useAlerts":6781,"../../../../../hooks/useI18nContext":6794,"../../../../../selectors":7385,"../../../../../store/actions":7400,"../../../context/confirm":7088,"../../../hooks/useOriginThrottling":7135,"../../../utils":7153,"../info/hooks/useIsUpgradeTransaction":6945,"../utils":7010,"./acknowledge":6914,"./origin-throttle-modal":6917,"./upgrade-cancel-modal":6918,"@metamask/rpc-errors":2484,react:5183,"react-redux":5141},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=e("@metamask/rpc-errors"),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-redux"),s=e("../../../../../../shared/constants/metametrics"),i=e("../../../../../../shared/lib/confirmation.utils"),l=e("../../../../../components/app/alert-system/confirm-alert-modal"),u=e("../../../../../components/component-library"),c=e("../../../../../components/multichain/pages/page"),d=e("../../../../../ducks/confirm-transaction/confirm-transaction.duck"),f=e("../../../../../helpers/constants/design-system"),m=E(e("../../../../../hooks/useAlerts")),p=e("../../../../../hooks/useI18nContext"),g=e("../../../../../selectors"),h=e("../../../../../store/actions"),y=e("../../../context/confirm"),v=e("../../../hooks/useOriginThrottling"),k=e("../../../utils"),b=e("../utils"),T=e("../info/hooks/useIsUpgradeTransaction"),x=e("./upgrade-cancel-modal"),w=E(e("./origin-throttle-modal")),C=e("./acknowledge");function E(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function S(e,t,n){return!!t||!e&&n}const M=({alertOwnerId:e="",disabled:t,onSubmit:n,onCancel:a})=>{const o=(0,p.useI18nContext)(),[s,i]=(0,r.useState)(!1),{alerts:c,hasDangerAlerts:d,hasUnconfirmedDangerAlerts:g,hasUnconfirmedFieldDangerAlerts:h,unconfirmedFieldDangerAlerts:y}=(0,m.default)(e),v=c.some((e=>e.severity===f.Severity.Danger&&e.isBlocking)),k=(0,r.useCallback)((()=>{i(!1)}),[]),b=(0,r.useCallback)((()=>{i(!0)}),[]);return r.default.createElement(r.default.Fragment,null,s&&r.default.createElement(l.ConfirmAlertModal,{ownerId:e,onClose:k,onCancel:a,onSubmit:n}),d?r.default.createElement(u.Button,{block:!0,danger:!0,"data-testid":"confirm-footer-button",disabled:S(g,v,t),onClick:b,size:u.ButtonSize.Lg,startIconName:h?u.IconName.SecuritySearch:u.IconName.Danger},function(e,t){return 1===e.length?t("reviewAlert"):e.length>1?t("reviewAlerts"):t("confirm")}(y,o)):r.default.createElement(u.Button,{block:!0,"data-testid":"confirm-footer-button",disabled:t,onClick:n,size:u.ButtonSize.Lg},o("confirm")))};n.default=()=>{const e=(0,o.useDispatch)(),t=(0,p.useI18nContext)(),n=(0,o.useSelector)(g.getCustomNonceValue),[l,m]=(0,r.useState)(!1),{currentConfirmation:E,isScrollToBottomCompleted:_}=(0,y.useConfirmContext)(),{from:S}=(0,b.getConfirmationSender)(E),{shouldThrottleOrigin:I}=(0,v.useOriginThrottling)(),[A,P]=(0,r.useState)(!1),{id:O}=E||{},N=(0,o.useSelector)((e=>!!S&&(0,g.doesAddressRequireLedgerHidConnection)(e,S))),B=(0,k.isSignatureTransactionType)(E),D=(0,T.useIsUpgradeTransaction)(),[R,F]=(0,r.useState)(!1),j=!_&&!B||N||D&&!R,L=(0,r.useCallback)((({location:t}={})=>{if(!O)return;const n=a.providerErrors.userRejectedRequest();n.data={location:t};const r=(0,a.serializeError)(n);e((0,h.rejectPendingApproval)(O,r))}),[O]),$=()=>{e((0,h.updateCustomNonce)("")),e((0,h.setNextNonce)("")),e((0,d.clearConfirmTransaction)())},q=(0,r.useCallback)((({location:e})=>{E&&(D?m(!0):(L({location:e}),$()))}),[E,D]),W=(0,r.useCallback)((()=>{if(!E)return;if((0,i.isCorrectDeveloperTransactionType)(null==E?void 0:E.type)){const t=(e=>n?{...e,customNonceValue:n}:e)(E);e((0,h.updateAndApproveTx)(t,!0,""))}else e((0,h.resolvePendingApproval)(E.id,undefined));$()}),[E,n]),U=(0,r.useCallback)((()=>{I?P(!0):q({location:s.MetaMetricsEventLocation.Confirmation})}),[E,q]);return r.default.createElement(c.Footer,{className:"confirm-footer_page-footer",flexDirection:f.FlexDirection.Column},r.default.createElement(w.default,{isOpen:A,onConfirmationCancel:q}),r.default.createElement(x.UpgradeCancelModal,{isOpen:l,onClose:()=>m(!1),onReject:L}),r.default.createElement(C.Acknowledge,{isAcknowledged:R,onAcknowledgeToggle:F}),r.default.createElement(u.Box,{display:f.Display.Flex,flexDirection:f.FlexDirection.Row,gap:4},r.default.createElement(u.Button,{block:!0,"data-testid":"confirm-footer-cancel-button",onClick:U,size:u.ButtonSize.Lg,variant:u.ButtonVariant.Secondary,endIconName:D?u.IconName.ArrowDown:undefined},t("cancel")),r.default.createElement(M,{alertOwnerId:null==E?void 0:E.id,onSubmit:()=>W(),disabled:j,onCancel:q})))}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/footer/footer.tsx"}],[6916,{"./footer":6915},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"Footer",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./footer"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/footer/index.tsx"}],[6917,{"../../../../../../shared/constants/metametrics":5654,"../../../../../components/component-library":6234,"../../../../../components/ui/origin-pill/origin-pill":6598,"../../../../../contexts/i18n":6648,"../../../../../helpers/constants/design-system":6688,"../../../../../hooks/useModalProps":6798,"../../../hooks/useOriginThrottling":7135,react:5183},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({isOpen:e,onConfirmationCancel:t}){const{hideModal:n}=(0,o.useModalProps)(),[a,i]=(0,r.useState)(!1);return r.default.createElement(s.Modal,{isOpen:e,onClose:()=>{n()},isClosedOnOutsideClick:!1,isClosedOnEscapeKey:!1},r.default.createElement(s.ModalOverlay,{"data-testid":"modal-overlay"}),a?r.default.createElement(p,{onConfirmationCancel:t}):r.default.createElement(m,{onConfirmationCancel:t,setIsTemporaryBlock:i}))};var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("../../../../../hooks/useModalProps"),s=e("../../../../../components/component-library"),i=e("../../../../../helpers/constants/design-system"),l=e("../../../../../contexts/i18n"),u=e("../../../hooks/useOriginThrottling"),c=(a=e("../../../../../components/ui/origin-pill/origin-pill"))&&a.__esModule?a:{default:a},d=e("../../../../../../shared/constants/metametrics");function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}const m=({onConfirmationCancel:e,setIsTemporaryBlock:t})=>{const n=(0,r.useContext)(l.I18nContext),{origin:a,resetOrigin:o}=(0,u.useOriginThrottling)();return r.default.createElement(s.ModalContent,{size:s.ModalContentSize.Md},r.default.createElement(s.Box,{justifyContent:i.JustifyContent.center,display:i.Display.Flex,marginBottom:4},r.default.createElement(s.Icon,{name:s.IconName.Warning,size:s.IconSize.Xl,color:i.IconColor.warningDefault})),r.default.createElement(s.ModalHeader,{endAccessory:r.default.createElement(r.default.Fragment,null)},n("spamModalTitle")),r.default.createElement(c.default,{style:{marginTop:0,marginBottom:20},origin:a,dataTestId:"origin-pill"}),r.default.createElement(s.ModalBody,null,r.default.createElement(s.Text,{textAlign:i.TextAlign.Center,as:"p","data-testid":"confirmation-text"},n("spamModalDescription"))),r.default.createElement(s.ModalFooter,{paddingTop:4,onSubmit:()=>{e({location:d.MetaMetricsEventLocation.OriginThrottleModal}),o()},onCancel:()=>{t(!0)},containerProps:{alignItems:i.AlignItems.stretch,flexDirection:i.FlexDirection.Column},submitButtonProps:{children:n("cancel"),size:s.ButtonSize.Lg},cancelButtonProps:{children:n("spamModalTemporaryBlockButton"),size:s.ButtonSize.Lg}}))},p=({onConfirmationCancel:e})=>{const t=(0,r.useContext)(l.I18nContext);return r.default.createElement(s.ModalContent,{size:s.ModalContentSize.Md},r.default.createElement(s.Box,{justifyContent:i.JustifyContent.center,display:i.Display.Flex,marginBottom:4},r.default.createElement(s.Icon,{name:s.IconName.Confirmation,size:s.IconSize.Xl,color:i.IconColor.successDefault})),r.default.createElement(s.ModalHeader,{endAccessory:r.default.createElement(r.default.Fragment,null)},t("spamModalBlockedTitle")),r.default.createElement(s.ModalBody,null,r.default.createElement(s.Text,{textAlign:i.TextAlign.Center,as:"p","data-testid":"confirmation-text"},t("spamModalBlockedDescription"))),r.default.createElement(s.ModalFooter,{paddingTop:4,onSubmit:()=>e({location:d.MetaMetricsEventLocation.OriginThrottleModal}),submitButtonProps:{children:t("gotIt"),size:s.ButtonSize.Lg}}))}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/footer/origin-throttle-modal.tsx"}],[6918,{"./upgrade-cancel-modal":6919},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"UpgradeCancelModal",{enumerable:!0,get:function(){return a.UpgradeCancelModal}});var a=e("./upgrade-cancel-modal")}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/footer/upgrade-cancel-modal/index.ts"}],[6919,{"../../../../../../components/component-library":6234,"../../../../../../helpers/constants/design-system":6688,"../../../../../../helpers/constants/zendesk-url":6701,"../../../../../../hooks/useI18nContext":6794,"../../../../../../store/actions":7400,"../../../../context/confirm":7088,"@metamask/rpc-errors":2484,react:5183,"react-redux":5141},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.UpgradeCancelModal=function({isOpen:e,onClose:t,onReject:n}){const a=(0,u.useI18nContext)(),m=(0,o.useDispatch)(),{currentConfirmation:p}=(0,d.useConfirmContext)(),{id:g}=p??{},h=null==p?void 0:p.chainId,y=(0,r.useCallback)((async()=>{const e=s.rpcErrors.methodNotSupported("User rejected account upgrade"),t=(0,s.serializeError)(e);await(0,c.disableAccountUpgradeForChain)(h),m((0,c.rejectPendingApproval)(g,t))}),[m,g,h]);if(!p)return null;return r.default.createElement(i.Modal,{isOpen:e,onClose:t,isClosedOnOutsideClick:!1,isClosedOnEscapeKey:!1},r.default.createElement(i.ModalOverlay,null),r.default.createElement(i.ModalContent,{size:i.ModalContentSize.Md},r.default.createElement(i.ModalHeader,{onClose:t},a("confirmUpgradeCancelModalTitle")),r.default.createElement(i.ModalBody,null,r.default.createElement(i.Text,{style:{whiteSpace:"pre-wrap"}},a("confirmUpgradeCancelModalDescription",[r.default.createElement("a",{key:"learnMoreLink",target:"_blank",rel:"noopener noreferrer",href:f.default.ACCOUNT_UPGRADE},a("learnMoreUpperCase"))]))),r.default.createElement(i.ModalFooter,null,r.default.createElement(i.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Column,alignItems:l.AlignItems.stretch,gap:4},r.default.createElement(i.Button,{onClick:y,variant:i.ButtonVariant.Secondary,"data-testid":"upgrade-cancel-reject-upgrade"},a("confirmUpgradeCancelModalButtonCancelUpgrade")),r.default.createElement(i.Button,{onClick:n,"data-testid":"upgrade-cancel-reject"},a("confirmUpgradeCancelModalButtonCancelTransaction"))))))};var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-redux"),s=e("@metamask/rpc-errors"),i=e("../../../../../../components/component-library"),l=e("../../../../../../helpers/constants/design-system"),u=e("../../../../../../hooks/useI18nContext"),c=e("../../../../../../store/actions"),d=e("../../../../context/confirm"),f=(a=e("../../../../../../helpers/constants/zendesk-url"))&&a.__esModule?a:{default:a};function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/footer/upgrade-cancel-modal/upgrade-cancel-modal.tsx"}],[6920,{"../../../../../components/component-library":6234,"../../../../../components/ui/tooltip":6634,"../../../../../helpers/constants/design-system":6688,"../../../../../hooks/useI18nContext":6794,"../../../../../store/actions":7400,"../../../selectors/preferences":7146,react:5183,"react-redux":5141},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.AdvancedDetailsButton=void 0;var a=d(e("react")),r=e("react-redux"),o=e("../../../../../components/component-library"),s=d(e("../../../../../components/ui/tooltip")),i=e("../../../../../helpers/constants/design-system"),l=e("../../../../../hooks/useI18nContext"),u=e("../../../../../store/actions"),c=e("../../../selectors/preferences");function d(e){return e&&e.__esModule?e:{default:e}}n.AdvancedDetailsButton=()=>{const e=(0,l.useI18nContext)(),t=(0,r.useDispatch)(),n=(0,r.useSelector)(c.selectConfirmationAdvancedDetailsOpen);return a.default.createElement(o.Box,{backgroundColor:n?i.BackgroundColor.infoMuted:i.BackgroundColor.transparent,borderRadius:i.BorderRadius.MD,marginRight:1},a.default.createElement(s.default,{title:e(n?"hideAdvancedDetails":"showAdvancedDetails")},a.default.createElement(o.ButtonIcon,{ariaLabel:"Advanced tx details",color:i.IconColor.iconDefault,iconName:o.IconName.Customize,"data-testid":"header-advanced-details-button",size:o.ButtonIconSize.Md,onClick:()=>{var e;e=!n,t((0,u.setConfirmationAdvancedDetailsOpen)(e))}})))}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/header/advanced-details-button.tsx"}],[6921,{"../../../../../components/component-library":6234,"../../../../../helpers/constants/design-system":6688,"../../../../../hooks/useI18nContext":6794,"./advanced-details-button":6920,react:5183},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.DAppInitiatedHeader=void 0;var a,r=(a=e("react"))&&a.__esModule?a:{default:a},o=e("../../../../../components/component-library"),s=e("../../../../../helpers/constants/design-system"),i=e("../../../../../hooks/useI18nContext"),l=e("./advanced-details-button");n.DAppInitiatedHeader=()=>{const e=(0,i.useI18nContext)();return r.default.createElement(o.Box,{display:s.Display.Flex,flexDirection:s.FlexDirection.Row,justifyContent:s.JustifyContent.center,alignItems:s.AlignItems.center,backgroundColor:s.BackgroundColor.backgroundDefault,padding:3,style:{zIndex:2,position:"relative"}},r.default.createElement(o.Text,{variant:s.TextVariant.headingMd,color:s.TextColor.inherit},e("transferRequest")),r.default.createElement(o.Box,{paddingRight:3,style:{marginLeft:"auto",position:"absolute",right:0}},r.default.createElement(l.AdvancedDetailsButton,null)))}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/header/dapp-initiated-header.tsx"}],[6922,{"../../../../../../shared/constants/metametrics":5654,"../../../../../../shared/lib/confirmation.utils":5684,"../../../../../components/app/confirm/info/row":5835,"../../../../../components/app/confirm/info/row/currency":5830,"../../../../../components/component-library":6234,"../../../../../components/multichain":6400,"../../../../../components/ui/identicon":6573,"../../../../../components/ui/tooltip/tooltip":6635,"../../../../../contexts/metametrics":6652,"../../../../../helpers/constants/design-system":6688,"../../../../../hooks/useI18nContext":6794,"../../../context/confirm":7088,"../../../hooks/useBalance":7114,"../../../hooks/useConfirmationRecipientInfo":7120,"../../../utils/confirm":7152,"./advanced-details-button":6920,react:5183},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=T(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("../../../../../../shared/constants/metametrics"),o=e("../../../../../components/app/confirm/info/row"),s=e("../../../../../components/app/confirm/info/row/currency"),i=e("../../../../../components/component-library"),l=e("../../../../../components/multichain"),u=b(e("../../../../../components/ui/tooltip/tooltip")),c=e("../../../../../contexts/metametrics"),d=e("../../../../../helpers/constants/design-system"),f=e("../../../../../hooks/useI18nContext"),m=e("../../../context/confirm"),p=e("../../../hooks/useBalance"),g=b(e("../../../hooks/useConfirmationRecipientInfo")),h=e("../../../utils/confirm"),y=e("../../../../../../shared/lib/confirmation.utils"),v=b(e("../../../../../components/ui/identicon")),k=e("./advanced-details-button");function b(e){return e&&e.__esModule?e:{default:e}}function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(T=function(e){return e?n:t})(e)}n.default=()=>{var e;const t=(0,a.useContext)(c.MetaMetricsContext),[n,b]=a.default.useState(!1),{currentConfirmation:T}=(0,m.useConfirmContext)(),{senderAddress:x,senderName:w}=(0,g.default)(),C=(0,f.useI18nContext)(),{balance:E}=(0,p.useBalance)(x),_=(0,h.isSignatureTransactionType)(T)?{location:r.MetaMetricsEventLocation.SignatureConfirmation,signature_type:null==T||null===(e=T.msgParams)||void 0===e?void 0:e.signatureMethod}:{location:r.MetaMetricsEventLocation.Transaction,transaction_type:null==T?void 0:T.type};const S=(0,y.isCorrectDeveloperTransactionType)(null==T?void 0:T.type);return a.default.createElement(a.default.Fragment,null,a.default.createElement(i.Box,{display:d.Display.Flex,justifyContent:d.JustifyContent.flexEnd,style:{alignSelf:"flex-end"}},a.default.createElement(u.default,{position:"bottom",title:C("accountDetails"),interactive:!0},a.default.createElement(i.ButtonIcon,{ariaLabel:C("accountDetails"),color:d.IconColor.iconDefault,iconName:i.IconName.Info,size:i.ButtonIconSize.Md,onClick:()=>{!function(){const e={category:r.MetaMetricsEventCategory.Confirmations,event:r.MetaMetricsEventName.AccountDetailsOpened,properties:{action:"Confirm Screen",..._}};t(e)}(),b(!0)},"data-testid":"header-info__account-details-button"})),S&&a.default.createElement(k.AdvancedDetailsButton,null)),a.default.createElement(i.Modal,{isOpen:n,onClose:()=>b(!1),"data-testid":"account-details-modal",isClosedOnEscapeKey:!1,isClosedOnOutsideClick:!1},a.default.createElement(i.ModalOverlay,null),a.default.createElement(i.ModalContent,null,a.default.createElement(i.ModalHeader,null,a.default.createElement(i.Box,{display:d.Display.Flex,justifyContent:d.JustifyContent.center,style:{position:"relative"}},a.default.createElement(i.Box,{style:{margin:"0 auto"},display:d.Display.Flex,justifyContent:d.JustifyContent.center,flexDirection:d.FlexDirection.Column,alignItems:d.AlignItems.center},a.default.createElement(v.default,{address:x,diameter:40}),a.default.createElement(i.Text,{fontWeight:d.FontWeight.Bold,variant:d.TextVariant.bodyMd,color:d.TextColor.textDefault,marginTop:2,"data-testid":"confirmation-account-details-modal__account-name"},w)),a.default.createElement(i.Box,{style:{position:"absolute",right:0}},a.default.createElement(i.ButtonIcon,{ariaLabel:C("close"),iconName:i.IconName.Close,size:i.ButtonIconSize.Sm,className:"confirm_header__close-button",onClick:()=>b(!1),"data-testid":"confirmation-account-details-modal__close-button"})))),a.default.createElement(i.ModalBody,null,a.default.createElement(o.ConfirmInfoRow,{label:"Account address"},a.default.createElement(l.AddressCopyButton,{address:x,shorten:!0})),a.default.createElement(o.ConfirmInfoRow,{label:"Balance"},a.default.createElement(s.ConfirmInfoRowCurrency,{value:E??0,"data-testid":"confirmation-account-details-modal__account-balance"}))))))}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/header/header-info.tsx"}]],[],{});