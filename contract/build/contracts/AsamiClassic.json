{
  "contractName": "AsamiClassic",
  "abi": [],
  "metadata": "{\"compiler\":{\"version\":\"0.8.19+commit.7dd6d404\"},\"language\":\"Solidity\",\"output\":{\"abi\":[],\"devdoc\":{\"kind\":\"dev\",\"methods\":{},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{},\"version\":1}},\"settings\":{\"compilationTarget\":{\"project:/contracts/AsamiClassic.sol\":\"AsamiClassic\"},\"evmVersion\":\"paris\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":20},\"remappings\":[]},\"sources\":{\"@openzeppelin/contracts/utils/Strings.sol\":{\"keccak256\":\"0x3088eb2868e8d13d89d16670b5f8612c4ab9ff8956272837d8e90106c59c14a0\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://b81d9ff6559ea5c47fc573e17ece6d9ba5d6839e213e6ebc3b4c5c8fe4199d7f\",\"dweb:/ipfs/QmPCW1bFisUzJkyjroY3yipwfism9RRCigCcK1hbXtVM8n\"]},\"@openzeppelin/contracts/utils/math/Math.sol\":{\"keccak256\":\"0xe4455ac1eb7fc497bb7402579e7b4d64d928b846fce7d2b6fde06d366f21c2b3\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://cc8841b3cd48ad125e2f46323c8bad3aa0e88e399ec62acb9e57efa7e7c8058c\",\"dweb:/ipfs/QmSqE4mXHA2BXW58deDbXE8MTcsL5JSKNDbm23sVQxRLPS\"]},\"@openzeppelin/contracts/utils/math/SignedMath.sol\":{\"keccak256\":\"0xf92515413956f529d95977adc9b0567d583c6203fc31ab1c23824c35187e3ddc\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://c50fcc459e49a9858b6d8ad5f911295cb7c9ab57567845a250bf0153f84a95c7\",\"dweb:/ipfs/QmcEW85JRzvDkQggxiBBLVAasXWdkhEysqypj9EaB6H2g6\"]},\"project:/contracts/AsamiClassic.sol\":{\"keccak256\":\"0xbd20a9249173a6c6e33a83582edb3a73e1149bab7eb431eec0c7739c6cdce170\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://c59c6955ab76daeeb52b7fba3b6a43fd07cbf7b55e8cc05924b9d17d712f1a5e\",\"dweb:/ipfs/QmaG5zYFJ3L3HRiuDWVQXDzh17g1xH4LmgtiGP1yd91RTW\"]}},\"version\":1}",
  "bytecode": "0x60566037600b82828239805160001a607314602a57634e487b7160e01b600052600060045260246000fd5b30600052607381538281f3fe73000000000000000000000000000000000000000030146080604052600080fdfea2646970667358221220d7e1ff2af82284c54f8808e0e9580b707ade79d1155e7464b914dcaa5519665b64736f6c63430008130033",
  "deployedBytecode": "0x73000000000000000000000000000000000000000030146080604052600080fdfea2646970667358221220d7e1ff2af82284c54f8808e0e9580b707ade79d1155e7464b914dcaa5519665b64736f6c63430008130033",
  "immutableReferences": {},
  "generatedSources": [],
  "deployedGeneratedSources": [],
  "sourceMap": "109:1559:9:-:0;;;;;;;;;;;;;;;-1:-1:-1;;;109:1559:9;;;;;;;;;;;;;;;;;",
  "deployedSourceMap": "109:1559:9:-:0;;;;;;;;",
  "source": "// SPDX-License-Identifier: MIT\npragma solidity ^0.8.9;\nimport \"@openzeppelin/contracts/utils/Strings.sol\";\n\nlibrary AsamiClassic {\n    enum OfferState {\n      // The offer is assumed to be published.\n      Assumed,\n\n      // The advertiser has challenged the message publication.\n      Challenged, \n\n      // The collaborator (or someone else) has paid the oracle to confirm publication.\n      ConfirmationRequested,\n\n      // The oracle has confirmed the message has been published.\n      Confirmed,\n\n      // The oracle could not confirm the message publication. The offer will be refunded.\n      Refuted,\n\n      // The collaborator has renounced \n      Renounced,\n\n      // The advertiser has reported the publication has been deleted before the campaign ended.\n      // The oracle will either confirm the deletion or will move the offer back to the confirmed state.\n      DeletionReported,\n\n      // The oracle has confirmed the publication was deleted early. The reward will not be paid. The collaborator will be penalized.\n      DeletionConfirmed\n    }\n\n    struct NewOffer {\n        uint256 rewardAmount;\n        address rewardAddress;\n        string username;\n    }\n\n    struct Offer {\n        OfferState state;\n        string username;\n        uint256 rewardAmount;\n        address rewardAddress;\n        string publicationUrl;\n        uint deletionReportedAt;\n        bool advertiserCollected;\n        bool collaboratorCollected;\n        bool oracleCollected;\n    }\n\n    struct Terms {\n        uint socialNetworkId;\n        string rulesUrl;\n        bytes32 rulesHash;\n        address oracleAddress;\n        uint256 oracleFee;\n        Offer[] offers;\n    }\n}\n",
  "sourcePath": "/home/nubis/asami/contract/contracts/AsamiClassic.sol",
  "ast": {
    "absolutePath": "project:/contracts/AsamiClassic.sol",
    "exportedSymbols": {
      "AsamiClassic": [
        2180
      ],
      "Math": [
        1919
      ],
      "SignedMath": [
        2024
      ],
      "Strings": [
        1053
      ]
    },
    "id": 2181,
    "license": "MIT",
    "nodeType": "SourceUnit",
    "nodes": [
      {
        "id": 2127,
        "literals": [
          "solidity",
          "^",
          "0.8",
          ".9"
        ],
        "nodeType": "PragmaDirective",
        "src": "32:23:9"
      },
      {
        "absolutePath": "@openzeppelin/contracts/utils/Strings.sol",
        "file": "@openzeppelin/contracts/utils/Strings.sol",
        "id": 2128,
        "nameLocation": "-1:-1:-1",
        "nodeType": "ImportDirective",
        "scope": 2181,
        "sourceUnit": 1054,
        "src": "56:51:9",
        "symbolAliases": [],
        "unitAlias": ""
      },
      {
        "abstract": false,
        "baseContracts": [],
        "canonicalName": "AsamiClassic",
        "contractDependencies": [],
        "contractKind": "library",
        "fullyImplemented": true,
        "id": 2180,
        "linearizedBaseContracts": [
          2180
        ],
        "name": "AsamiClassic",
        "nameLocation": "117:12:9",
        "nodeType": "ContractDefinition",
        "nodes": [
          {
            "canonicalName": "AsamiClassic.OfferState",
            "id": 2137,
            "members": [
              {
                "id": 2129,
                "name": "Assumed",
                "nameLocation": "207:7:9",
                "nodeType": "EnumValue",
                "src": "207:7:9"
              },
              {
                "id": 2130,
                "name": "Challenged",
                "nameLocation": "287:10:9",
                "nodeType": "EnumValue",
                "src": "287:10:9"
              },
              {
                "id": 2131,
                "name": "ConfirmationRequested",
                "nameLocation": "395:21:9",
                "nodeType": "EnumValue",
                "src": "395:21:9"
              },
              {
                "id": 2132,
                "name": "Confirmed",
                "nameLocation": "491:9:9",
                "nodeType": "EnumValue",
                "src": "491:9:9"
              },
              {
                "id": 2133,
                "name": "Refuted",
                "nameLocation": "600:7:9",
                "nodeType": "EnumValue",
                "src": "600:7:9"
              },
              {
                "id": 2134,
                "name": "Renounced",
                "nameLocation": "657:9:9",
                "nodeType": "EnumValue",
                "src": "657:9:9"
              },
              {
                "id": 2135,
                "name": "DeletionReported",
                "nameLocation": "877:16:9",
                "nodeType": "EnumValue",
                "src": "877:16:9"
              },
              {
                "id": 2136,
                "name": "DeletionConfirmed",
                "nameLocation": "1036:17:9",
                "nodeType": "EnumValue",
                "src": "1036:17:9"
              }
            ],
            "name": "OfferState",
            "nameLocation": "141:10:9",
            "nodeType": "EnumDefinition",
            "src": "136:923:9"
          },
          {
            "canonicalName": "AsamiClassic.NewOffer",
            "id": 2144,
            "members": [
              {
                "constant": false,
                "id": 2139,
                "mutability": "mutable",
                "name": "rewardAmount",
                "nameLocation": "1099:12:9",
                "nodeType": "VariableDeclaration",
                "scope": 2144,
                "src": "1091:20:9",
                "stateVariable": false,
                "storageLocation": "default",
                "typeDescriptions": {
                  "typeIdentifier": "t_uint256",
                  "typeString": "uint256"
                },
                "typeName": {
                  "id": 2138,
                  "name": "uint256",
                  "nodeType": "ElementaryTypeName",
                  "src": "1091:7:9",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  }
                },
                "visibility": "internal"
              },
              {
                "constant": false,
                "id": 2141,
                "mutability": "mutable",
                "name": "rewardAddress",
                "nameLocation": "1129:13:9",
                "nodeType": "VariableDeclaration",
                "scope": 2144,
                "src": "1121:21:9",
                "stateVariable": false,
                "storageLocation": "default",
                "typeDescriptions": {
                  "typeIdentifier": "t_address",
                  "typeString": "address"
                },
                "typeName": {
                  "id": 2140,
                  "name": "address",
                  "nodeType": "ElementaryTypeName",
                  "src": "1121:7:9",
                  "stateMutability": "nonpayable",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  }
                },
                "visibility": "internal"
              },
              {
                "constant": false,
                "id": 2143,
                "mutability": "mutable",
                "name": "username",
                "nameLocation": "1159:8:9",
                "nodeType": "VariableDeclaration",
                "scope": 2144,
                "src": "1152:15:9",
                "stateVariable": false,
                "storageLocation": "default",
                "typeDescriptions": {
                  "typeIdentifier": "t_string_storage_ptr",
                  "typeString": "string"
                },
                "typeName": {
                  "id": 2142,
                  "name": "string",
                  "nodeType": "ElementaryTypeName",
                  "src": "1152:6:9",
                  "typeDescriptions": {
                    "typeIdentifier": "t_string_storage_ptr",
                    "typeString": "string"
                  }
                },
                "visibility": "internal"
              }
            ],
            "name": "NewOffer",
            "nameLocation": "1072:8:9",
            "nodeType": "StructDefinition",
            "scope": 2180,
            "src": "1065:109:9",
            "visibility": "public"
          },
          {
            "canonicalName": "AsamiClassic.Offer",
            "id": 2164,
            "members": [
              {
                "constant": false,
                "id": 2147,
                "mutability": "mutable",
                "name": "state",
                "nameLocation": "1214:5:9",
                "nodeType": "VariableDeclaration",
                "scope": 2164,
                "src": "1203:16:9",
                "stateVariable": false,
                "storageLocation": "default",
                "typeDescriptions": {
                  "typeIdentifier": "t_enum$_OfferState_$2137",
                  "typeString": "enum AsamiClassic.OfferState"
                },
                "typeName": {
                  "id": 2146,
                  "nodeType": "UserDefinedTypeName",
                  "pathNode": {
                    "id": 2145,
                    "name": "OfferState",
                    "nameLocations": [
                      "1203:10:9"
                    ],
                    "nodeType": "IdentifierPath",
                    "referencedDeclaration": 2137,
                    "src": "1203:10:9"
                  },
                  "referencedDeclaration": 2137,
                  "src": "1203:10:9",
                  "typeDescriptions": {
                    "typeIdentifier": "t_enum$_OfferState_$2137",
                    "typeString": "enum AsamiClassic.OfferState"
                  }
                },
                "visibility": "internal"
              },
              {
                "constant": false,
                "id": 2149,
                "mutability": "mutable",
                "name": "username",
                "nameLocation": "1236:8:9",
                "nodeType": "VariableDeclaration",
                "scope": 2164,
                "src": "1229:15:9",
                "stateVariable": false,
                "storageLocation": "default",
                "typeDescriptions": {
                  "typeIdentifier": "t_string_storage_ptr",
                  "typeString": "string"
                },
                "typeName": {
                  "id": 2148,
                  "name": "string",
                  "nodeType": "ElementaryTypeName",
                  "src": "1229:6:9",
                  "typeDescriptions": {
                    "typeIdentifier": "t_string_storage_ptr",
                    "typeString": "string"
                  }
                },
                "visibility": "internal"
              },
              {
                "constant": false,
                "id": 2151,
                "mutability": "mutable",
                "name": "rewardAmount",
                "nameLocation": "1262:12:9",
                "nodeType": "VariableDeclaration",
                "scope": 2164,
                "src": "1254:20:9",
                "stateVariable": false,
                "storageLocation": "default",
                "typeDescriptions": {
                  "typeIdentifier": "t_uint256",
                  "typeString": "uint256"
                },
                "typeName": {
                  "id": 2150,
                  "name": "uint256",
                  "nodeType": "ElementaryTypeName",
                  "src": "1254:7:9",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  }
                },
                "visibility": "internal"
              },
              {
                "constant": false,
                "id": 2153,
                "mutability": "mutable",
                "name": "rewardAddress",
                "nameLocation": "1292:13:9",
                "nodeType": "VariableDeclaration",
                "scope": 2164,
                "src": "1284:21:9",
                "stateVariable": false,
                "storageLocation": "default",
                "typeDescriptions": {
                  "typeIdentifier": "t_address",
                  "typeString": "address"
                },
                "typeName": {
                  "id": 2152,
                  "name": "address",
                  "nodeType": "ElementaryTypeName",
                  "src": "1284:7:9",
                  "stateMutability": "nonpayable",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  }
                },
                "visibility": "internal"
              },
              {
                "constant": false,
                "id": 2155,
                "mutability": "mutable",
                "name": "publicationUrl",
                "nameLocation": "1322:14:9",
                "nodeType": "VariableDeclaration",
                "scope": 2164,
                "src": "1315:21:9",
                "stateVariable": false,
                "storageLocation": "default",
                "typeDescriptions": {
                  "typeIdentifier": "t_string_storage_ptr",
                  "typeString": "string"
                },
                "typeName": {
                  "id": 2154,
                  "name": "string",
                  "nodeType": "ElementaryTypeName",
                  "src": "1315:6:9",
                  "typeDescriptions": {
                    "typeIdentifier": "t_string_storage_ptr",
                    "typeString": "string"
                  }
                },
                "visibility": "internal"
              },
              {
                "constant": false,
                "id": 2157,
                "mutability": "mutable",
                "name": "deletionReportedAt",
                "nameLocation": "1351:18:9",
                "nodeType": "VariableDeclaration",
                "scope": 2164,
                "src": "1346:23:9",
                "stateVariable": false,
                "storageLocation": "default",
                "typeDescriptions": {
                  "typeIdentifier": "t_uint256",
                  "typeString": "uint256"
                },
                "typeName": {
                  "id": 2156,
                  "name": "uint",
                  "nodeType": "ElementaryTypeName",
                  "src": "1346:4:9",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  }
                },
                "visibility": "internal"
              },
              {
                "constant": false,
                "id": 2159,
                "mutability": "mutable",
                "name": "advertiserCollected",
                "nameLocation": "1384:19:9",
                "nodeType": "VariableDeclaration",
                "scope": 2164,
                "src": "1379:24:9",
                "stateVariable": false,
                "storageLocation": "default",
                "typeDescriptions": {
                  "typeIdentifier": "t_bool",
                  "typeString": "bool"
                },
                "typeName": {
                  "id": 2158,
                  "name": "bool",
                  "nodeType": "ElementaryTypeName",
                  "src": "1379:4:9",
                  "typeDescriptions": {
                    "typeIdentifier": "t_bool",
                    "typeString": "bool"
                  }
                },
                "visibility": "internal"
              },
              {
                "constant": false,
                "id": 2161,
                "mutability": "mutable",
                "name": "collaboratorCollected",
                "nameLocation": "1418:21:9",
                "nodeType": "VariableDeclaration",
                "scope": 2164,
                "src": "1413:26:9",
                "stateVariable": false,
                "storageLocation": "default",
                "typeDescriptions": {
                  "typeIdentifier": "t_bool",
                  "typeString": "bool"
                },
                "typeName": {
                  "id": 2160,
                  "name": "bool",
                  "nodeType": "ElementaryTypeName",
                  "src": "1413:4:9",
                  "typeDescriptions": {
                    "typeIdentifier": "t_bool",
                    "typeString": "bool"
                  }
                },
                "visibility": "internal"
              },
              {
                "constant": false,
                "id": 2163,
                "mutability": "mutable",
                "name": "oracleCollected",
                "nameLocation": "1454:15:9",
                "nodeType": "VariableDeclaration",
                "scope": 2164,
                "src": "1449:20:9",
                "stateVariable": false,
                "storageLocation": "default",
                "typeDescriptions": {
                  "typeIdentifier": "t_bool",
                  "typeString": "bool"
                },
                "typeName": {
                  "id": 2162,
                  "name": "bool",
                  "nodeType": "ElementaryTypeName",
                  "src": "1449:4:9",
                  "typeDescriptions": {
                    "typeIdentifier": "t_bool",
                    "typeString": "bool"
                  }
                },
                "visibility": "internal"
              }
            ],
            "name": "Offer",
            "nameLocation": "1187:5:9",
            "nodeType": "StructDefinition",
            "scope": 2180,
            "src": "1180:296:9",
            "visibility": "public"
          },
          {
            "canonicalName": "AsamiClassic.Terms",
            "id": 2179,
            "members": [
              {
                "constant": false,
                "id": 2166,
                "mutability": "mutable",
                "name": "socialNetworkId",
                "nameLocation": "1510:15:9",
                "nodeType": "VariableDeclaration",
                "scope": 2179,
                "src": "1505:20:9",
                "stateVariable": false,
                "storageLocation": "default",
                "typeDescriptions": {
                  "typeIdentifier": "t_uint256",
                  "typeString": "uint256"
                },
                "typeName": {
                  "id": 2165,
                  "name": "uint",
                  "nodeType": "ElementaryTypeName",
                  "src": "1505:4:9",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  }
                },
                "visibility": "internal"
              },
              {
                "constant": false,
                "id": 2168,
                "mutability": "mutable",
                "name": "rulesUrl",
                "nameLocation": "1542:8:9",
                "nodeType": "VariableDeclaration",
                "scope": 2179,
                "src": "1535:15:9",
                "stateVariable": false,
                "storageLocation": "default",
                "typeDescriptions": {
                  "typeIdentifier": "t_string_storage_ptr",
                  "typeString": "string"
                },
                "typeName": {
                  "id": 2167,
                  "name": "string",
                  "nodeType": "ElementaryTypeName",
                  "src": "1535:6:9",
                  "typeDescriptions": {
                    "typeIdentifier": "t_string_storage_ptr",
                    "typeString": "string"
                  }
                },
                "visibility": "internal"
              },
              {
                "constant": false,
                "id": 2170,
                "mutability": "mutable",
                "name": "rulesHash",
                "nameLocation": "1568:9:9",
                "nodeType": "VariableDeclaration",
                "scope": 2179,
                "src": "1560:17:9",
                "stateVariable": false,
                "storageLocation": "default",
                "typeDescriptions": {
                  "typeIdentifier": "t_bytes32",
                  "typeString": "bytes32"
                },
                "typeName": {
                  "id": 2169,
                  "name": "bytes32",
                  "nodeType": "ElementaryTypeName",
                  "src": "1560:7:9",
                  "typeDescriptions": {
                    "typeIdentifier": "t_bytes32",
                    "typeString": "bytes32"
                  }
                },
                "visibility": "internal"
              },
              {
                "constant": false,
                "id": 2172,
                "mutability": "mutable",
                "name": "oracleAddress",
                "nameLocation": "1595:13:9",
                "nodeType": "VariableDeclaration",
                "scope": 2179,
                "src": "1587:21:9",
                "stateVariable": false,
                "storageLocation": "default",
                "typeDescriptions": {
                  "typeIdentifier": "t_address",
                  "typeString": "address"
                },
                "typeName": {
                  "id": 2171,
                  "name": "address",
                  "nodeType": "ElementaryTypeName",
                  "src": "1587:7:9",
                  "stateMutability": "nonpayable",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  }
                },
                "visibility": "internal"
              },
              {
                "constant": false,
                "id": 2174,
                "mutability": "mutable",
                "name": "oracleFee",
                "nameLocation": "1626:9:9",
                "nodeType": "VariableDeclaration",
                "scope": 2179,
                "src": "1618:17:9",
                "stateVariable": false,
                "storageLocation": "default",
                "typeDescriptions": {
                  "typeIdentifier": "t_uint256",
                  "typeString": "uint256"
                },
                "typeName": {
                  "id": 2173,
                  "name": "uint256",
                  "nodeType": "ElementaryTypeName",
                  "src": "1618:7:9",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  }
                },
                "visibility": "internal"
              },
              {
                "constant": false,
                "id": 2178,
                "mutability": "mutable",
                "name": "offers",
                "nameLocation": "1653:6:9",
                "nodeType": "VariableDeclaration",
                "scope": 2179,
                "src": "1645:14:9",
                "stateVariable": false,
                "storageLocation": "default",
                "typeDescriptions": {
                  "typeIdentifier": "t_array$_t_struct$_Offer_$2164_storage_$dyn_storage_ptr",
                  "typeString": "struct AsamiClassic.Offer[]"
                },
                "typeName": {
                  "baseType": {
                    "id": 2176,
                    "nodeType": "UserDefinedTypeName",
                    "pathNode": {
                      "id": 2175,
                      "name": "Offer",
                      "nameLocations": [
                        "1645:5:9"
                      ],
                      "nodeType": "IdentifierPath",
                      "referencedDeclaration": 2164,
                      "src": "1645:5:9"
                    },
                    "referencedDeclaration": 2164,
                    "src": "1645:5:9",
                    "typeDescriptions": {
                      "typeIdentifier": "t_struct$_Offer_$2164_storage_ptr",
                      "typeString": "struct AsamiClassic.Offer"
                    }
                  },
                  "id": 2177,
                  "nodeType": "ArrayTypeName",
                  "src": "1645:7:9",
                  "typeDescriptions": {
                    "typeIdentifier": "t_array$_t_struct$_Offer_$2164_storage_$dyn_storage_ptr",
                    "typeString": "struct AsamiClassic.Offer[]"
                  }
                },
                "visibility": "internal"
              }
            ],
            "name": "Terms",
            "nameLocation": "1489:5:9",
            "nodeType": "StructDefinition",
            "scope": 2180,
            "src": "1482:184:9",
            "visibility": "public"
          }
        ],
        "scope": 2181,
        "src": "109:1559:9",
        "usedErrors": []
      }
    ],
    "src": "32:1637:9"
  },
  "compiler": {
    "name": "solc",
    "version": "0.8.19+commit.7dd6d404.Emscripten.clang"
  },
  "networks": {},
  "schemaVersion": "3.4.15",
  "updatedAt": "2023-10-20T18:34:39.704Z",
  "devdoc": {
    "kind": "dev",
    "methods": {},
    "version": 1
  },
  "userdoc": {
    "kind": "user",
    "methods": {},
    "version": 1
  }
}